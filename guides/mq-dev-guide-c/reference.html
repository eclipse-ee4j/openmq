
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>Reference</b><br />
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="client-design-issues.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="capi-error-codes.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="GMCCG00005"></a><a id="aeldi"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reference">4 Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides reference documentation for the Message Queue
C-API. It includes information about the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#aeldj">Data Types</a> describes the C declarations for data types
used by Message Queue messaging</p>
</li>
<li>
<p><a href="#aeldo">Function Reference</a> describes the C functions that
implement Message Queue messaging</p>
</li>
<li>
<p><a href="#aelgo">Header Files</a> describes the contents of the C-API header
files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on building C-Message Queue programs, see
<a href="client-design-issues.html#aelcp">Client Design Issues</a>.</p>
</div>
<div class="paragraph">
<p>For information on how you use the C API to complete specific
programming tasks, see <a href="using-the-c-api.html#aelba">Using the C API</a>.</p>
</div>
<div class="paragraph">
<p><a id="aeldj"></a><a id="GMCCG00056"></a><a id="data-types"></a></p>
</div>
<div class="sect2">
<h3 id="_data_types">Data Types</h3>
<div class="paragraph">
<p><a href="#aeldj">Data Types</a> summarizes the data types defined by the Message
Queue C API. The table lists data types in alphabetical order and
provides cross references for types that require broader discussion.</p>
</div>
<div class="paragraph">
<p>Note that Message Queue data types designated as handles map to opaque
structures (objects). Please do not attempt to dereference these handles
to get to the underlying objects. Instead, use the functions provided to
access the referenced objects.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG441"></a><a id="sthref25"></a><a id="gblzn"></a></p>
</div>
<div class="paragraph">
<p>Table 4-1 Message Queue C-API Data Type Summary</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 48%;">
<col style="width: 52%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Queue Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConstMQString</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A constant <code>MQString</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQAckMode</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>enum</code> used to specify the acknowledgement mode of a session.
Possible values include the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_AUTO_ACKNOWLEDGE</code></p>
</li>
<li>
<p><code>MQ_CLIENT_ACKNOWLEDGE</code></p>
</li>
<li>
<p><code>MQ_DUPS_OK_ACKNOWLEDGE</code></p>
</li>
<li>
<p><code>MQ_SESSION_TRANSACTED</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="#aeldl">Acknowledge Modes</a> for more information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQBool</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A boolean that can assume one of two values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_TRUE(=1)
MQ_FALSE(=0).</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQChar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>char</code> type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQConnectionHandle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle used to reference a Message Queue
connection. You get this handle when you call the
<a href="#aeldy">MQCreateConnection</a> function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQConsumerHandle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle used to reference a Message Queue
consumer. A consumer can be durable, nondurable and synchronous, or
asynchronous. You get this handle when you call one of the functions
used to create consumers. See <a href="using-the-c-api.html#aelch">Receiving
Messages</a> for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQDeliveryMode</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>enum</code> used to specify whether a message is sent persistently:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_NON_PERSISTENT_DELIVERY</code></p>
</li>
<li>
<p><code>MQ_PERSISTENT_DELIVERY</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You specify this value with the <a href="#aelfu">MQSendMessageExt</a> function
or the <a href="#aelfw">MQSendMessageToDestinationExt</a> function.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQDestinationHandle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle used to reference a Message Queue
destination. You get this handle when you call the
<a href="#aeleb">MQCreateDestination</a> function or the
<a href="#aelei">MQCreateTemporaryDestination</a> function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQDestinationType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An enum used to specify the type of a destination:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_QUEUE_DESTINATION</code></p>
</li>
<li>
<p><code>MQ_TOPIC_DESTINATION</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You set the destination type using the <a href="#aeleb">MQCreateDestination</a>
function or the <a href="#aelei">MQCreateTemporaryDestination</a> function.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQError</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 32-bit unsigned integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQConnectionExceptionListenerFunc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of a callback function
used for connection exception handling. For more information, see
<a href="#aeldn">Callback Type for Connection Exception Handling</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQFloat32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 32-bit floating-point number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQFloat64</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 64-bit floating-point number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQInt16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 16-bit signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQInt32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 32-bit signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQInt64</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 64-bit signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQInt8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An 8-bit signed integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQMessageHandle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle used to reference a Message Queue message.
You get this handle when you call the <a href="#aeldx">MQCreateBytesMessage</a>
function, or the <a href="#aelej">MQCreateTextMessage</a> function, or on
receipt of a message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQMessageListenerFunc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of a callback function used for
asynchronous message receipt. For more information, see
<a href="#aeldm">Callback Type for Asynchronous Message Consumption</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQMessageType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>enum</code> passed back by the <a href="#aelfd">MQGetMessageType</a> and used to
specify the type of a message; possible values include the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_TEXT_MESSAGE</code></p>
</li>
<li>
<p><code>MQ_BYTES_MESSAGE</code></p>
</li>
<li>
<p><code>MQ_MESSAGE</code></p>
</li>
<li>
<p><code>MQ_UNSUPPORTED_MESSAGE</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQProducerHandle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle used to reference a Message Queue
producer. You get this handle when you call
<a href="#aelee">MQCreateMessageProducer</a> or
<a href="#aelef">MQCreateMessageProducerForDestination</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQPropertiesHandle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle used to reference Message Queue
properties. You use this handle to define or read connection properties
and message headers or message properties. See
<a href="using-the-c-api.html#aelbd">Working With Properties</a> for more
information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQReceiveMode</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>enum</code> used to specify whether consumers are synchronous or
asynchronous. It can be one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_SESSION_SYNC_RECEIVE</code></p>
</li>
<li>
<p><code>MQ_SESSION_ASYNC_RECEIVE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="#aeleh">MQCreateSession</a> for more information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQSessionHandle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A handle used to reference a Message Queue session.
You get this handle when you call the <a href="#aeleh">MQCreateSession</a>
function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQStatus</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A data type returned by nearly all functions defined in
<code>mqcrt.h</code>. See <a href="using-the-c-api.html#aelcm">Error Handling</a> for more
information on how you handle errors returned by Message Queue
functions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQString</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A null terminated UTF-8 encoded character string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>enum</code> used to return the type of a single property; possible values
include the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_INT8_TYPE</code></p>
</li>
<li>
<p><code>MQ_INT16_TYPE</code></p>
</li>
<li>
<p><code>MQ_INT32_TYPE</code></p>
</li>
<li>
<p><code>MQ_INT64_TYPE</code></p>
</li>
<li>
<p><code>MQ_FLOAT32_TYPE</code></p>
</li>
<li>
<p><code>MQ_FLOAT64_TYPE</code></p>
</li>
<li>
<p><code>MQ_STRING_TYPE</code></p>
</li>
<li>
<p><code>MQ_INVALID_TYPE</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="aeldk"></a><a id="GMCCG00333"></a><a id="connection-properties"></a></p>
</div>
<div class="sect3">
<h4 id="_connection_properties">Connection Properties</h4>
<div class="paragraph">
<p>When you create a connection using the <a href="#aeldy">MQCreateConnection</a>
function, you must pass a handle to an object of type
<code>MQPropertiesHandle</code>. The following table lists and describes the key
values that define each property. The procedure that follows the table
explains how you set the properties referenced by this handle.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG442"></a><a id="sthref26"></a><a id="gcsrb"></a></p>
</div>
<div class="paragraph">
<p>Table 4-2 Connection Properties</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44%;">
<col style="width: 56%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_CONNECTION_TYPE_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQString</code> specifying the transport protocol of the connection
service used by the client. Supported types are <code>TCP</code> or <code>TLS</code> (<code>SSL</code>).
The TCP protocol underlies the <code>jms</code> service; the TLS protocol supports
the <code>ssljms</code> service.</p>
</div>
<div class="paragraph">
<p>Default: <code>TCP</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_ACK_TIMEOUT_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A 32-bit integer specifying the maximum time in milliseconds that the
client runtime will wait for any broker acknowledgement before returning
an <code>MQ_TIMEOUT_EXPIRED</code> error. A value of 0 means there is no time-out.</p>
</div>
<div class="paragraph">
<p>Default: <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_BROKER_HOST_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQString</code> specifying the broker host name to which to connect.</p>
</div>
<div class="paragraph">
<p>If you set the property MQ_SSL_BROKER_IS_TRUSTED to <code>false</code>, the value
you specify for the property MQ_BROKER_HOST_PROPERTY must match the CN
(common name) of the broker&#8217;s certificate.</p>
</div>
<div class="paragraph">
<p>No default.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_PING_INTERVAL_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A 32-bit integer specifying the interval (in seconds) that the
connection can remain idle before the client runtime tests the
connection by pinging the broker. (The exact amount of time it takes for
the ping to detect connection failure varies with the system&#8217;s TCP
configuration.)</p>
</div>
<div class="paragraph">
<p>A ping interval that is &#8656; 0 turns off the ping for the connection. The
minimum allowable interval is 1 second. This prevents an application
from setting the interval to a value that would affect performance.</p>
</div>
<div class="paragraph">
<p>The ping interval is logged at the INFO level by the C client runtime
when a connection is created.</p>
</div>
<div class="paragraph">
<p>Default: <code>30</code> seconds</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_BROKER_PORT_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A 32-bit integer specifying the number of the port for the broker&#8217;s port
mapper service.</p>
</div>
<div class="paragraph">
<p>No default.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SERVICE_PORT_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 32–bit integer that specifies the number of a port to which the
client connects. This is a static, fixed port assignment; it bypasses
the broker&#8217;s port mapper service. If you do need to connect to a fixed
port on the broker, make sure that the service needed is enabled and
available at the specified port by setting the
<code>imq</code>.serviceName.protocolType.<code>port</code> broker property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_ACK_ON_PRODUCE_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQBool</code> specifying whether the producing client waits for broker
acknowledgement of receipt of message from the producing client.</p>
</div>
<div class="paragraph">
<p>If set to <code>MQ_TRUE</code>, the broker acknowledges receipt of all messages
(persistent and non-persistent) from the producing client, and the
producing client thread will block waiting for those acknowledgements.</p>
</div>
<div class="paragraph">
<p>If set to <code>MQ_FALSE</code>, broker does not acknowledge receipt of any message
(persistent or non-persistent) from the producing client, and the
producing client thread will not block waiting for broker
acknowledgements.</p>
</div>
<div class="paragraph">
<p>Default: the broker acknowledges receipt of persistent messages only
from the producing client, and the producing client thread will block
waiting for those acknowledgements.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_ACK_ON_ACKNOWLEDGE_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQBool</code> specifying whether the broker confirms (acknowledges)
consumer acknowledgements. A consumer acknowledgement can be initiated
either by the client&#8217;s session or by the consuming client, depending on
the session acknowledgement mode (see <a href="#aeldl">Acknowledge Modes</a>).
If the session&#8217;s acknowledgement mode is <code>MQ_DUPS_OK_ACKNOWLEDGE</code>, this
flag has no effect.</p>
</div>
<div class="paragraph">
<p>If set to <code>MQ_TRUE</code>, the broker acknowledges all consuming
acknowledgements, and the consuming client thread blocks waiting for
these broker acknowledgements.</p>
</div>
<div class="paragraph">
<p>If set to <code>MQ_FALSE</code>, the broker does not acknowledge any consuming
client acknowledgements, and the consuming client thread will not block
waiting for such broker acknowledgements.</p>
</div>
<div class="paragraph">
<p>Default: <code>MQ_TRUE</code></p>
</div>
<div class="paragraph">
<p>For more information, see the discussion for the
<a href="#aeldp">MQAcknowledgeMessages</a> function and
<a href="using-the-c-api.html#aelbt">Message Acknowledgement</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_CONNECTION_FLOW_COUNT_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A 32-bit integer, greater than 0, specifying the number of Message Queue
messages in a metered batch. When this number of messages is delivered
from the broker to the client runtime, delivery is temporarily
suspended, allowing any control messages that had been held up to be
delivered. Payload message delivery is resumed upon notification by the
client runtime, and continues until the count is again reached.</p>
</div>
<div class="paragraph">
<p>Default: <code>100</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_CONNECTION_FLOW_LIMIT_ENBABLED_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQBool</code> specifying whether the value
<code>MQ_CONNECTION_FLOW_LIMIT_PROPERTY</code> is used to control message flow.
Specify <code>MQ_TRUE</code> to use the value and <code>MQ_FALSE</code> otherwise.</p>
</div>
<div class="paragraph">
<p>Default: <code>MQ_FALSE</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_CONNECTION_FLOW_LIMIT_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A 32-bit integer, greater than 0, specifying the maximum number of
unconsumed messages the client runtime can hold for each connection.
Note however, that unless <code>MQ_CONNECTION_FLOW_LIMIT_ENBABLED_PROPERTY</code>
is <code>MQ_TRUE</code>, this limit is not checked.</p>
</div>
<div class="paragraph">
<p>When the number of unconsumed messages held by the client runtime for
the connection exceeds the limit, message delivery stops. It is resumed
(in accordance with the flow metering governed by
<code>MQ_CONNECTION_FLOW_COUNT_PROPERTY</code>) only when the number of unconsumed
messages drops below the value set with this property.</p>
</div>
<div class="paragraph">
<p>This limit prevents a consuming client that is taking a long time to
process messages from being overwhelmed with pending messages that might
cause it to run out of memory.</p>
</div>
<div class="paragraph">
<p>Default: <code>1000</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SSL_BROKER_IS_TRUSTED</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQ_Bool</code> specifying whether the broker is trusted.</p>
</div>
<div class="paragraph">
<p>Default: <code>MQ_TRUE</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SSL_CHECK_BROKER_FINGERPRINT</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQ_Bool</code>. If it is set to <code>MQ_TRUE</code> and if
<code>MQ_SSL_BROKER_IS_TRUSTED</code> is <code>MQ_FALSE</code>, the broker&#8217;s certificate
fingerprint is compared with the <code>MQ_SSL_BROKER_CERT_FINGERPRINT</code>
property value in case of certificate authorization failure. If they
match, the broker&#8217;s certificate is authorized for use in the SSL
connection.</p>
</div>
<div class="paragraph">
<p>Default: <code>MQ_FALSE</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SSL_BROKER_CERT_FINGERPRIN</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQString</code> specifying the MD5 hash, in hex format, of the broker&#8217;s
certificate.</p>
</div>
<div class="paragraph">
<p>Default: <code>NULL</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NAME_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An <code>MQString</code> that specifies the name of the Message Queue product.
This property is set by the runtime library. See
<a href="#aelfe">MQGetMetaData</a> for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_VERSION_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An <code>MQInt32</code> that specifies the version of the Message Queue product.
This property is set by the runtime library. See
<a href="#aelfe">MQGetMetaData</a> for more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_MAJOR_VERSION_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQInt32</code> that specifies the major version of the Message Queue
product. For example, if the version is 3.5.0.1, the major version would
be 3.</p>
</div>
<div class="paragraph">
<p>This property is set by the runtime library. See
<a href="#aelfe">MQGetMetaData</a> for more information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_MINOR_VERSION_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQInt32</code> that specifies the minor version of the Message Queue
product. For example, if the version is 3.5.0.1, the minor version would
be 5.</p>
</div>
<div class="paragraph">
<p>This property is set by the runtime library. See
<a href="#aelfe">MQGetMetaData</a> for more information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_MICRO_VERSION_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQInt32</code> that specifies the micro version of the Message Queue
product. For example, if the version is 3.5.0.1, the micro version would
be 0.</p>
</div>
<div class="paragraph">
<p>This property is set by the runtime library. See
<a href="#aelfe">MQGetMetaData</a> for more information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SERVICE_PACK_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQInt32</code> that specifies the service pack version of the Message
Queue product. For example, if the version is 3.5.0.1, the service pack
version would be 1.</p>
</div>
<div class="paragraph">
<p>This property is set by the runtime library. See
<a href="#aelfe">MQGetMetaData</a> for more information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_UPDATE_RELEASE_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An <code>MQInt32</code> that specifies the update release version of the Message
Queue product. For example, if the version is 3.7 UR1, the update
release value would be 1.</p>
</div>
<div class="paragraph">
<p>This property is set by the runtime library. See
<a href="#aelfe">MQGetMetaData</a> for more information.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gblzb"></a><a id="GMCCG00025"></a><a id="to-set-connection-properties"></a></p>
</div>
<div class="sect4">
<h5 id="_to_set_connection_properties">To Set Connection Properties</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Call the <code>MQCreateProperties</code> function to get a handle to a newly
created properties object</p>
</li>
<li>
<p>Call a function to set one of the connection properties listed in
<a href="#gcsrb">Table 4-2</a>.<br>
Which function you call depends on the type of the property you want to
set; for example, to set an <code>MQString</code> property, you call the
<code>MQSetStringProperty</code> function; to set a <code>MQBool</code> property, you call the
<code>MQSetBoolProperty</code> function; and so on. Each function that sets a
property requires that you pass a key name (constant) and value; these
are listed and described in <a href="#gcsrb">Table 4-2</a>.</p>
</li>
<li>
<p>When you have set all the properties you want to define for the
connection, you can then create the connection, by calling the
<code>MQCreateConnection</code> function.<br>
The runtime library sets the connection properties that specify the name
and version of the Message Queue product; you can retrieve these using
the <a href="#aelfe">MQGetMetaData</a> function. These properties are described
at the end of <a href="#gcsrb">Table 4-2</a>, starting with <code>MQ_NAME_PROPERTY</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="aeldl"></a><a id="GMCCG00334"></a><a id="acknowledge-modes"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_acknowledge_modes">Acknowledge Modes</h4>
<div class="paragraph">
<p>The Message Queue runtime supports reliable delivery by using transacted
sessions or through acknowledgement options set at the session level.
When you use the <a href="#aeleh">MQCreateSession</a> function to create a
session, you must specify an acknowledgement option for that session
using the <code>acknowledgeMode</code> parameter. The value of this parameter is
ignored for transacted sessions.</p>
</div>
<div class="paragraph">
<p><a href="#gblzy">Table 4-3</a>describes the effect of the options you can set
using the <code>acknowledgeMode</code> parameter.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG443"></a><a id="sthref27"></a><a id="gblzy"></a></p>
</div>
<div class="paragraph">
<p>Table 4-3 <code>acknowledgeMode</code> Values</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enum</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_AUTO_ACKNOWLEDGE</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The session automatically acknowledges each message consumed by the
client. This happens when one of the receive functions returns
successfully, or when the message listener processing the message
returns successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_CLIENT_ACKNOWLEDGE</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The client explicitly acknowledges all messages for the session that
have been consumed up to the point when the <code>MQAcknowledgeMessages</code>
function has been called. See the discussion of the function
<a href="#aeldp">MQAcknowledgeMessages</a> for additional information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_DUPS_OK_ACKNOWLEDGE</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The session acknowledges after ten messages have been consumed and
does not guarantee that messages are delivered and consumed only once.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SESSION_TRANSACTED</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This value is read only. It is set by the library if you have passed
<code>MQ_TRUE</code> for the <code>isTransacted</code> parameter to the <code>MQCreateSession</code>
function. It is returned to you by the <code>MQGetAcknowledgeMode</code> function
if the session is transacted.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="aeldm"></a><a id="GMCCG00335"></a><a id="callback-type-for-asynchronous-message-consumption"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_callback_type_for_asynchronous_message_consumption">Callback Type for Asynchronous Message Consumption</h4>
<div class="paragraph">
<p>When you call the <a href="#aeldw">MQCreateAsyncMessageConsumer</a> function or
the <a href="#aeldv">MQCreateAsyncDurableMessageConsumer</a> function, you must
pass the name of an <code>MQMessageListenerFunc</code> type callback function that
is to be called when the consumer receives a message to the specified
destination.</p>
</div>
<div class="paragraph">
<p>The <code>MQMessageListenerFunc</code> type has the following definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQError (* MQMessageListenerFunc)(
                const MQSessionHandle  sessionHandle,
                const MQConsumerHandle  consumerHandle,
                MQMessageHandle  messageHandle
                void * callbackData);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="ghesl"></a><a id="GMCCG00087"></a><a id="parameters"></a></p>
</div>
<div class="sect4">
<h5 id="_parameters">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. The client
runtime specifies this handle when it calls your message listener.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>A handle to the consumer receiving the message. The client runtime
specifies this handle when it calls your message listener.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the incoming message. The client runtime specifies this
handle when it calls your message listener.</p>
</dd>
<dt class="hdlist1"><code>callbackData</code></dt>
<dd>
<p>The void pointer that you passed to the function
<a href="#aeldw">MQCreateAsyncMessageConsumer</a> or the function
<a href="#aeldv">MQCreateAsyncDurableMessageConsumer</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The body of a message listener function is written by the receiving
client. Mainly, the function needs to process the incoming message by
examining its header, body, and properties. The client is also
responsible for freeing the message handle (either from within the
handler or from outside the handler) by calling
<a href="#aelem">MQFreeMessage</a>.</p>
</div>
<div class="paragraph">
<p>In addition, you should observe the following guidelines when writing
the message listener function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you specify <code>MQ_CLIENT_ACKNOWLEDGE</code> as the acknowledge mode for the
session, you must explicitly call the <code>MQAcknowledgeMessages</code> function
to acknowledge messages that you have received. For more information,
see the description of the function <a href="#aeldp">MQAcknowledgeMessages</a>.</p>
</li>
<li>
<p>Do not try to close the session (or the connection to which it
belongs) and consumer handle in the message listener.</p>
</li>
<li>
<p>It is possible for a message listener to return an error; however,
this is considered a client programming error. If the listener discovers
that the message is badly formatted or if it cannot process it for some
other reason, it should handle the problem itself by re-directing it to
an application-specific bad-message destination and process it later.<br>
If the message listener does return an error, the client runtime will
try to redeliver the message once if the session&#8217;s acknowledge mode is
either <code>MQ_AUTO_ACKNOWLEDGE</code> or <code>MQ_DUPS_OK_ACKNOWLEDGE</code> .</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="aelgr"></a><a id="GMCCG00336"></a><a id="callback-type-for-asynchronous-message-consumption-in-distributed-transactions"></a></p>
</div>
<div class="paragraph">
<p>Callback Type for Asynchronous Message Consumption in Distributed
Transactions
<sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup></p>
</div>
<div class="paragraph">
<p><code>MQMessageListenerBAFunc</code> is the type of the callback functions of
before/after <code>MQMessageListenerFunc</code> for asynchronous message receiving
from a distributed transaction session.</p>
</div>
<div class="paragraph">
<p>The <code>MQMessageListenerBAFunc</code> type has the following definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQError (* MQMessageListenerBAFunc)(
                const MQSessionHandle  sessionHandle,
                const MQConsumerHandle  consumerHandle,
                MQMessageHandle  messageHandle
                MQError  errorCode
                void * callbackData);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmhc"></a><a id="GMCCG00088"></a><a id="parameters-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_2">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. The client
runtime specifies this handle when it calls your message listener.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>A handle to the consumer receiving the message. The client runtime
specifies this handle when it calls your message listener.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the incoming message. The client runtime specifies this
handle when it calls your message listener.</p>
</dd>
<dt class="hdlist1"><code>errorCode</code></dt>
<dd>
<p>Client runtime processing status that is passed to the before/after
callback functions.</p>
</dd>
<dt class="hdlist1"><code>callbackData</code></dt>
<dd>
<p>The void pointer that is passed to the function
<a href="#aeldw">MQCreateAsyncMessageConsumer</a>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>What additional information is needed for his function type?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="aeldn"></a><a id="GMCCG00337"></a><a id="callback-type-for-connection-exception-handling"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_callback_type_for_connection_exception_handling">Callback Type for Connection Exception Handling</h4>
<div class="paragraph">
<p>The client runtime will call this function when a connection exception
occurs.</p>
</div>
<div class="paragraph">
<p>The <code>MQConnectionExceptionListenerFunc</code> type has the following
definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">Void (* MQConnectionExceptionListenerFunc)(
                const MQConnectionHandle connectionHandle,
                MQStatus exception,
                void * callbackData);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="ghesx"></a><a id="GMCCG00089"></a><a id="parameters-2"></a></p>
</div>
<div class="sect4">
<h5 id="_parameters_3">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>The handle to the connection on which the connection exception
occurred. The client runtime sets this handle when it calls the
connection exception handler.</p>
</dd>
<dt class="hdlist1"><code>exception</code></dt>
<dd>
<p>An <code>MQStatus</code> for the connection exception that occurred. The client
runtime specifies this value when it calls the exception handler.<br>
You can pass this status result to any functions used to handle errors
to get an error code or error string. For more information, see
<a href="using-the-c-api.html#aelcm">Error Handling</a>.</p>
</dd>
<dt class="hdlist1"><code>callbackData</code></dt>
<dd>
<p>Whatever void pointer was passed as the <code>listenerCallbackData</code>
parameter to the function<a href="#aeldy">MQCreateConnection</a> for more
information.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The body of a connection exception listener function is written by the
client. This function will only be called synchronously with respect to
a single connection. If you install it as the connection exception
listener for multiple connections, then it must be reentrant.</p>
</div>
<div class="paragraph">
<p>Do not try to close the session (or the connection to which it belongs)
in the exception listener.</p>
</div>
<div class="paragraph">
<p><a id="aeldo"></a><a id="GMCCG00057"></a><a id="function-reference"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_function_reference">Function Reference</h3>
<div class="paragraph">
<p>This section describes the C-API functions in alphabetical order.
<a href="#aeldo">Function Reference</a> lists the C-API functions.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG444"></a><a id="sthref28"></a><a id="gblza"></a></p>
</div>
<div class="paragraph">
<p>Table 4-4 Message Queue C-API Function Summary</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 47%;">
<col style="width: 53%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldp">MQAcknowledgeMessages</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acknowledges the specified message and all messages received before it
on the same session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldq">MQCloseConnection</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closes the specified connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldr">MQCloseMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closes the specified consumer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelds">MQCloseMessageProducer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closes the specified message producer without closing its connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldt">MQCloseSession</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closes the specified session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldu">MQCommitSession</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commits a transaction associated with the specified session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldv">MQCreateAsyncDurableMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a durable asynchronous message consumer for the specified
destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldw">MQCreateAsyncMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an asynchronous message consumer for the specified
destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#CIAIAGFJ">MQCreateAsyncSharedDurableMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a shared durable asynchronous message consumer for the
specified destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#CIACEAJE">MQCreateAsyncSharedMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a shared asyncrhronous consumer for the specified destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldx">MQCreateBytesMessage</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an <code>MQ_BYTES_MESSAGE</code> message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeldy">MQCreateConnection</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a connection to the broker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeleb">MQCreateDestination</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a logical destination and passes a handle to it back to you.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelec">MQCreateDurableMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a durable synchronous message consumer for the specified
destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#gbjak">MQCreateMessage</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates an <code>MQ_MESSAGE</code> message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeled">MQCreateMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a synchronous message consumer for the specified destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelee">MQCreateMessageProducer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a message producer with no default destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelef">MQCreateMessageProducerForDestination</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a message producer with a default destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeleg">MQCreateProperties</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a properties handle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeleh">MQCreateSession</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a session and passes back a handle to the session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#CIACFJDI">MQCreateSharedDurableMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a shared durable synchronous message consumer for the
specified destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#CIAJABFE">MQCreateSharedMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a shared synchronous message consumer for the specified
destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelei">MQCreateTemporaryDestination</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a temporary destination and passes its handle back to you.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelej">MQCreateTextMessage</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a text message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ghern">MQCreateXASession</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a distributed transaction (XA) session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelek">MQFreeConnection</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Releases memory assigned to the specified connection and to all
resources associated with that connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelel">MQFreeDestination</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Releases memory assigned to the specified destination and to all
resources associated with that destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelem">MQFreeMessage</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Releases memory assigned to the specified message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelen">MQFreeProperties</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Releases the memory allocated to the referenced properties handle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeleo">MQFreeString</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Releases the memory allocated to the specified <code>MQString</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelep">MQGetAcknowledgeMode</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the acknowledgement mode of the specified session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeleq">MQGetBoolProperty</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back a property of type <code>MQBool</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeler">MQGetBytesMessageBytes</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the address and size of a <code>MQ_BYTES_MESSAGE</code> message body.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ghevs">MQGetConnectionProperties</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back a handle to the properties used in creating the connection
associated with the specified connection handle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#gbjog">MQGetDestinationName</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the name of the physical destination to which the
specified message has been sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#CIAFJBHF">MQGetDeliveryDelay</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the delivery delay for messages sent by a producer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeles">MQGetDestinationType</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the type of the specified destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelet">MQGetErrorTrace</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a string describing the stack at the time the specified error
occurred.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeleu">MQGetFloat32Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the value of the <code>MQFloat32</code> property for the specified
key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelev">MQGetFloat64Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the value of the <code>MQFloat64</code> property for the specified
key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelew">MQGetInt16Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the value of the <code>MQInt16</code> property for the specified key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelex">MQGetInt32Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the value of the <code>MQInt32</code> property for the specified key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aeley">MQGetInt64Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the value of the <code>MQInt64</code> property for the specified key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelez">MQGetInt8Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the value of the <code>MQInt8</code> property for the specified key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfa">MQGetMessageHeaders</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back a handle to the header of the specified message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfb">MQGetMessageProperties</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back a handle to the properties for the specified message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfc">MQGetMessageReplyTo</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the destination where replies to this message should be
sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfd">MQGetMessageType</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the type of the specified message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfe">MQGetMetaData</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back Message Queue version information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelff">MQGetPropertyType</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the type of the specified property key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfg">MQGetStatusCode</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the code for the specified <code>MQStatus</code> result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfh">MQGetStatusString</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a string description for the specified <code>MQStatus</code> result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfi">MQGetStringProperty</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the value for the specified property. Type (in the
function name) can be <code>String</code>, <code>Bool</code>, <code>Int8</code>, <code>Int16</code>, <code>Int32</code>,
<code>Int64</code> , <code>Float32</code>, <code>Float64</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfj">MQGetTextMessageText</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the contents of an <code>MQ_TEXT_MESSAGE</code> message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#gherz">MQGetXAConnection</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the distributed transaction (XA) connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfk">MQInitializeSSL</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initializes the SSL library. You must call this function before you
create a connection that uses SSL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfl">MQPropertiesKeyIterationGetNext</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back the next property key in the properties handle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfm">MQPropertiesKeyIterationHasNext</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if there is another property key in a properties object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfn">MQPropertiesKeyIterationStart</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starts iterating through a properties object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfo">MQReceiveMessageNoWait</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back a handle to a message delivered to the specified consumer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfp">MQReceiveMessageWait</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back a handle to a message delivered to the specified consumer
when the message becomes available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfq">MQReceiveMessageWithTimeout</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes back a handle to a message delivered to the specified consumer
if a message is available within the specified amount of time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfr">MQRecoverSession</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stops message delivery and restarts message delivery with the oldest
unacknowledged message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfs">MQRollBackSession</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rolls back a transaction associated with the specified session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelft">MQSendMessage</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends a message for the specified producer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfu">MQSendMessageExt</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends a message for the specified producer and allows you to set
priority, time-to-live, and delivery mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfv">MQSendMessageToDestination</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends a message to the specified destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfw">MQSendMessageToDestinationExt</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends a message to the specified destination and allows you to set
message header properties.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfx">MQSetBoolProperty</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQBool</code> property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfy">MQSetBytesMessageBytes</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the message body for the specified <code>MQ_BYTES_MESSAGE</code> message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#CIAHJGHF">MQSetDeliveryDelay</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the delivery delay for messages sent by the specifed JMS
producer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelfz">MQSetFloat32Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQFloat</code> 32 property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelga">MQSetFloat64Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQFloat</code> 64 property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgb">MQSetInt16Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQInt16</code> property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgc">MQSetInt32Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQInt</code> 32 property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgd">MQSetInt64Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQInt64</code> property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelge">MQSetInt8Property</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQInt8</code> property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgf">MQSetMessageHeaders</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the header part of the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgg">MQSetMessageProperties</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the user-defined properties for the specified message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgh">MQSetMessageReplyTo</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the destination where replies to this message should be
sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgi">MQSetStringProperty</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets an <code>MQString</code> property with the specified key to the specified
value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgi">MQSetStringProperty</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the message body for the specified <code>MQ_TEXT_MESSAGE</code> message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgj">MQSetTextMessageText</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the body for a text message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgk">MQStartConnection</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starts the specified connection to the broker and starts or resumes
message delivery.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgl">MQStatusIsError</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>MQ_TRUE</code> if the specified <code>MQStatus</code> result is an error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgm">MQStopConnection</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stops the specified connection to the broker. This stops the broker
from delivering messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsubscribes the specified durable message consumer.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="aeldp"></a><a id="GMCCG00338"></a><a id="mqacknowledgemessages"></a></p>
</div>
<div class="sect3">
<h4 id="_mqacknowledgemessages">MQAcknowledgeMessages</h4>
<div class="paragraph">
<p>The <code>MQAcknowledgeMessages</code> function acknowledges the specified message
and all messages received before it on the same session. This function
is valid only if the session is created with acknowledge mode set to
<code>MQ_CLIENT_ACKNOWLEDGE</code> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQAcknowledgeMessages  (const MQSessionHandle  sessionHandle,
                              const MQMessageHandle messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gblzk"></a><a id="GMCCG00090"></a><a id="return-value"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gblzr"></a><a id="GMCCG00091"></a><a id="parameters-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_4">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session for the consumer that received the specified
message.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the message that you want to acknowledge. This handle is
passed back to you when you receive the message (either by calling one
of the receive functions or when a message is delivered to your
message listener function.)</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Whether you receive messages synchronously or asynchronously, you can
call the <code>MQAcknowledgeMessages</code> function to acknowledge receipt of the
specified message and of all messages that preceded it.</p>
</div>
<div class="paragraph">
<p>When you create a session you specify one of several acknowledge modes
for that session; these are described in <a href="#gblzy">Table 4-3</a>. If you
specify <code>MQ_CLIENT_ACKNOWLEDGE</code> as the acknowledge mode for the session,
you must explicitly call the <code>MQAcknowledgeMessages</code> function to
acknowledge receipt of messages consumed in that session.</p>
</div>
<div class="paragraph">
<p>By default, the calling thread to the <code>MQAcknowledgeMessages</code> function
will be blocked until the broker acknowledges receipt of the
acknowledgment for the broker consumed. If, when you created the
session&#8217;s connection, you specified the property
<code>MQ_ACK_ON_ACKNOWLEDGE_PROPERTY</code> to be <code>MQ_FALSE,</code> the calling thread
will not wait for the broker to acknowledge the acknowledgement.</p>
</div>
<div class="paragraph">
<p><a id="gblze"></a><a id="GMCCG00092"></a><a id="common-errors"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_SESSION_NOT_CLIENT_ACK_MODE</code><br>
<code>MQ_SESSION_NOT_CLIENT_ACK_MODE</code><br>
<code>MQ_MESSAGE_NOT_IN_SESSION</code><br>
<code>MQ_CONCURRENT_ACCESS</code><br>
<code>MQ_SESSION_CLOSED</code><br>
<code>MQ_BROKER_CLOSED</code></p>
</div>
<div class="paragraph">
<p><a id="aeldq"></a><a id="GMCCG00339"></a><a id="mqcloseconnection"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcloseconnection">MQCloseConnection</h4>
<div class="paragraph">
<p>The <code>MQCloseConnection</code> function closes the connection to the broker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCloseConnection(MQConnectionHandle connectionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gblzl"></a><a id="GMCCG00093"></a><a id="return-value-1"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_2">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gblzh"></a><a id="GMCCG00094"></a><a id="parameters-4"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_5">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>The handle to the connection that you want to close. This handle is
created and passed back to you by the function
<a href="#aeldy">MQCreateConnection</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Closing the connection closes all sessions, producers, and consumers
created from this connection. This also forces all threads associated
with this connection that are blocking in the library to return.</p>
</div>
<div class="paragraph">
<p>Closing the connection does not actually release all the memory
associated with the connection. After all the application threads
associated with this connection (and its dependent sessions, producers,
and consumers) have returned, you should call the
<a href="#aelek">MQFreeConnection</a> function to release these resources.
However, <code>MQFreeConnection ()</code> does not release resources held by a
message or a destination associated with this connection. You must free
memory allocated for a message or a destination by explicitly calling
the <code>MQFreeMessage</code> or the <code>MQFreeDestination</code> function.</p>
</div>
<div class="paragraph">
<p><a id="gblzt"></a><a id="GMCCG00095"></a><a id="common-errors-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_2">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_CONCURRENT_DEADLOCK</code> (If the function is called from an exception
listener or a consumer&#8217;s message listener.)</p>
</div>
<div class="paragraph">
<p><code>MQ_ILLEGAL_CLOSE_XA_CONNECTION</code> (If called to claose an XA connection.)</p>
</div>
<div class="paragraph">
<p><a id="aeldr"></a><a id="GMCCG00340"></a><a id="mqclosemessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqclosemessageconsumer">MQCloseMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCloseMessageConsumer</code> function closes the specified message
consumer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCloseMessageConsumer(MQConsumerHandle consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gblyz"></a><a id="GMCCG00096"></a><a id="return-value-2"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_3">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gblzi"></a><a id="GMCCG00097"></a><a id="parameters-5"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_6">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>The handle to the consumer you want to close. This handle is created
and passed back to you by one of the functions used to create
consumers.<br>
This handle is invalid after the function returns successfully.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. To close a consumer without
closing the session or connection to which it belongs, use the
function<a href="#aeldr">MQCloseMessageConsumer</a>.</p>
</div>
<div class="paragraph">
<p>If the consumer you want to close is a durable consumer and you want to
close this consumer permanently, you should call the function
<a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a> after closing the
consumer in order to delete any state information maintained by the
broker for this consumer.</p>
</div>
<div class="paragraph">
<p><a id="gblzd"></a><a id="GMCCG00098"></a><a id="common-errors-2"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_3">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_CONSUMER_NOT_IN_SESSION
MQ_BROKER_CONNECTION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelds"></a><a id="GMCCG00341"></a><a id="mqclosemessageproducer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqclosemessageproducer">MQCloseMessageProducer</h4>
<div class="paragraph">
<p>The <code>MQCloseMessageProducer</code> function closes a message producer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCloseMessageProducer(MQProducerHandle producerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gblzw"></a><a id="GMCCG00099"></a><a id="return-value-3"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_4">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gblzj"></a><a id="GMCCG00100"></a><a id="parameters-6"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_7">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>A handle for this producer that was passed to you by the
function<a href="#aelee">MQCreateMessageProducer</a> or by the function
<a href="#aelef">MQCreateMessageProducerForDestination</a>.<br>
This handle is invalid after the function returns successfully.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use the <code>MQCloseMessageProducer</code> function to close a producer without
closing its associated session or connection.</p>
</div>
<div class="paragraph">
<p><a id="gblzq"></a><a id="GMCCG00101"></a><a id="common-errors-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_4">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_PRODUCER_NOT_IN_SESSION</code></p>
</div>
<div class="paragraph">
<p><a id="aeldt"></a><a id="GMCCG00342"></a><a id="mqclosesession"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqclosesession">MQCloseSession</h4>
<div class="paragraph">
<p>The <code>MQCloseSession</code> function closes the specified session.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCloseSession(MQSessionHandle sessionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gblzg"></a><a id="GMCCG00102"></a><a id="return-value-4"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_5">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gblzf"></a><a id="GMCCG00103"></a><a id="parameters-7"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_8">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session that you want to close. This handle is
created and passed back to you by the <a href="#aeleh">MQCreateSession</a>
function.<br>
This handle is invalid after the function returns successfully.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Closing a session closes the resources (producers and consumers)
associated with that session and frees up the memory allocated for that
session.</p>
</div>
<div class="paragraph">
<p>Calling this function does not release resources held by a message or a
destination associated with this session. You must free memory allocated
for a message or a destination by explicitly calling the <code>MQFreeMessage</code>
or the <code>MQFreeDestination</code> function.</p>
</div>
<div class="paragraph">
<p>There is no need to close the producers or consumers of a closed
session.</p>
</div>
<div class="paragraph">
<p><a id="gblzo"></a><a id="GMCCG00104"></a><a id="common-errors-4"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_5">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_CONCURRENT_DEADLOCK</code></p>
</div>
<div class="paragraph">
<p>(If called from a consumer&#8217;s message listener in the session.)</p>
</div>
<div class="paragraph">
<p><a id="aeldu"></a><a id="GMCCG00343"></a><a id="mqcommitsession"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcommitsession">MQCommitSession</h4>
<div class="paragraph">
<p>The <code>MQCommitSession</code> function commits a transaction associated with the
specified session.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCommitSession(const MQSessionHandle sessionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gblzs"></a><a id="GMCCG00105"></a><a id="return-value-5"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_6">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gblyy"></a><a id="GMCCG00106"></a><a id="parameters-8"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_9">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the transacted session that you want to commit.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A transacted session supports a series of transactions. Transactions
organize a session&#8217;s input message stream and output message stream into
a series of atomic units. A transaction&#8217;s input and output units consist
of those messages that have been produced and consumed within the
session&#8217;s current transaction. (Note that the receipt of a message
cannot be part of the same transaction that produces the message.) When
you call the <code>MQCommitSession</code> function, its atomic unit of input is
acknowledged and its associated atomic unit of output is sent.</p>
</div>
<div class="paragraph">
<p>The completion of a session&#8217;s current transaction automatically begins
the next transaction. The result is that a transacted session always has
a current transaction within which its work is done. Use the
<code>MQRollBackSession ()</code> function to roll back a transaction.</p>
</div>
<div class="paragraph">
<p><a id="gblzx"></a><a id="GMCCG00107"></a><a id="common-errors-5"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_6">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_TRANSACTED_SESSION
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_NOT_TRANSACTED_SESSION
MQ_XA_SESSION_IN_PROGRESS</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aeldv"></a><a id="GMCCG00344"></a><a id="mqcreateasyncdurablemessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreateasyncdurablemessageconsumer">MQCreateAsyncDurableMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateAsyncDurableMessageConsumer</code> function creates an
asynchronous durable message consumer for the specified destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateAsyncDurableMessageConsumer (
               const MQSessionHandle sessionHandle,
               const MQDestinationHandle destinationHandle,
               ConstMQString durableName,
               ConstMQString messageSelector,
               MQBool noLocal,
               MQMessageListenerFunc messageListener,
               void * listenerCallbackData,
               MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gblzm"></a><a id="GMCCG00108"></a><a id="return-value-6"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_7">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmac"></a><a id="GMCCG00109"></a><a id="parameters-9"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_10">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is passed back by the <a href="#aeleh">MQCreateSession</a> function. For this
asynchronous durable consumer, the session must have been created with
the <code>MQ_SESSION_ASYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to a topic destination on which the consumer receives
messages. This handle remains valid after the call.</p>
</dd>
<dt class="hdlist1"><code>durableName</code></dt>
<dd>
<p>An <code>MQString</code> specifying a name for the durable subscriber. The
library makes a copy of the <code>durableName</code> string.</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer.<br>
Specify a <code>NULL</code> or empty string to indicate that there is no message
selector for this consumer. In this case, all messages are delivered.<br>
The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>noLocal</code></dt>
<dd>
<p>Specify <code>MQ_TRUE</code> to inhibit delivery of messages published by this
consumer&#8217;s own connection.</p>
</dd>
<dt class="hdlist1"><code>messageListener</code></dt>
<dd>
<p>The name of an <code>MQMessageListenerFunc</code> type callback function that is
to be called when this consumer receives a message on the specified
destination.</p>
</dd>
<dt class="hdlist1"><code>listenerCallbackData</code></dt>
<dd>
<p>A pointer to data that you want passed to your message listener
function when it is called by the library.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In the case of an asynchronous consumer, you should not start a
connection before calling the <code>MQCreateAsyncDurableMessageConsumer</code>
function. (You should create a connection, create a session, set up your
asynchronous consumer, create the consumer, and then start the
connection.) Attempting to create a consumer when the connection is not
stopped, will result in an <code>MQ_CONCURRENT_ACCESS</code> error.</p>
</div>
<div class="paragraph">
<p>The <code>MQCreateAsyncDurableMessageConsumer</code> function creates an
asynchronous durable message consumer for the specified destination. You
can define parameters to filter messages and to inhibit the delivery of
messages you published to your own connection. Note that the session&#8217;s
receive mode (sync/async) must be appropriate for the kind of consumer
you are creating (sync/async). To create a synchronous durable message
consumer for a destination, call the function
<code>MQCreateDurableMessageConsumer.()</code></p>
</div>
<div class="paragraph">
<p>Durable consumers can only be used for topic destinations. If you are
creating an asynchronous consumer for a queue destination or if you are
not interested in messages that arrive to a topic while you are
inactive, you might prefer to use the function
<a href="#aeldw">MQCreateAsyncMessageConsumer</a>.</p>
</div>
<div class="paragraph">
<p>The broker retains a record of this durable subscription and makes sure
that all messages from the publishers to this topic are retained until
they are either acknowledged by this durable subscriber or until they
have expired. Sessions with durable subscribers must always provide the
same client identifier. (See <code>MQCreateConnection</code>, <code>clientID</code>
parameter.) In addition, each durable consumer must specify a durable
name using the <code>durableName</code> parameter, which uniquely identifies (for
each client identifier) the durable subscription when it is created.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. However, messages will be
routed to the durable subscriber while it is inactive and delivered when
the durable consumer is recreated. To close a consumer without closing
the session or connection to which it belongs, use the
<a href="#aeldr">MQCloseMessageConsumer</a> function. If you want to close a
durable consumer permanently, you should call the
<a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a> after closing it to
delete state information maintained by the Broker on behalf of the
durable consumer.</p>
</div>
<div class="paragraph">
<p><a id="gbmab"></a><a id="GMCCG00110"></a><a id="common-errors-6"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_7">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_ASYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMIT_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONSUMER_NO_DURABLE_NAME
MQ_QUEUE_CONSUMER_CANNOT_BE_DURABLE
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aeldw"></a><a id="GMCCG00345"></a><a id="mqcreateasyncmessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreateasyncmessageconsumer">MQCreateAsyncMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateAsyncMessageConsumer</code> function creates an asynchronous
message consumer for the specified destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateAsyncMessageConsumer
              (const MQSessionHandle sessionHandle,
               const MQDestinationHandle destinationHandle,
               ConstMQString messageSelector,
               MQBool noLocal,
               MQMessageListenerFunc messageListener,
               void * listenerCallBackData,
               MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmax"></a><a id="GMCCG00111"></a><a id="return-value-7"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_8">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbb"></a><a id="GMCCG00112"></a><a id="parameters-10"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_11">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is created and passed back to you by the <a href="#aeleh">MQCreateSession</a>
function. For this asynchronous consumer, the session must have been
created with the <code>MQ_SESSION_ASYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination on which the consumer receives messages.
This handle remains valid after the call returns.</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer.<br>
Specify a <code>NULL</code> or empty string to indicate that there is no message
selector for this consumer. In this case, all messages will be
delivered.<br>
The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>noLocal</code></dt>
<dd>
<p>Specify <code>MQ_TRUE</code> to inhibit delivery of messages published by this
consumer&#8217;s own connection.<br>
The setting of this parameter applies only to topic destinations. It
is ignored for queues.</p>
</dd>
<dt class="hdlist1"><code>messageListener</code></dt>
<dd>
<p>The name of an <code>MQMessageListenerFunc</code> type callback function that is
to be called when this consumer receives a message for the specified
destination.</p>
</dd>
<dt class="hdlist1"><code>listenerCallbackData</code></dt>
<dd>
<p>A pointer to data that you want passed to your message listener
function when it is called by the library.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In the case of an asynchronous consumer, you should not start a
connection before calling the <code>MQCreateAsyncDurableMessageConsumer</code>
function. (You should create a connection, create a session, set up your
asynchronous consumers, create the consumer, and then start the
connection.) Attempting to create a consumer when the connection is not
stopped will result in an <code>MQ_CONCURRENT_ACCESS</code> error.</p>
</div>
<div class="paragraph">
<p>The <code>MQCreateAsyncMessageConsumer</code> function creates an asynchronous
message consumer for the specified destination. You can define
parameters to filter messages and to inhibit the delivery of messages
you published to your own connection. Note that the session&#8217;s receive
mode (sync/async) must be appropriate for the kind of consumer you are
creating (sync/async). To create a synchronous message consumer for a
destination, use the <a href="#aeled">MQCreateMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p>If this consumer is on a topic destination, it will only receive
messages produced while the consumer is active. If you are interested in
receiving messages published while this consumer is not active, you
should create a consumer using the
<a href="#aeldv">MQCreateAsyncDurableMessageConsumer</a> function instead.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. To close a consumer without
closing the session or connection to which it belongs, use the
<a href="#aeldr">MQCloseMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p><a id="gbmaq"></a><a id="GMCCG00113"></a><a id="common-errors-7"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_8">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_ASYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMIT_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="CIAIAGFJ"></a><a id="GMCCG445"></a><a id="mqcreateasyncshareddurablemessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreateasyncshareddurablemessageconsumer">MQCreateAsyncSharedDurableMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateAsyncSharedDurableMessageConsumer</code> function creates an
asynchronous shared durable subscription with the specified name (if one
does not already exist) and creates a consumer on that durable
subscription for the specified topic destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateAsyncSharedDurableMessageConsumer (
               const MQSessionHandle sessionHandle,
               const MQDestinationHandle destinationHandle,
               ConstMQString durableName,
               ConstMQString messageSelector,
               MQMessageListenerFunc messageListener,
               void * listenerCallbackData,
               MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GMCCG446"></a><a id="sthref29"></a></p>
</div>
<div class="sect4">
<h5 id="return-value-8">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG447"></a><a id="sthref30"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="parameters-11">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is passed back by the <code>MQCreateSession()</code> function. For this
asynchronous durable consumer, the session must have been created with
the <code>MQ_SESSION_ASYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to a topic destination on which the consumer receives
messages. This handle remains valid after the call.</p>
</dd>
<dt class="hdlist1"><code>durableName</code></dt>
<dd>
<p>An <code>MQString</code> specifying a name to identify this durable subscription.
The library makes a copy of the <code>durableName</code> string..</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer.<br>
Specify a <code>NULL</code> or empty string to indicate that there is no message
selector for this consumer. In this case, all messages are delivered.<br>
The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>messageListener</code></dt>
<dd>
<p>The name of an <code>MQMessageListenerFunc</code> type callback function that is
to be called when this consumer receives a message on the specified
destination.</p>
</dd>
<dt class="hdlist1"><code>listenerCallbackData</code></dt>
<dd>
<p>A pointer to data that you want passed to your message listener
function when it is called by the library.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In the case of an asynchronous consumer, you should not start a
connection before calling the
<code>MQCreateAsyncSharedDurableMessageConsumer</code> function. (You should create
a connection, create a session, set up your asynchronous consumer,
create the consumer, and then start the connection.) Attempting to
create a consumer when the connection is not stopped, will result in an
<code>MQ_CONCURRENT_ACCESS</code> error.</p>
</div>
<div class="paragraph">
<p>You can define parameters to filter messages. The session&#8217;s receive mode
(sync/async) must be appropriate for the kind of consumer you are
creating (sync/async). To create a synchronous shared durable message
consumer for a topic destination, call the function
<code>MQCreateSharedDurableMessageConsumer()</code>. To create an unshared
asynchronous durable message consumer, use the function
<code>MQCreateAsyncDurableMessageConsumer()</code>.</p>
</div>
<div class="paragraph">
<p>Durable consumers can only be used for topic destinations. If you are
creating an asynchronous consumer for a queue destination, use
<a href="#aeldw">MQCreateAsyncMessageConsumer</a>. If you are not interested in
messages that arrive to a topic while you are inactive, you might prefer
to use the function <a href="#CIACEAJE">MQCreateAsyncSharedMessageConsumer</a>.</p>
</div>
<div class="paragraph">
<p>The broker retains a record of this durable subscription and makes sure
that all messages from the publishers to this topic are retained until
they are either acknowledged by a consumer on the durable subscription
or until they have expired. A durable subscription continues to
accumulate messages until it is deleted using the
<a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p>A shared subscription is used by a client which needs to be able to
share the work of receiving messages from a topic subscription amongst
multiple consumers. This means that multiple active (not closed)
consumers on the subscription may exist at the same time. A shared
durable subscription is identified by a name specified by the
<code>durableName</code> parameter and by the client identifier (which may be
unset, see the <code>clientId</code> parameter in <a href="#aeldy">MQCreateConnection</a>).</p>
</div>
<div class="paragraph">
<p>A shared durable subscription and an unshared durable subscription may
not have the same name and client identifier (if set).</p>
</div>
<div class="paragraph">
<p>There is no restriction on durable subscriptions and shared non-durable
subscriptions having the same name and <code>clientId</code> (which may be unset).
Durable subscriptions and shared non-durable subscriptions have separate
name spaces.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. To close a consumer without
closing the session or connection to which it belongs, use
<a href="#aeldr">MQCloseMessageConsumer</a> function. To delete the durable
subscription, use function
<a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a> after all its consumers
are closed.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG448"></a><a id="sthref31"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="common-errors-8">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_ASYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMIT_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONSUMER_NO_DURABLE_NAME
MQ_QUEUE_CONSUMER_CANNOT_BE_DURABLE
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_SHARED_SUBSCRIPTION_NOT_TOPIC</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="CIACEAJE"></a><a id="GMCCG449"></a><a id="mqcreateasyncsharedmessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreateasyncsharedmessageconsumer">MQCreateAsyncSharedMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateAsyncSharedMessageConsumer</code> function creates an
asynchronous shared non-durable subscription with the specified name (if
one does not already exist) and creates a consumer on that non-durable
subscription for the specified topic destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateAsyncSharedMessageConsumer
              (const MQSessionHandle sessionHandle,
               const MQDestinationHandle destinationHandle,
               ConstMQString subscriptionName,
               ConstMQString messageSelector,
               MQMessageListenerFunc messageListener,
               void * listenerCallBackData,
               MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GMCCG450"></a><a id="sthref32"></a></p>
</div>
<div class="sect4">
<h5 id="return-value-9">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG451"></a><a id="sthref33"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="parameters-12">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is created and passed back to you by the <a href="#aeleh">MQCreateSession</a>
function. For this asynchronous consumer, the session must have been
created with the <code>MQ_SESSION_ASYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination on which the consumer receives messages.
This handle remains valid after the call returns.</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer.<br>
Specify a <code>NULL</code> or empty string to indicate that there is no message
selector for this consumer. In this case, all messages will be
delivered.<br>
The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>messageListener</code></dt>
<dd>
<p>The name of an <code>MQMessageListenerFunc</code> type callback function that is
to be called when this consumer receives a message for the specified
destination.</p>
</dd>
<dt class="hdlist1"><code>listenerCallbackData</code></dt>
<dd>
<p>A pointer to data that you want passed to your message listener
function when it is called by the library.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In the case of an asynchronous consumer, you should not start a
connection before calling the
<a href="#CIACEAJE">MQCreateAsyncSharedMessageConsumer</a> . (You should create
a connection, create a session, set up your asynchronous consumers,
create the consumer, and then start the connection.) Attempting to
create a consumer when the connection is not stopped will result in an
<code>MQ_CONCURRENT_ACCESS</code> error.</p>
</div>
<div class="paragraph">
<p>You can define parameters to filter messages. The session&#8217;s receive mode
(sync/async) must be appropriate for the kind of consumer you are
creating (sync/async). To create a synchronous shared message consumer
for a topic destination, use the <code>MQCreateSharedMessageConsumer()</code>
function.</p>
</div>
<div class="paragraph">
<p>A non-durable shared subscription is used by a client which needs to be
able to share the work of receiving messages from a topic subscription
amongst multiple consumers. A non-durable shared subscription may
therefore have more than one consumer. Each message from the
subscription will be delivered to only one of the consumers on that
subscription. Such a subscription is not persisted and will be deleted
(together with any undelivered messages associated with it) when there
are no consumers on it.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. To close a consumer without
closing the session or connection to which it belongs, use the
<a href="#aeldr">MQCloseMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG452"></a><a id="sthref34"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="common-errors-9">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_ASYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMIT_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_SHARED_SUBSCRIPTION_NOT_TOPIC</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aeldx"></a><a id="GMCCG00346"></a><a id="mqcreatebytesmessage"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatebytesmessage">MQCreateBytesMessage</h4>
<div class="paragraph">
<p>The <code>MQCreatesBytesMessage</code> function creates a bytes message and passes
a handle to it back to you.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateBytesMessage(MQMessageHandle * messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmad"></a><a id="GMCCG00114"></a><a id="return-value-10"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_9">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmar"></a><a id="GMCCG00115"></a><a id="parameters-13"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_12">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>Output parameter for the handle to the new, empty message.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a bytes message, you can use this handle
to define its content with the
<a href="#aelfy">MQSetBytesMessageBytes</a><a href="#aelfy">MQSetBytesMessageBytes</a>
function, to set its headers with the <a href="#aelgf">MQSetMessageHeaders</a>
function, and to set its properties with the
<a href="#aelgg">MQSetMessageProperties</a> function.</p>
</div>
<div class="paragraph">
<p><a id="aeldy"></a><a id="GMCCG00347"></a><a id="mqcreateconnection"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreateconnection">MQCreateConnection</h4>
<div class="paragraph">
<p>The <code>MQCreateConnection</code> function creates a connection to the broker.</p>
</div>
<div class="paragraph">
<p>If you want to connect to the broker over SSL, you must call the
<a href="#aelfk">MQInitializeSSL</a> function to initialize the SSL library
before you create the connection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateConnection
             (MQPropertiesHandle propertiesHandle
             ConstMQString username,
             ConstMQString password,
             ConstMQString clientID,
             MQConnectionExceptionListenerFunc exceptionListener,
             void * listenerCallBackData,
             MQConnectionHandle * connectionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmaf"></a><a id="GMCCG00116"></a><a id="return-value-11"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_10">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmai"></a><a id="GMCCG00117"></a><a id="parameters-14"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_13">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle that specifies the properties that determine the behavior of
this connection. You must create this handle using the
<code>MQCreateProperties</code> function before you try to create a connection.
This handle will be invalid after the function returns successfully.<br>
See <a href="#gcsrb">Table 4-2</a> for information about connection
properties.</p>
</dd>
<dt class="hdlist1"><code>username</code></dt>
<dd>
<p>An <code>MQString</code> specifying the user name to use when connecting to the
broker.<br>
The library makes a copy of the <code>username</code> string.</p>
</dd>
<dt class="hdlist1"><code>password</code></dt>
<dd>
<p>An <code>MQString</code> specifying the password to use when connecting to the
broker.<br>
The library makes a copy of the <code>password</code> string.</p>
</dd>
<dt class="hdlist1"><code>clientID</code></dt>
<dd>
<p>An <code>MQString</code> used to identify the connection. If you use the
connection for a durable consumer, you must specify a non-NULL client
identifier.<br>
The library makes a copy of the <code>clientID</code> string.</p>
</dd>
<dt class="hdlist1"><code>exceptionListener</code></dt>
<dd>
<p>A connection-exception callback function used to notify the user that
a connection exception has occurred.</p>
</dd>
<dt class="hdlist1"><code>listenerCallBackData</code></dt>
<dd>
<p>A data pointer that can be passed to the connection
<code>exceptionListener</code> callback function whenever it is called. The user
can set this pointer to any data that may be useful to pass along to
the connection exception listener for this connection. Set this to
<code>NULL</code> if you do not need to pass data back to the connection
exception listener.</p>
</dd>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>Output parameter for the handle to the connection that is created by
this function.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQCreateConnection</code> function creates a connection to the broker.
The behavior of the connection is specified by key values defined in the
properties referenced by the <code>propertiesHandle</code> parameter. You must use
the <code>MQCreateProperties</code> function to define these properties.</p>
</div>
<div class="paragraph">
<p>You cannot change the properties of a connection you have already
created. If you need different connection properties, you must close and
free the old connection and then create a new connection with the
desired properties.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the <a href="#aelgk">MQStartConnection</a> function to start or restart
the connection. Use the <a href="#aelgm">MQStopConnection</a> function to stop a
connection.</p>
</li>
<li>
<p>Use the <a href="#aelfe">MQGetMetaData</a> function to get information about
the name of the Message Queue product and its version.</p>
</li>
<li>
<p>Use the <a href="#aeldq">MQCloseConnection</a> function to close a connection,
and then use the <a href="#aelek">MQFreeConnection</a> function to free the
memory allocated for that connection.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="aeldz"></a><a id="GMCCG00011"></a><a id="setting-a-client-identifier"></a></p>
</div>
<div class="paragraph">
<p>Setting a Client Identifier</p>
</div>
<div class="paragraph">
<p>To keep track of durable subscriptions, Message Queue uses a unique
client identifier that associates a client&#8217;s connection with state
information maintained by the message service on behalf of the client.
By definition, a client identifier is unique, and applies to only one
connection at a time.</p>
</div>
<div class="paragraph">
<p>The messaging service uses a client identifier in combination with a
durable subscription name to uniquely identify each durable
subscription. If a durable subscriber is inactive at the time that
messages are delivered to a topic destination, the broker retains
messages for that subscriber and delivers them when the subscriber once
again becomes active.</p>
</div>
<div class="paragraph">
<p><a id="aelea"></a><a id="GMCCG00012"></a><a id="handling-connection-exceptions"></a></p>
</div>
<div class="paragraph">
<p>Handling Connection Exceptions</p>
</div>
<div class="paragraph">
<p>Use the <code>exceptionListener</code> parameter to pass the name of a user-defined
callback function that can be called synchronously when a connection
exception occurs for this connection. Use the <code>exceptionCallBackData</code>
parameter to specify any user data that you want to pass to the callback
function.</p>
</div>
<div class="paragraph">
<p><a id="gbman"></a><a id="GMCCG00118"></a><a id="common-errors-10"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_9">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_INCOMPATIBLE_LIBRARY
MQ_CONNECTION_UNSUPPORTED_TRANSPORT
MQ_COULD_NOT_CREATE_THREAD
MQ_INVALID_CLIENT_ID
MQ_CLIENT_ID_IN_USE
MQ_COULD_NOT_CONNECT_TO_BROKER
MQ_SSL_NOT_INITIALIZED</code></pre>
</div>
</div>
<div class="paragraph">
<p>This error can be returned if <code>MQ_CONNECTION_TYPE_PROPERTY</code> is SSL and
you have not called the <code>MQInitializeSSL</code> function before creating this
connection.</p>
</div>
<div class="paragraph">
<p><a id="aeleb"></a><a id="GMCCG00348"></a><a id="mqcreatedestination"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatedestination">MQCreateDestination</h4>
<div class="paragraph">
<p>The <code>MQCreateDestination</code> function creates a a logical destination and
passes a handle to it back to you.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateDestination(const MQSessionHandle sessionHandle
                 ConstMQString destinationName,
                 MQDestinationType destinationType,
                 MQDestinationHandle * destinationHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmau"></a><a id="GMCCG00119"></a><a id="return-value-12"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_11">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmay"></a><a id="GMCCG00120"></a><a id="parameters-15"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_14">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session with which you want to associate this
destination.</p>
</dd>
<dt class="hdlist1"><code>destinationName</code></dt>
<dd>
<p>An <code>MQString</code> specifying the logical name of this destination. The
library makes a copy of the <code>destinationName</code> string. See discussion
below.<br>
Destination names starting with "mq" are reserved and should not be
used by clients.</p>
</dd>
<dt class="hdlist1"><code>destinationType</code></dt>
<dd>
<p>An enum specifying the destination type, either <code>MQ_QUEUE_DESTINATION</code>
or <code>MQ_TOPIC_DESTINATION</code>.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>Output parameter for the handle to the newly created destination. You
can pass this handle to functions sending messages or to message
producers or consumers.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQCreateDestination</code> function creates a logical destination and
passes a handle to it back to you. Note that the Message Queue
administrator has to also create a physical destination on the broker,
whose name and type is the same as the destination created here, in
order for messaging to happen. For example, if you use this function to
create a queue destination called <code>myMailQDest</code>, the administrator has
to create a physical destination on the broker named <code>myMailQDest</code>.</p>
</div>
<div class="paragraph">
<p>If you are doing development, you can simplify this process by turning
on the <code>imq.autocreate.topic</code> or <code>imq.autocreate.queue</code> properties for
the broker. If you do this, the broker automatically creates a physical
destination whenever a message consumer or message producer attempts to
access a non-existent destination. The auto-created destination will
have the same name as the logical destination name you specified using
the <code>MQCreateDestination</code> function. By default, the broker has the
properties <code>imq.autocreate.topic</code> and <code>imq.autocreate.queue</code> turned on.</p>
</div>
<div class="paragraph">
<p><a id="gbmam"></a><a id="GMCCG00121"></a><a id="common-errors-11"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_10">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_INVALID_DESTINATION_TYPE
MQ_SESSION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelec"></a><a id="GMCCG00349"></a><a id="mqcreatedurablemessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatedurablemessageconsumer">MQCreateDurableMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateDurableMessageConsumer</code> function creates a synchronous
durable message consumer for the specified topic destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateDurableMessageConsumer
          (const MQSessionHandle sessionHandle,
           const MQDestinationHandle destinationHandle,
           ConstMQString durableName,
           ConstMQString messageSelector,
           MQBool noLocal
           MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmag"></a><a id="GMCCG00122"></a><a id="return-value-13"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_12">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmaa"></a><a id="GMCCG00123"></a><a id="parameters-16"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_15">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is passed back to you by the <a href="#aeleh">MQCreateSession</a> function.
For this (synchronous) durable consumer, the session must have been
created with the <code>MQ_SESSION_SYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to a topic destination on which the consumer receives
messages. This handle remains valid after the call returns.</p>
</dd>
<dt class="hdlist1"><code>durableName</code></dt>
<dd>
<p>An <code>MQString</code> specifying the name of the durable subscriber to the
topic destination. The library makes a copy of the <code>durableName</code>
string.</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer.<br>
Specify a <code>NULL</code> or empty string to indicate that there is no message
selector for this consumer. In this case, the consumer receives all
messages. The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>noLocal</code></dt>
<dd>
<p>Specify <code>MQ_TRUE</code> to inhibit delivery of messages published by this
consumer&#8217;s own connection.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQCreateDurableMessageConsumer</code> function creates a synchronous
message consumer for the specified destination. A durable consumer
receives all the messages published to a topic, including the ones
published while the subscriber is inactive.</p>
</div>
<div class="paragraph">
<p>You can define parameters to filter messages and to inhibit the delivery
of messages you published to your own connection. Note that the
session&#8217;s receive mode (sync/async) must be appropriate for the kind of
consumer you are creating (sync/async). To create an asynchronous
durable message consumer for a destination, call the function
<a href="#aeldv">MQCreateAsyncDurableMessageConsumer</a>.</p>
</div>
<div class="paragraph">
<p>Durable consumers are for topic destinations. If you are creating a
consumer for a queue destination or if you are not interested in
messages that arrive to a topic while you are inactive, you should use
the function <code>MQCreateMessageConsumer.()</code></p>
</div>
<div class="paragraph">
<p>The broker retains a record of this durable subscription and makes sure
that all messages from the publishers to this topic are retained until
they are either acknowledged by this durable subscriber or until they
have expired. Sessions with durable subscribers must always provide the
same client identifier (see <code>MQCreateConnection</code>, <code>clientID</code> parameter).
In addition, each durable consumer must specify a durable name using the
<code>durableName</code> parameter, which uniquely identifies (for each client
identifier) the durable subscription when it is created.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. However, messages will be
routed to the durable subscriber while it is inactive and delivered when
the durable consumer is recreated. To close a consumer without closing
the session or connection to which it belongs, use the
<a href="#aeldr">MQCloseMessageConsumer</a> function. If you want to close a
durable consumer permanently, you should call the
<a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a> function after closing
it to delete state information maintained by the broker on behalf of the
durable consumer.</p>
</div>
<div class="paragraph">
<p><a id="gbmav"></a><a id="GMCCG00124"></a><a id="common-errors-12"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_11">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_SYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMITE_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONSUMER_NO_DURABLE_NAME
MQ_QUEUE_CONSUMER_CANNOT_BE_DURABLE
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbjak"></a><a id="GMCCG00350"></a><a id="mqcreatemessage"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatemessage">MQCreateMessage</h4>
<div class="paragraph">
<p>The <code>MQCreateMessage</code> function creates a new message of type
<code>MQ_MESSAGE</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateMessage
                  (MQMessageHandle * messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmat"></a><a id="GMCCG00125"></a><a id="return-value-14"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_13">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbd"></a><a id="GMCCG00126"></a><a id="parameters-17"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_16">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the newly created
message.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use the <code>MQCreateMessage</code> function to create a message that has a header
and, optionally, properties, but which does not have a body. Such
messages might be used by applications to signal events, which could be
specified using header fields or message properties. This could improve
performance because the message does not have a body and therefore there
is no body to parse.</p>
</div>
<div class="paragraph">
<p><a id="aeled"></a><a id="GMCCG00351"></a><a id="mqcreatemessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatemessageconsumer">MQCreateMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateMessageConsumer</code> function creates a synchronous message
consumer for the specified destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateMessageConsumer
                  (const MQSessionHandle sessionHandle,
                   const MQDestinationHandle destinationHandle,
                   ConstMQString messageSelector,
                   MQBool noLocal
                   MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmas"></a><a id="GMCCG00127"></a><a id="return-value-15"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_14">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmaw"></a><a id="GMCCG00128"></a><a id="parameters-18"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_17">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is passed back to you by the <a href="#aeleh">MQCreateSession</a> function.
For this (synchronous) consumer, the session must have been created
with the <code>MQ_SESSION_SYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination on which the consumer receives messages.
This handle remains valid after the call returns.</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer. Specify a <code>NULL</code> or empty string to indicate that there is
no message selector for this consumer and that all messages should be
returned.<br>
The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>noLocal</code></dt>
<dd>
<p>Specify <code>MQ_TRUE</code> to inhibit delivery of messages published by this
consumer&#8217;s own connection. This applies only to topic destinations; it
is ignored for queues.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQCreateMessageConsumer()</code> function creates a synchronous message
consumer for the specified destination. You can define parameters to
filter messages and to inhibit the delivery of messages you published to
your own connection. Note that the session&#8217;s receive mode (sync/async)
must be appropriate for the kind of consumer you are creating
(sync/async). To create an asynchronous message consumer for a
destination, use the <a href="#aeldw">MQCreateAsyncMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p>If the consumer is a topic destination, it can only receive messages
that are published while it is active. To receive messages published
while this consumer is not active, you should create a consumer using
either the <a href="#aelec">MQCreateDurableMessageConsumer</a> function or the
<a href="#aeldv">MQCreateAsyncDurableMessageConsumer</a> function, depending on
the receive mode you defined for the session.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. To close a consumer without
closing the session or connection to which it belongs, use the
<code>MQCloseMessageConsumer ()</code> function.</p>
</div>
<div class="paragraph">
<p><a id="gbmaz"></a><a id="GMCCG00129"></a><a id="common-errors-13"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_12">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_SYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMIT_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelee"></a><a id="GMCCG00352"></a><a id="mqcreatemessageproducer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatemessageproducer">MQCreateMessageProducer</h4>
<div class="paragraph">
<p>The <code>MQCreateMessageProducer</code> function creates a message producer that
does not have a specified destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateMessageProducer(const MQSessionHandle sessionHandle,
 MQProducerHandle * producerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmao"></a><a id="GMCCG00130"></a><a id="return-value-16"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_15">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmah"></a><a id="GMCCG00131"></a><a id="parameters-19"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_18">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this producer should belong.</p>
</dd>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the producer.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQCreateMessageProducer</code> function creates a message producer that
does not have a specified destination. In this case, you will specify
the destination when sending the message itself by using either the
<a href="#aelfv">MQSendMessageToDestination</a> function or the
<a href="#aelfw">MQSendMessageToDestinationExt</a> function.</p>
</div>
<div class="paragraph">
<p>Using the <code>MQCreateMessageProducer</code> function is appropriate when you
want to use the same producer to send messages to a variety of
destinations. If, on the other hand, you want to use one producer to
send many messages to the same destination, you should use the
<a href="#aelef">MQCreateMessageProducerForDestination</a> function instead.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s producers are automatically closed when you close the
session or connection to which they belong. To close a producer without
closing the session or connection to which it belongs, use the
<a href="#aelds">MQCloseMessageProducer</a> function.</p>
</div>
<div class="paragraph">
<p><a id="gbmal"></a><a id="GMCCG00132"></a><a id="common-errors-14"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_13">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SESSION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelef"></a><a id="GMCCG00353"></a><a id="mqcreatemessageproducerfordestination"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatemessageproducerfordestination">MQCreateMessageProducerForDestination</h4>
<div class="paragraph">
<p>The <code>MQCreateMessageProducerForDestination</code> function creates a message
producer with a specified destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateMessageProducerForDestination
                    (const MQSessionHandle sessionHandle,
                     const MQDestinationHandle destinationHandle,
                     MQProducerHandle * producerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmba"></a><a id="GMCCG00133"></a><a id="return-value-17"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_16">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmap"></a><a id="GMCCG00134"></a><a id="parameters-20"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_19">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this producer belongs.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination where you want this producer to send all
messages. This handle remains valid after the call returns.</p>
</dd>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the producer.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQCreateMessageProducerForDestination</code> function creates a message
producer with a specified destination. All messages sent out by this
producer will go to that destination. Use the <a href="#aelft">MQSendMessage</a>
function or the <a href="#aelfu">MQSendMessageExt</a> function to send messages
for a producer with a specified destination.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#aelee">MQCreateMessageProducer</a> function when you want to
use one producer to send messages to a variety of destinations.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s producers are automatically closed when you close the
session or connection to which they belong. To close a producer without
closing the session or connection to which it belongs, use the
<code>MQCloseMessageProducer ()</code> function.</p>
</div>
<div class="paragraph">
<p><a id="gbmbc"></a><a id="GMCCG00135"></a><a id="common-errors-15"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_14">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aeleg"></a><a id="GMCCG00354"></a><a id="mqcreateproperties"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreateproperties">MQCreateProperties</h4>
<div class="paragraph">
<p>The <code>MQCreateProperties</code> function creates a properties handle and passes
it back to the caller.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateProperties (MQPropertiesHandle * propertiesHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmae"></a><a id="GMCCG00136"></a><a id="return-value-18"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_17">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmaj"></a><a id="GMCCG00137"></a><a id="parameters-21"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_20">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the newly created
properties object.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use the <code>MQCreateProperties</code> function to get a properties handle. You
can then use the appropriate <code>MQSet...Property</code> function to set the
desired properties.</p>
</div>
<div class="paragraph">
<p><a id="aeleh"></a><a id="GMCCG00355"></a><a id="mqcreatesession"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatesession">MQCreateSession</h4>
<div class="paragraph">
<p>The <code>MQCreateSession</code> function creates a session, defines its behavior,
and passes back a handle to the session.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateSession(const MQConnectionHandle connectionHandle,
                 MQBool isTransacted,
                 MQAckMode acknowledgeMode,
                 MQReceiveMode receiveMode
                 MQSessionHandle * sessionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmak"></a><a id="GMCCG00138"></a><a id="return-value-19"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_18">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbj"></a><a id="GMCCG00139"></a><a id="parameters-22"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_21">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>The handle to the connection to which this session belongs. This
handle is passed back to you by the <a href="#aeldy">MQCreateConnection</a>
function. You can create multiple sessions on a single connection.</p>
</dd>
<dt class="hdlist1"><code>isTransacted</code></dt>
<dd>
<p>An <code>MQBool</code> specifying whether this session is transacted. Specify
<code>MQ_TRUE</code> if the session is transacted. In this case, the
<code>acknowledgeMode</code> parameter is ignored.</p>
</dd>
<dt class="hdlist1"><code>acknowledgeMode</code></dt>
<dd>
<p>An enumeration of the possible kinds of acknowledgement modes for the
session. See <a href="#aeldl">Acknowledge Modes</a> for information on these
values.<br>
After you have created a session, you can determine its
acknowledgement mode by calling the <a href="#aelep">MQGetAcknowledgeMode</a>
function.</p>
</dd>
<dt class="hdlist1"><code>receiveMode</code></dt>
<dd>
<p>An enumeration specifying whether this session will do synchronous or
asynchronous message receives. Specify <code>MQ_SESSION_SYNC_RECEIVE</code> or
<code>MQ_SESSION_ASYNC_RECEIVE</code>.<br>
If the session is only for producing messages, the <code>receiveMode</code> has
no significance. In that case, specify <code>MQ_SESSION_SYNC_RECEIVE</code> to
optimize the session&#8217;s resource use.</p>
</dd>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>A handle to this session. You will need to pass this handle to the
functions you use to manage the session and to create destinations,
consumers, and producers associated with this session.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQCreateSession</code> function creates a new session and passes back a
handle to it in the <code>sessionHandle</code> parameter. The number of sessions
you can create for a single connection is limited only by system
resources. A session is a single-thread context for producing and
consuming messages. You can create multiple producers and consumers for
a session, but you are restricted to use them serially. In effect, only
a single logical thread of control can use them.</p>
</div>
<div class="paragraph">
<p>A session with a registered message listener is dedicated to the thread
of control that delivers messages to the listener. This means that if
you want to send messages, for example, you must create another session
with which to do this. The only operations you can perform on a session
with a registered listener, is to close the session or the connection.</p>
</div>
<div class="paragraph">
<p>After you create a session, you can create the producers, consumers, and
destinations that use the session context to do their work.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For a session that is not transacted, use the
<a href="#aelfr">MQRecoverSession</a> function to restart message delivery with
the last unacknowledged message.</p>
</li>
<li>
<p>For a session that is transacted, use the
<a href="#aelfs">MQRollBackSession</a> function to roll back any messages that
were delivered within this transaction. Use the
<a href="#aeldu">MQCommitSession</a> function to commit all messages associated
with this transaction.</p>
</li>
<li>
<p>For a session that has <code>acknowledgeMode</code> set to
<code>MQ_CLIENT_ACKNOWLEDGE</code>, use the function
<a href="#aeldp">MQAcknowledgeMessages</a> to acknowledge consumed messages.</p>
</li>
<li>
<p>Use the <a href="#aeldt">MQCloseSession</a> function to close a session and
all its associated producers and consumers. This function also frees
memory allocated for the session.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIACFJDI"></a><a id="GMCCG453"></a><a id="mqcreateshareddurablemessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreateshareddurablemessageconsumer">MQCreateSharedDurableMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateSharedDurableMessageConsumer</code> function creates a
synchronous shared durable subscription with the specified name (if one
does not already exist) and creates a consumer on that durable
subscription for the specified topic destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateSharedDurableMessageConsumer
          (const MQSessionHandle sessionHandle,
           const MQDestinationHandle destinationHandle,
           ConstMQString durableName,
           ConstMQString messageSelector,
           MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GMCCG454"></a><a id="sthref35"></a></p>
</div>
<div class="sect4">
<h5 id="return-value-20">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG455"></a><a id="sthref36"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="parameters-23">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is passed back to you by the <a href="#aeleh">MQCreateSession</a> function.
For this (synchronous) durable consumer, the session must have been
created with the <code>MQ_SESSION_SYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to a topic destination on which the consumer receives
messages. This handle remains valid after the call returns.</p>
</dd>
<dt class="hdlist1"><code>durableName</code></dt>
<dd>
<p>An <code>MQString</code> specifying the name of the durable subscriber to the
topic destination. The library makes a copy of the <code>durableName</code>
string.</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer.<br>
Specify a <code>NULL</code> or empty string to indicate that there is no message
selector for this consumer. In this case, the consumer receives all
messages. The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You can define parameters to filter messages. The session&#8217;s receive mode
(sync/async) must be appropriate for the kind of consumer you are
creating (sync/async). To create an asynchronous shared durable message
consumer for a topic destination, call the function
<code>MQCreateSyncSharedDurableMessageConsumer()</code>. To create an unshared
synchronous durable message consumer, use the function
<code>MQCreateDurableMessageConsumer()</code>.</p>
</div>
<div class="paragraph">
<p>Durable consumers can only be used for topic destinations. If you are
creating a synchronous consumer for a queue destination, use function
<a href="#aeled">MQCreateMessageConsumer</a>. If you are not interested in
messages that arrive to a topic while you are inactive, you might prefer
to use the function <a href="#CIAJABFE">MQCreateSharedMessageConsumer</a>.</p>
</div>
<div class="paragraph">
<p>The broker retains a record of this durable subscription and makes sure
that all messages from the publishers to this topic are retained until
they are either acknowledged by a consumer on the durable subscription
or until they have expired. A durable subscription continues to
accumulate messages until it is deleted using the
<a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p>A shared subscription is used by a client which needs to be able to
share the work of receiving messages from a topic subscription amongst
multiple consumers. This means that multiple active (not closed)
consumers on the subscription may exist at the same time. A shared
durable subscription is identified by a name specified by the
<code>durableName</code> parameter and by the client identifier (which may be
unset, see the <code>clientId</code> parameter in <a href="#aeldy">MQCreateConnection</a>).</p>
</div>
<div class="paragraph">
<p>A shared durable subscription and an unshared durable subscription may
not have the same name and client identifier (if set).</p>
</div>
<div class="paragraph">
<p>There is no restriction on durable subscriptions and shared non-durable
subscriptions having the same name and <code>clientId</code> (which may be unset).
Durable subscriptions and shared non-durable subscriptions have separate
name spaces.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. To close a consumer without
closing the session or connection to which it belongs, use
<a href="#aeldr">MQCloseMessageConsumer</a> function. To delete the durable
subscription, use function
<a href="#aelgn">MQUnsubscribeDurableMessageConsumer</a> after all its consumers
are closed.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG456"></a><a id="sthref37"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="common-errors-16">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_SYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMITE_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONSUMER_NO_DURABLE_NAME
MQ_QUEUE_CONSUMER_CANNOT_BE_DURABLE
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_SHARED_SUBSCRIPTION_NOT_TOPIC</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="CIAJABFE"></a><a id="GMCCG457"></a><a id="mqcreatesharedmessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatesharedmessageconsumer">MQCreateSharedMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQCreateSharedMessageConsumer</code> function creates a synchronous
shared non-durable subscription with the specified name (if one does not
already exist) and creates a consumer on that non-durable subscription
for the specified topic destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateSharedMessageConsumer
                  (const MQSessionHandle sessionHandle,
                   const MQDestinationHandle destinationHandle,
                   ConstMQString subscriptionName,
                   ConstMQString messageSelector,
                   MQConsumerHandle * consumerHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GMCCG458"></a><a id="sthref38"></a></p>
</div>
<div class="sect4">
<h5 id="return-value-21">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG459"></a><a id="sthref39"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="parameters-24">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is passed back to you by the <a href="#aeleh">MQCreateSession</a> function.
For this (synchronous) consumer, the session must have been created
with the <code>MQ_SESSION_SYNC_RECEIVE</code> receive mode.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination on which the consumer receives messages.
This handle remains valid after the call returns.</p>
</dd>
<dt class="hdlist1"><code>subscriptionName</code></dt>
<dd>
<p>A <code>MQString</code> specifying a name to identify this shared subscription.
The library makes a copy of the <code>subscriptionName</code> string.</p>
</dd>
<dt class="hdlist1"><code>messageSelector</code></dt>
<dd>
<p>An expression (based on SQL92 conditional syntax) that specifies the
criteria upon which incoming messages should be selected for this
consumer. Specify a <code>NULL</code> or empty string to indicate that there is
no message selector for this consumer and that all messages should be
returned.<br>
The library makes a copy of the <code>messageSelector</code> string.<br>
For more information about SQL, see X/Open CAE Specification Data
Management: Structured Query Language (SQL), Version 2, ISBN
1-85912-151-9, March 1966.</p>
</dd>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>Output parameter for the handle that references the consumer for the
specified destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You can define parameters to filter messages. The session&#8217;s receive mode
(sync/async) must be appropriate for the kind of consumer you are
creating (sync/async). To create an asynchronous shared message consumer
for a topic destination, use the
<a href="#CIACEAJE">MQCreateAsyncSharedMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p>A non-durable shared subscription is used by a client which needs to be
able to share the work of receiving messages from a topic subscription
amongst multiple consumers. A non-durable shared subscription may
therefore have more than one consumer. Each message from the
subscription will be delivered to only one of the consumers on that
subscription. Such a subscription is not persisted and will be deleted
(together with any undelivered messages associated with it) when there
are no consumers on it.</p>
</div>
<div class="paragraph">
<p>A session&#8217;s consumers are automatically closed when you close the
session or connection to which they belong. To close a consumer without
closing the session or connection to which it belongs, use the
<a href="#aeldr">MQCloseMessageConsumer</a> function.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG460"></a><a id="sthref40"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="common-errors-17">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_SYNC_RECEIVE_MODE
MQ_INVALID_MESSAGE_SELECTOR
MQ_DESTINATION_CONSUMER_LIMIT_EXCEEDEED
MQ_TEMPORARY_DESTINATION_NOT_IN_CONNECTION
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_SHARED_SUBSCRIPTION_NOT_TOPIC</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelei"></a><a id="GMCCG00356"></a><a id="mqcreatetemporarydestination"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatetemporarydestination">MQCreateTemporaryDestination</h4>
<div class="paragraph">
<p>The <code>MQCreateTemporaryDestination</code> function creates a temporary
destination and passes its handle back to you.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateTemporaryDestination(const MQSessionHandle sessionHandle
 MQDestinationType destinationType,
 MQDestinationHandle * destinationHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmde"></a><a id="GMCCG00140"></a><a id="return-value-22"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_19">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcu"></a><a id="GMCCG00141"></a><a id="parameters-25"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_22">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session with which you want to associate this
destination.</p>
</dd>
<dt class="hdlist1"><code>destinationType</code></dt>
<dd>
<p>An enum specifying the destination type, either <code>MQ_QUEUE_DESTINATION</code>
or <code>MQ_TOPIC_DESTINATION</code>.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>Output parameter for the handle to the newly created temporary
destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You can use a temporary destination to implement a simple request/reply
mechanism. When you pass the handle of a temporary destination to the
<code>MQSetMessageReplyTo</code> function, the consumer of the message can use that
handle as the destination to which it sends a reply.</p>
</div>
<div class="paragraph">
<p>Temporary destinations are explicitly created by client applications;
they are deleted when the connection is closed. They are maintained (and
named) by the broker only for the duration of the connection for which
they are created. Temporary destinations are system-generated uniquely
for their connection and only their own connection is allowed to create
message consumers for them.</p>
</div>
<div class="paragraph">
<p>For more information, see "<a href="../mq-tech-over/client-programming-model.html#GMTOV00056">The Request-Reply Pattern</a>"
in Open Message Queue Technical Overview and "<a href="../mq-admin-guide/broker-management.html#GMADG00036">Managing
a Broker</a> ", "<a href="../mq-admin-guide/connection-services.html#GMADG00037">Configuring and Managing Connection
Services</a>" and "<a href="../mq-admin-guide/administered-objects.html#GMADG00042">Managing Administered Objects</a>" in Open
Message Queue Administration Guide.</p>
</div>
<div class="paragraph">
<p><a id="gbmdd"></a><a id="GMCCG00142"></a><a id="common-errors-18"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_15">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_INVALID_DESTINATION_TYPE
MQ_SESSION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelej"></a><a id="GMCCG00357"></a><a id="mqcreatetextmessage"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatetextmessage">MQCreateTextMessage</h4>
<div class="paragraph">
<p>The <code>MQCreatesTextMessage</code> function creates a text message and passes a
handle to it back to you.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateTextMessage( MQMessageHandle * messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gheto"></a><a id="GMCCG00143"></a><a id="return-value-23"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_20">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gheqf"></a><a id="GMCCG00144"></a><a id="parameters-26"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_23">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>Output parameter for the handle to the new, empty message.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a text message, you can use this handle
to define its content with the
<a href="#aelfy">MQSetBytesMessageBytes</a><a href="#aelgi">MQSetStringProperty</a>
function, to set its headers with the <a href="#aelgf">MQSetMessageHeaders</a>
function, and to set its properties with the
<a href="#aelgg">MQSetMessageProperties</a> function.</p>
</div>
<div class="paragraph">
<p><a id="ghern"></a><a id="GMCCG00358"></a><a id="mqcreatexasession"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqcreatexasession">MQCreateXASession</h4>
<div class="paragraph">
<p>The <code>MQCreateXASession</code> function creates a distributed transaction (XA)
session on an XA connection, defines its behavior, and passes back a
handle to the session.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQCreateXASession(const MQConnectionHandle connectionHandle,
                 MQReceiveMode receiveMode
                 MQMessageListenerBAFunc     beforeMessageListener,
                 MQMessageListenerBAFunc     afterMessageListener,
                 void *                      callbackData,
                 MQSessionHandle * sessionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmhb"></a><a id="GMCCG00145"></a><a id="return-value-24"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_21">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmha"></a><a id="GMCCG00146"></a><a id="parameters-27"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_24">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>The handle to the connection to which this session belongs. This
handle is passed back to you by the <a href="#gherz">MQGetXAConnection</a>
function. You can create multiple sessions on a single connection.</p>
</dd>
<dt class="hdlist1"><code>receiveMode</code></dt>
<dd>
<p>An enumeration specifying whether this session will do synchronous or
asynchronous message receives. Specify <code>MQ_SESSION_SYNC_RECEIVE</code> or
<code>MQ_SESSION_ASYNC_RECEIVE</code>.<br>
If the session is only for producing messages, the <code>receiveMode</code> has
no significance. In that case, specify <code>MQ_SESSION_SYNC_RECEIVE</code> to
optimize the session&#8217;s resource use.</p>
</dd>
<dt class="hdlist1"><code>beforeMessageListener</code></dt>
<dd>
<p>A callback function before asynchronous message delivery.</p>
</dd>
<dt class="hdlist1"><code>afterMessageListener</code></dt>
<dd>
<p>A callback function after asynchronous message delivery.</p>
</dd>
<dt class="hdlist1"><code>callbackData</code></dt>
<dd>
<p>A data pointer to be passed to the beforeDelivery and afterDelivery
functions.</p>
</dd>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>A handle to this session. You will need to pass this handle to the
functions you use to manage the session and to create destinations,
consumers, and producers associated with this session.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If receiveMode is <code>MQ_SESSION_SYNC_RECEIVE</code>, pass NULL for
<code>beforeMessageListener</code>, <code>afterMessageListener</code>, and <code>callbackData</code>.</p>
</div>
<div class="paragraph">
<p>The <code>MQCreateXASession</code> function creates a new distributed transaction
(XA) session. The <code>connectionHandle</code> must be a XA connection handle.</p>
</div>
<div class="paragraph">
<p>An XA session is the same as a regular session created by
MQCreateSession (see <a href="#aeleh">MQCreateSession</a>) except:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An XA session is always XA transacted and the distributed transaction
is managed by a X/Open distributed transaction manager.
<code>MQCommitSession</code> and <code>MQRollbackSession</code> should not be called on a XA
session.</p>
</li>
<li>
<p>Sending/receiving messages with an XA session must be done in an XA
transaction.</p>
</li>
<li>
<p>If receiveMode is <code>MQ_SESSION_ASYNC_RECEIVE</code>, callback functions
<code>beforeMessageListener</code> and <code>afterMessageListener</code> must be specified.
<code>beforeMessageListener</code> will be called by the C-API runtime before it
calls the messageListener callback; <code>afterMessageListener</code> will be
called by the C-API runtime after it calls the messageListener callback.<br>
The <code>beforeMessageListener</code> and <code>afterMessageListener</code> functions are
provided to the application to associate and disassociate the C-API
runtime calling thread with an XA transaction, to demarcate XA
transactions, and to set appropriate application association context to
the calling thread if the application&#8217;s distributed transaction
processing environment requires that.<br>
During normal processing, the C-API runtime:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Calls the <code>beforeMessageListener</code> function.</p>
</li>
<li>
<p>Processes the message, calling the <code>messageListener</code> function.</p>
</li>
<li>
<p>Calls the <code>afterMessageListener</code> function.<br>
However, errors can alter this processing sequence:</p>
<div class="ulist">
<ul>
<li>
<p>If the <code>beforeMessageListener</code> function returns an error (a value
other than <code>MQ_OK</code>), the C-API runtime logs a warning message containing
the error code and then stops processing the message. It does not call
<code>messageListener</code> or <code>afterMessageListener</code>.</p>
</li>
<li>
<p>If the attempt to call <code>messageListener</code> fails, or if message
acknowledgement fails, the C-API runtime passes the appropriate error
code to <code>afterMessageListener</code>.</p>
</li>
<li>
<p>If the <code>messageListener</code> function returns an error, the C-API runtime
logs a warning containing the error code and then passes the
<code>MQ_CALLBACK_RUNTIME_ERROR</code> error to <code>afterMessageListener</code>, regardless
of the actual error code returned.</p>
</li>
<li>
<p>If the <code>afterMessageListener</code> function returns an error, the C-API
runtime logs a warning containing the error code.<br>
Even if an error occurs, the <code>callbackData</code> parameter is passed to the
<code>beforeMessageListener</code> and <code>afterMessageListener</code> functions unchanged.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gheyw"></a><a id="GMCCG00147"></a><a id="common-errors-19"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_16">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_XA_CONNECTION
MQ_INVALID_RECEIVE_MODE
MQ_BROKER_CONNECTION_CLOSED
MQ_COULD_NOT_CREATE_THREAD</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelek"></a><a id="GMCCG00359"></a><a id="mqfreeconnection"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqfreeconnection">MQFreeConnection</h4>
<div class="paragraph">
<p>The <code>MQFreeConnection</code> function deallocates memory assigned to the
specified connection and to all resources associated with that
connection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQFreeConnection(MQConnectionHandle connectionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmby"></a><a id="GMCCG00148"></a><a id="return-value-25"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_22">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbt"></a><a id="GMCCG00149"></a><a id="parameters-28"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_25">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>A handle to the connection you want to free.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You must call this function after you have closed the connection with
the <code>MQCloseConnection()</code> function and after all of the application
threads associated with this connection and its dependent sessions,
producers, and consumers have returned.</p>
</div>
<div class="paragraph">
<p>You must not call this function while an application thread is active in
a library function associated with this connection or one of its
dependent sessions, producers, consumers, and destinations.</p>
</div>
<div class="paragraph">
<p>Calling this function does not release resources held by a message or a
destination associated with this connection. You must free memory
allocated for a message or a destination by explicitly calling the
<code>MQFreeMessage</code> or the <code>MQFreeDestination</code> function.</p>
</div>
<div class="paragraph">
<p><a id="gbmbf"></a><a id="GMCCG00150"></a><a id="common-errors-20"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_17">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_STATUS_CONNECTION_NOT_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelel"></a><a id="GMCCG00360"></a><a id="mqfreedestination"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqfreedestination">MQFreeDestination</h4>
<div class="paragraph">
<p>The <code>MQFreeDestination</code> function frees memory allocated for the
destination referenced by the specified handle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQFreeDestination(MQDestinationHandle destinationHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcb"></a><a id="GMCCG00151"></a><a id="return-value-26"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_23">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcl"></a><a id="GMCCG00152"></a><a id="parameters-29"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_26">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination you want to free.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Calling the <code>MQCloseConnection</code>, <code>MQCloseSession</code> or <code>MQFreeConnection</code>
function does not automatically free destinations created for the
connection or for the session.</p>
</div>
<div class="paragraph">
<p><a id="aelem"></a><a id="GMCCG00361"></a><a id="mqfreemessage"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqfreemessage">MQFreeMessage</h4>
<div class="paragraph">
<p>The <code>MQFreeMessage</code> function frees memory allocated for the message
referenced by the specified handle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQFreeMessage(MQMessageHandle messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmbh"></a><a id="GMCCG00153"></a><a id="return-value-27"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_24">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcz"></a><a id="GMCCG00154"></a><a id="parameters-30"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_27">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the message you want to free.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Calling the <code>MQCloseCOnnection</code>, <code>MQCloseSession</code> or <code>MQFreeConnection</code>
function does not automatically free messages associated with that
connection or session.</p>
</div>
<div class="paragraph">
<p><a id="aelen"></a><a id="GMCCG00362"></a><a id="mqfreeproperties"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqfreeproperties">MQFreeProperties</h4>
<div class="paragraph">
<p>The <code>MQFreeProperties</code> function frees the memory allocated to the
referenced properties object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQFreeProperties(MQPropertiesHandle propertiesHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcj"></a><a id="GMCCG00155"></a><a id="return-value-28"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_25">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbk"></a><a id="GMCCG00156"></a><a id="parameters-31"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_28">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object you want to free.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You should not free a properties handle if the properties handle passed
to a function becomes invalid on its return. If you do, you will get an
error.</p>
</div>
<div class="paragraph">
<p><a id="aeleo"></a><a id="GMCCG00363"></a><a id="mqfreestring"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqfreestring">MQFreeString</h4>
<div class="paragraph">
<p>The <code>MQFreeString</code> function frees the memory allocated for the specified
<code>MQString</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQFreeString(MQString statusString);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmbz"></a><a id="GMCCG00157"></a><a id="return-value-29"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_26">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcs"></a><a id="GMCCG00158"></a><a id="parameters-32"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_29">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>statusString</code></dt>
<dd>
<p>An <code>MQString</code> returned by the <code>MQGetStatusString</code> function or by the
<code>MQGetErrorTrace</code> function.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="aelep"></a><a id="GMCCG00364"></a><a id="mqgetacknowledgemode"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetacknowledgemode">MQGetAcknowledgeMode</h4>
<div class="paragraph">
<p>The <code>MQGetAcknowledgeMode</code> function passes back the acknowledgement mode
of the specified session.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetAcknowledgemode(const MQSessionHandle sessionHandle
                           MQAckMode * ackMode);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmco"></a><a id="GMCCG00159"></a><a id="return-value-30"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_27">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcv"></a><a id="GMCCG00160"></a><a id="parameters-33"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_30">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session whose acknowledgement mode you want to
determine.</p>
</dd>
<dt class="hdlist1"><code>ackMode</code></dt>
<dd>
<p>Output parameter for the <code>ackMode</code>. The <code>ackMode</code> returned can be one
of four enumeration values. See <a href="#aeldl">Acknowledge Modes</a> for
information about these values.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If you want to change the acknowledge mode, you need to create another
session with the desired mode.</p>
</div>
<div class="paragraph">
<p><a id="aeleq"></a><a id="GMCCG00365"></a><a id="mqgetboolproperty"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetboolproperty">MQGetBoolProperty</h4>
<div class="paragraph">
<p>The <code>MQGetBoolProperty</code> function passes back the value of the <code>MQBool</code>
property for the specified key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetBoolProperty(const MQPropertiesHandle propertiesHandle,
                        ConstMQString key,
                        MQBool * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmbr"></a><a id="GMCCG00161"></a><a id="return-value-31"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_28">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmci"></a><a id="GMCCG00162"></a><a id="parameters-34"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_31">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the specified key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter for the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmbs"></a><a id="GMCCG00163"></a><a id="common-errors-21"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_18">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_FOUND
MQ_INVALID_TYPE_CONVERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aeler"></a><a id="GMCCG00366"></a><a id="mqgetbytesmessagebytes"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetbytesmessagebytes">MQGetBytesMessageBytes</h4>
<div class="paragraph">
<p>The <code>MQGetBytesMessageBytes</code> function passes back the address and size
of a bytes message body.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetBytesMessageBytes(const MQMessageHandle messageHandle,
 const MQInt8 * messageBytes
 MQInt32 * messageBytesSize);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmbm"></a><a id="GMCCG00164"></a><a id="return-value-32"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_29">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbv"></a><a id="GMCCG00165"></a><a id="parameters-35"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_32">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message that is passed to you when you receive a
message.</p>
</dd>
<dt class="hdlist1"><code>messageBytes</code></dt>
<dd>
<p>Output parameter that contains the start address of the bytes that
constitute the body of this bytes message.</p>
</dd>
<dt class="hdlist1"><code>messageBytesSize</code></dt>
<dd>
<p>Output parameter that contains the size of the message body in bytes.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a message, you can use the
<a href="#aelfd">MQGetMessageType</a> function to determine its type and, if the
type is <code>MQ_BYTES_MESSAGE</code>, you can use the <code>MQGetBytesMessageBytes</code>
function to retrieve the message bytes (message body).</p>
</div>
<div class="paragraph">
<p>The bytes message passed to you by this function is not a copy. You
should not modify the bytes or attempt to free it.</p>
</div>
<div class="paragraph">
<p><a id="ghevs"></a><a id="GMCCG00367"></a><a id="mqgetconnectionproperties"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetconnectionproperties">MQGetConnectionProperties</h4>
<div class="paragraph">
<p>The <code>MQGetConnectionProperties</code> function gets the connection properties
used to create the connection specified by s <code>connectionHandle</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetConnectionProperties (const MQConnectionHandle connectionHandle,
MQPropertiesHandle * propertiesHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="ghezj"></a><a id="GMCCG00166"></a><a id="return-value-33"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_30">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="ghezk"></a><a id="GMCCG00167"></a><a id="parameters-36"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_33">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>A handle to a connection.</p>
</dd>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties of the connection.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The caller is responsible to free the returned connection properties by
calling <code>MQFreeProperties</code>.</p>
</div>
<div class="paragraph">
<p><a id="CIAFJBHF"></a><a id="GMCCG461"></a><a id="mqgetdeliverydelay"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetdeliverydelay">MQGetDeliveryDelay</h4>
<div class="paragraph">
<p>The <code>MQGetDeliveryDelay</code> function gets the <code>deliveryDelay</code> for messages
specified by <code>producerHandle</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetDeliveryDelay
                  (const MQProducer producerHandle,
                   MQInt64 deliveryDelay);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GMCCG462"></a><a id="sthref41"></a></p>
</div>
<div class="sect4">
<h5 id="return-value-34">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG463"></a><a id="sthref42"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="parameters-37">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>The handle to the producer sending this message. This handle is passed
back to you by the <a href="#aelef">MQCreateMessageProducerForDestination</a>
function.</p>
</dd>
<dt class="hdlist1"><code>deliveryDelay</code></dt>
<dd>
<p>The amount of time, in milliseconds, used to delay a message&#8217;s
delivery time.<br>
This value is added to the time the message was sent to calculate the
delivery time, which is the earliest time that a JMS provider may
deliver a message to a consumer. A JMS provider must not delivery
messages before the delivery time has been reached. When specified,
the <code>MQ_DELIVERY_TIME_HEADER_PROPERTY</code> is ignored.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbjog"></a><a id="GMCCG00368"></a><a id="mqgetdestinationname"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetdestinationname">MQGetDestinationName</h4>
<div class="paragraph">
<p>The <code>MQGetDestinatioName</code> function passes back the name of the specified
destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetDestinationName (const MQDestinationHandle destinationHandle,
                             MQString * destinationName);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcn"></a><a id="GMCCG00168"></a><a id="return-value-35"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_31">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcc"></a><a id="GMCCG00169"></a><a id="parameters-38"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_34">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination whose name you want to know.</p>
</dd>
<dt class="hdlist1"><code>destinationName</code></dt>
<dd>
<p>Output parameter for the destination name. The returned
<code>destinationName</code> is a copy which the caller is responsible for
freeing by calling the <code>MQFreeString()</code> function</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use the <code>MQGetDestinationName</code> function to get the name of a
destination. This might be useful for applications that want to do some
message processing based on the destination name.</p>
</div>
<div class="paragraph">
<p>This function is useful when using the Reply-To pattern. You can use the
<code>MQGetMessageReplyTo</code> function to obtain a handle to the destination
where the message should be sent. You can then use the
<code>MQGetDestinationName</code> to get the name of that destination.</p>
</div>
<div class="paragraph">
<p><a id="aeles"></a><a id="GMCCG00369"></a><a id="mqgetdestinationtype"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetdestinationtype">MQGetDestinationType</h4>
<div class="paragraph">
<p>The <code>MQGetDestinationType</code> passes back the type of the specified
destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetDestinationType (const MQDestinationHandle destinationHandle,
 MQDestinationType * destinationType);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmbw"></a><a id="GMCCG00170"></a><a id="return-value-36"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_32">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbp"></a><a id="GMCCG00171"></a><a id="parameters-39"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_35">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination whose type you want to know.</p>
</dd>
<dt class="hdlist1"><code>destinationType</code></dt>
<dd>
<p>Output parameter for the destination type; either
<code>MQ_QUEUE_DESTINATION</code> or <code>MQ_TOPIC_DESTINATION</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use the <code>MQGetDestinationType</code> function to determine the type of a
destination: queue or topic. There may be times when you do not know the
type of the destination to which you are replying: for example, when you
get a handle from the <code>MQGetMessageReplyTo</code> function. Because the
semantics of queue and topic destinations differ, you need to determine
the type of a destination in order to reply appropriately.</p>
</div>
<div class="paragraph">
<p>Once you have created a destination with a specified type, you cannot
change the type dynamically. If you want to change the type of a
destination, you need to free the destination using the
<a href="#aelel">MQFreeDestination</a> function and then to create a new
destination, with the desired type, using the
<a href="#aeleb">MQCreateDestination</a> or the
<a href="#aelei">MQCreateTemporaryDestination</a> function.</p>
</div>
<div class="paragraph">
<p><a id="aelet"></a><a id="GMCCG00370"></a><a id="mqgeterrortrace"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgeterrortrace">MQGetErrorTrace</h4>
<div class="paragraph">
<p>The <code>MQGetErrorTrace</code> function returns an <code>MQString</code> describing the
error trace at the time when a function call failed for the calling
thread.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString MQGetErrorTrace ()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Having found that a Message Queue function has not returned
successfully, you can get an error trace when the error occurred by
calling the <code>MQGetErrorTrace</code> function in the same thread that called
the unsuccessful Message Queue function.</p>
</div>
<div class="paragraph">
<p>The <code>MQGetErrorTrace</code> function returns an <code>MQString</code> describing the
error trace if it can determine this information. The function will
return a <code>NULL</code> string if there is no error trace available.</p>
</div>
<div class="paragraph">
<p>The following is an example of an error trace output.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">connect:../../../../src/share/cclient/io/TCPSocket.cpp:195:mq:-5981
readBrokerPorts:../../../../src/share/cclient/client/PortMapper
                                                Client.cpp:48:mq:-5981
connect:../../../../../src/share/cclient/client/protocol/
                                    TCPProtocolHandler.cpp:111:mq:-5981
connectToBroker:../../../../src/share/cclient/client/Connection.
                                                     cpp:412:mq:-5981
openConnection:../../../../src/share/cclient/client/Connection.
                                                     cpp:227:mq:1900
MQCreateConnectionExt:../../../../src/share/cclient/cshim/
                                        iMQConnectionShim.cpp:102:mq:1900</code></pre>
</div>
</div>
<div class="paragraph">
<p>You must call the <a href="#aeleo">MQFreeString</a> function to free the
<code>MQString</code> returned by the <code>MQGetErrorTrace</code> function when you are done.</p>
</div>
<div class="paragraph">
<p><a id="aeleu"></a><a id="GMCCG00172"></a><a id="mqgetfloat32property"></a></p>
</div>
<div class="sect4">
<h5 id="_mqgetfloat32property">MQGetFloat32Property</h5>
<div class="paragraph">
<p>The <code>MQGetFloat32Property</code> function passes back the value of the
<code>MQFloat32</code> property for the specified key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetFloat32Property(const MQPropertiesHandle propertiesHandle,
                           ConstMQString key,
                           MQFloat32 * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcx"></a><a id="GMCCG00173"></a><a id="return-value-37"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_return_value_33">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbe"></a><a id="GMCCG00174"></a><a id="parameters-40"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_36">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter for the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmdb"></a><a id="GMCCG00175"></a><a id="common-errors-22"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_19">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_FOUND
MQ_INVALID_TYPE_CONVERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelev"></a><a id="GMCCG00371"></a><a id="mqgetfloat64property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetfloat64property">MQGetFloat64Property</h4>
<div class="paragraph">
<p>The <code>MQGetFloat64Property</code> function passes back the value of the
<code>MQFloat64</code> property for the specified key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetFloat64Property(const MQPropertiesHandle propertiesHandle,
 ConstMQString key,
 MQFloat64 * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmct"></a><a id="GMCCG00176"></a><a id="return-value-38"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_34">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmce"></a><a id="GMCCG00177"></a><a id="parameters-41"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_37">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter for the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmbq"></a><a id="GMCCG00178"></a><a id="common-errors-23"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_20">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_FOUND
MQ_INVALID_TYPE_CONVERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelew"></a><a id="GMCCG00372"></a><a id="mqgetint16property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetint16property">MQGetInt16Property</h4>
<div class="paragraph">
<p>The <code>MQGetInt16Property</code> function passes back the value of the <code>MQInt16</code>
property for the specified key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetInt16Property(const MQPropertiesHandle propertiesHandle,
                         ConstMQString key,
                         MQInt16 * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcg"></a><a id="GMCCG00179"></a><a id="return-value-39"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_35">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbx"></a><a id="GMCCG00180"></a><a id="parameters-42"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_38">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the specified key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter for the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmbn"></a><a id="GMCCG00181"></a><a id="common-errors-24"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_21">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_FOUND
MQ_INVALID_TYPE_CONVERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelex"></a><a id="GMCCG00373"></a><a id="mqgetint32property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetint32property">MQGetInt32Property</h4>
<div class="paragraph">
<p>The <code>MQGetInt32Property</code> function passes back the value of the <code>MQInt32</code>
property for the specified key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetInt32Property(const MQPropertiesHandle propertiesHandle,
                         ConstMQString key,
                         MQInt32 * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcw"></a><a id="GMCCG00182"></a><a id="return-value-40"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_36">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbo"></a><a id="GMCCG00183"></a><a id="parameters-43"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_39">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter for the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmca"></a><a id="GMCCG00184"></a><a id="common-errors-25"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_22">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_FOUND
MQ_INVALID_TYPE_CONVERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aeley"></a><a id="GMCCG00374"></a><a id="mqgetint64property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetint64property">MQGetInt64Property</h4>
<div class="paragraph">
<p>The <code>MQGetInt64Property</code> function passes back the value of the MQInt64
property for the specified key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetint64Property (const MQPropertiesHandle propertiesHandle,
                          ConstMQString key,
                          MQInt64 * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmbu"></a><a id="GMCCG00185"></a><a id="return-value-41"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_37">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmbl"></a><a id="GMCCG00186"></a><a id="parameters-44"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_40">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter for the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmcd"></a><a id="GMCCG00187"></a><a id="common-errors-26"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_23">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_FOUND
MQ_INVALID_TYPE_CONVERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelez"></a><a id="GMCCG00375"></a><a id="mqgetint8property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetint8property">MQGetInt8Property</h4>
<div class="paragraph">
<p>The <code>MQGetInt8Property</code> function passes back the value of the <code>MQInt8</code>
property for the specified key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetInt8Property (const MQPropertiesHandle propertiesHandle,
                         ConstMQString key,
                         MQInt8 * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmbi"></a><a id="GMCCG00188"></a><a id="return-value-42"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_38">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcm"></a><a id="GMCCG00189"></a><a id="parameters-45"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_41">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter for the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmcp"></a><a id="GMCCG00190"></a><a id="common-errors-27"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_24">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_FOUND
MQ_INVALID_TYPE_CONVERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfa"></a><a id="GMCCG00376"></a><a id="mqgetmessageheaders"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetmessageheaders">MQGetMessageHeaders</h4>
<div class="paragraph">
<p>The <code>MQGetMessageHeaders</code> function passes back a handle to the message
headers.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>MQGetMessageHeaders</code></dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">(const MQMessageHandle messageHandle
 MQPropertiesHandle * headersHandle) ;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcf"></a><a id="GMCCG00191"></a><a id="return-value-43"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_39">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmcr"></a><a id="GMCCG00192"></a><a id="parameters-46"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_42">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>The message handle.</p>
</dd>
<dt class="hdlist1"><code>headersHandle</code></dt>
<dd>
<p>Output parameter for the handle to the message header properties.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQGetMessageHeaders</code> function passes back a handle to the message
headers. The message header includes the fields described in
<a href="#gbmck">Table 4-5</a>. Note that most of the fields are set by the send
function; the client can optionally set only two of these fields for
sending messages.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG464"></a><a id="sthref43"></a><a id="gbmck"></a></p>
</div>
<div class="paragraph">
<p>Table 4-5 Message Header Properties</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 56%;">
<col style="width: 20%;">
<col style="width: 24%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Set By</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_CORRELATION_ID_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client (optional)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_DELIVERY_TIME_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInt64 (Readonly)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_MESSAGE_TYPE_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client (optional)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_PERSISTENT_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQBool</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_EXPIRATION_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInt64</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_PRIORITY_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInt8</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_TIMESTAMP_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInt64</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_MESSAGE_ID_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MQ_REDELIVERED_HEADER_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQBool</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Broker</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You are responsible for freeing the <code>headersHandle</code> after you are done
with it. Use the <a href="#aelen">MQFreeProperties</a> function to free the
handle.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#aelfy">MQSetBytesMessageBytes</a>
<a href="#aelfb">MQGetMessageProperties</a> function to determine whether any
application-defined properties were set for this message and to find out
their value.</p>
</div>
<div class="paragraph">
<p><a id="aelfb"></a><a id="GMCCG00377"></a><a id="mqgetmessageproperties"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetmessageproperties">MQGetMessageProperties</h4>
<div class="paragraph">
<p>The <code>MQGetMessageProperties</code> function passes back the user-defined
properties for a message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetMessageProperties (const MQMessageHandle messageHandle,
                              MQPropertiesHandle * propsHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmcy"></a><a id="GMCCG00193"></a><a id="return-value-44"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_40">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmch"></a><a id="GMCCG00194"></a><a id="parameters-47"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_43">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message whose properties you want to get.</p>
</dd>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>Output parameter for the handle to the message properties.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQGetMessageProperties</code> function allows you to get
application-defined properties for a message. Properties allow an
application, via message selectors, to select or filter messages on its
behalf using application-specific criteria. Having obtained the handle,
you can either use one of the <code>MQGet...Property</code> functions to get a
value (if you know the key name) or you can iterate through the
properties using the <a href="#aelfn">MQPropertiesKeyIterationStart</a>
function.</p>
</div>
<div class="paragraph">
<p>You will need to call the function <code>MQFreeProperties()</code> to free the
resources associated with this handle after you are done using it.</p>
</div>
<div class="paragraph">
<p><a id="gbmcq"></a><a id="GMCCG00195"></a><a id="common-errors-28"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_25">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_NO_MESSAGE_PROPERTIES</code></p>
</div>
<div class="paragraph">
<p><a id="aelfc"></a><a id="GMCCG00378"></a><a id="mqgetmessagereplyto"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetmessagereplyto">MQGetMessageReplyTo</h4>
<div class="paragraph">
<p>The <code>MQGetMessageReplyTo</code> function passes back the destination where
replies to this message should be sent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetMessageReplyTo (const MQMessageHandle messageHandle,
                           MQDestinationHandle * destinationHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdc"></a><a id="GMCCG00196"></a><a id="return-value-45"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_41">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmdv"></a><a id="GMCCG00197"></a><a id="parameters-48"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_44">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message expecting a reply. This is the handle that is
passed back to you when you receive the message.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>Output parameter for the handle to the reply destination.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The sender uses the <a href="#aelgh">MQSetMessageReplyTo</a> function to specify
a destination where replies to the message can be sent. This can be a
normal destination or a temporary destination. The receiving client can
pass the message handle to the <a href="#aelfc">MQGetMessageReplyTo</a> function
and determine whether a destination for replies has been set up for the
message by the sender and what that destination is. The consumer of the
message can then use that handle as the destination to which it sends a
reply.</p>
</div>
<div class="paragraph">
<p>You might need to call the <code>MQGetDestinationType</code> function to determine
the type of the destination whose handle is returned to you: queue or
topic so that you can set up your reply appropriately.</p>
</div>
<div class="paragraph">
<p>The advantage of setting up a temporary destination for replies is that
Message Queue automatically creates a physical destination for you,
rather than your having to have the administrator create one, when the
broker&#8217;s <code>auto.create.destination</code> property is turned off.</p>
</div>
<div class="paragraph">
<p>You are responsible for freeing the destination handle by calling the
function <code>MQFreeDestination.()</code></p>
</div>
<div class="paragraph">
<p><a id="gbmeu"></a><a id="GMCCG00198"></a><a id="common-errors-29"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_26">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_NO_REPLY_TO_DESTINATION</code></p>
</div>
<div class="paragraph">
<p><a id="aelfd"></a><a id="GMCCG00379"></a><a id="mqgetmessagetype"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetmessagetype">MQGetMessageType</h4>
<div class="paragraph">
<p>The <code>MQGetMessageType</code> function passes back information about the type
of a message: <code>MQ_TEXT_MESSAGE</code>, <code>MQ_BYTES_MESSAGE</code> , or <code>MQ_MESSAGE</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetMessageType(const MQMessageHandle messageHandle,
                       MQMessageType * messageType);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmey"></a><a id="GMCCG00199"></a><a id="return-value-46"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_42">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmdt"></a><a id="GMCCG00200"></a><a id="parameters-49"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_45">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message whose type you want to determine.</p>
</dd>
<dt class="hdlist1"><code>messageType</code></dt>
<dd>
<p>Output parameter that contains the message type: <code>MQ_TEXT_MESSAGE</code> or
<code>MQ_BYTES_MESSAGE</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a message, you can determine the type of
the message using the <code>MQGetMessageType</code> function. Having determined its
type, you can use the <a href="#aelfj">MQGetTextMessageText</a> function or the
<a href="#aeler">MQGetBytesMessageBytes</a> function to obtain the message
content.</p>
</div>
<div class="paragraph">
<p>Note that other message types might be added in the future. You should
not design your code so that it only expects two possible message types.</p>
</div>
<div class="paragraph">
<p><a id="aelfe"></a><a id="GMCCG00380"></a><a id="mqgetmetadata"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetmetadata">MQGetMetaData</h4>
<div class="paragraph">
<p>The <code>MQGetMetaData</code> function returns name and version information for
the current Message Queue service to which a client is connected.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetMetaData (const MQConnectionHandle connectionHandle,
                     MQPropertiesHandle * propertiesHandle)</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdp"></a><a id="GMCCG00201"></a><a id="return-value-47"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_43">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmes"></a><a id="GMCCG00202"></a><a id="parameters-50"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_46">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>The handle to the connection that you want the information about.</p>
</dd>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>Output parameter that contains the properties handle.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The Message Queue product you are using is identified by a name and a
version number. For example: "Sun Java(tm) System Message Queue 3.5.1."
The version number consists of a major, minor, micro, and update release
component. For example, the major part of version 3.5.1. is 3; the minor
is 5; and the micro is 1. For release 3.7 UR1, the major part is 3; the
minor is 7; and the update release is 1.</p>
</div>
<div class="paragraph">
<p>The name and version information of the Message Queue product are set by
the library when you call the <a href="#aeldy">MQCreateConnection</a> function
to create the connection. You can retrieve this information by calling
the <code>MQGetMetaData</code> function and passing a properties handle. Once the
function returns and passes the handle back, you can use one of the
<code>MQGet...Properties</code> functions to determine the value of a property
(key). These properties are described in <a href="#gcsrb">Table 4-2</a>.</p>
</div>
<div class="paragraph">
<p><a id="aelff"></a><a id="GMCCG00381"></a><a id="mqgetpropertytype"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetpropertytype">MQGetPropertyType</h4>
<div class="paragraph">
<p>The <code>MQGetPropertyType</code> function returns the type of the property value
for a property key in the specified properties handle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetPropertyType (const MQPropertiesHandle  propertiesHandle,
                         ConstMQString key,
                         MQType * propertyType);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdy"></a><a id="GMCCG00203"></a><a id="return-value-48"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_44">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmeq"></a><a id="GMCCG00204"></a><a id="parameters-51"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_47">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle that you want to access.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The property key for which you want to get the type of the property
value.</p>
</dd>
<dt class="hdlist1"><code>propertyType</code></dt>
<dd>
<p>Output parameter for the type of the property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use the appropriate <code>MQGet...Property</code> function to find the value of the
specified property key.</p>
</div>
<div class="paragraph">
<p><a id="gbmet"></a><a id="GMCCG00205"></a><a id="common-errors-30"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_27">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_NOT_FOUND</code></p>
</div>
<div class="paragraph">
<p><a id="aelfg"></a><a id="GMCCG00382"></a><a id="mqgetstatuscode"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetstatuscode">MQGetStatusCode</h4>
<div class="paragraph">
<p>The <code>MQGetStatusCode</code> function returns the error code associated with
specified status.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQError MQGetStatusCode(const MQStatus status);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmew"></a><a id="GMCCG00206"></a><a id="parameters-52"></a></p>
</div>
<div class="sect4">
<h5 id="_parameters_48">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>status</code></dt>
<dd>
<p>The status returned by any Message Queue function that returns an
<code>MQStatus</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Having found that a Message Queue function has not returned
successfully, you can determine the reason by passing the return status.
This function will return the error code associated with the specified
status. These codes are listed and described in
<a href="capi-error-codes.html#aelgp">Message Queue C API Error Codes</a>.</p>
</div>
<div class="paragraph">
<p>Some functions might return an <code>MQStatus</code> that contains an NSPR or NSS
library error code instead of a Message Queue error code when they fail.
For NSPR and NSS library error codes, the <code>MQGetStatusString</code> function
will return the symbolic name of the NSPR or NSS library error code. See
NSPR and NSS public documentation for NSPR and NSS error code symbols
and their interpretation at the following locations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For NSPR error codes, see the "NSPR Error Handling" chapter at the
following location:
<code>http://www.mozilla.org/projects/nspr/reference/html/index.html</code>.</p>
</li>
<li>
<p>For SSL and SEC error codes, see the "NSS and SSL Error Codes" chapter
at the following location:
<code>http://www.mozilla.org/projects/security/pki/nss/ref/ssl/</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To obtain an <code>MQString</code> that describes the error, use the
<a href="#aelfh">MQGetStatusString</a> function. To get an error trace
associated with the error, use the <a href="#aelet">MQGetErrorTrace</a>
function.</p>
</div>
<div class="paragraph">
<p><a id="aelfh"></a><a id="GMCCG00383"></a><a id="mqgetstatusstring"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetstatusstring">MQGetStatusString</h4>
<div class="paragraph">
<p>The <code>MQGetStatusString</code> function returns an <code>MQString</code> describing the
specified status.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString MQGetStatusString(const MQStatus status);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmeh"></a><a id="GMCCG00207"></a><a id="parameters-53"></a></p>
</div>
<div class="sect4">
<h5 id="_parameters_49">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>status</code></dt>
<dd>
<p>The status returned by any Message Queue function that returns an
<code>MQStatus</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Having found that a Message Queue function has not returned
successfully, you can determine the reason why by passing the return
status. This function will return an <code>MQString</code> describing the error
associated with the specified status.</p>
</div>
<div class="paragraph">
<p>To obtain the error code for the specified <code>status</code>, use the
<a href="#aelfg">MQGetStatusCode</a> function. To get an error trace associated
with the error, use the <a href="#aelet">MQGetErrorTrace</a> function.</p>
</div>
<div class="paragraph">
<p>You must call the <code>MQFreeString</code> function to free the <code>MQString</code>
returned by the <code>MQGetStatusString</code> function when you are done.</p>
</div>
<div class="paragraph">
<p><a id="aelfi"></a><a id="GMCCG00384"></a><a id="mqgetstringproperty"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetstringproperty">MQGetStringProperty</h4>
<div class="paragraph">
<p>The <code>MQGetStringProperty</code> function passes back the value of the
specified key for the specified <code>MQString</code> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetStringProperty(const MQPropertiesHandle propertiesHandle,
                          ConstMQString key,
                          ConstMQString * value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdf"></a><a id="GMCCG00208"></a><a id="return-value-49"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_45">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmea"></a><a id="GMCCG00209"></a><a id="parameters-54"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_50">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle for the key you want to get.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>Output parameter that points to the value of the specified key</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You should not modify or attempt to free the value returned.</p>
</div>
<div class="paragraph">
<p><a id="aelfj"></a><a id="GMCCG00385"></a><a id="mqgettextmessagetext"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgettextmessagetext">MQGetTextMessageText</h4>
<div class="paragraph">
<p>The <code>MQGetTextMessageText</code> function passes back the contents of a text
message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetTextMessageText(const MQMessageHandle messageHandle,
                           ConstMQString * messageText);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="ghepf"></a><a id="GMCCG00210"></a><a id="return-value-50"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_46">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="ghesc"></a><a id="GMCCG00211"></a><a id="parameters-55"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_51">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to an <code>MQ_TEXT_MESSAGE</code> message that is passed to you when
you receive a message.</p>
</dd>
<dt class="hdlist1"><code>messageText</code></dt>
<dd>
<p>The output parameter that points to the message text.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a message, you can use the
<code>MQGetMessageType ()</code> function to determine its type and, if the type is
text, you can use the <code>MQGetTextMessageText()</code> function to retrieve the
message text.</p>
</div>
<div class="paragraph">
<p>The <code>MQString</code> passed to you by this function is not a copy. You should
not modify the bytes or attempt to free it.</p>
</div>
<div class="paragraph">
<p><a id="gherz"></a><a id="GMCCG00386"></a><a id="mqgetxaconnection"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqgetxaconnection">MQGetXAConnection</h4>
<div class="paragraph">
<p>The <code>MQGetXAConnection</code> function passes back a handle to an XA
connection. This should only be called when the Message Queue C-API is
used in a X/Open distributed transaction processing environment with
Message Queue as an XA-compliant resource manager.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQGetXAConnection(MQConnectionHandle * connectionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmds"></a><a id="GMCCG00212"></a><a id="return-value-51"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_47">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmdu"></a><a id="GMCCG00213"></a><a id="parameters-56"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_52">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>A handle to an XA connection.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>MQCloseConnection</code> should not be called on an XA connection handle.</p>
</div>
<div class="paragraph">
<p><a id="ghewd"></a><a id="GMCCG00214"></a><a id="common-errors-31"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_28">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_STATUS_INVALID_HANDLE</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfk"></a><a id="GMCCG00387"></a><a id="mqinitializessl"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqinitializessl">MQInitializeSSL</h4>
<div class="paragraph">
<p>The <code>MQInitializeSSL</code> function initializes the SSL library.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInitializeSSL (ConstMQString certificateDatabasePath);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdj"></a><a id="GMCCG00215"></a><a id="return-value-52"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_48">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmem"></a><a id="GMCCG00216"></a><a id="parameters-57"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_53">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>certificateDatabasePath</code></dt>
<dd>
<p>An <code>MQString</code> specifying the path to the directory that contains the
certificate data base files.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The Message Queue C-API library uses NSS to support the SSL transport
protocol between the Message Queue C client and the Message Queue
broker.</p>
</div>
<div class="paragraph">
<p>Before you connect to a broker over SSL, you must initialize the SSL
library by calling the <code>MQInitializeSSL</code> function. If your client uses
secure connections, you must call this function once and only once
before you create any connection, even if that connection is not an SSL
connection.</p>
</div>
<div class="paragraph">
<p>The <code>certificateDatabasePath</code> parameter specifies the path to the NSS
certificate database where <code>cert7.db</code> or <code>cert8.db</code> , <code>key3.db</code>, and
<code>secmod.db</code> files are located.</p>
</div>
<div class="paragraph">
<p>The work required to configure secure communication includes
initializing the SSL library using the <code>MQInitializeSSL</code> function. There
may be additional work, depending on whether the broker is trusted (the
default setting) and on whether you want to provide an additional means
of verification if the broker is not trusted and the initial attempt to
create a secure connection fails. For complete information see
<a href="using-the-c-api.html#aelbl">Working With Secure Connections</a>.</p>
</div>
<div class="paragraph">
<p>You must take care if the client application using secure Message Queue
connections uses NSS (for other purposes) directly as well and does NSS
initialization. For additional information, see
<a href="using-the-c-api.html#aelbo">Coordinating NSS Initialization</a>.</p>
</div>
<div class="paragraph">
<p><a id="gbmdl"></a><a id="GMCCG00217"></a><a id="common-errors-32"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_29">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_INCOMPATIBLE_LIBRARY
MQ_SSL_ALREADY_INITIALIZED
MQ_SSL_INIT_ERROR</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfl"></a><a id="GMCCG00388"></a><a id="mqpropertieskeyiterationgetnext"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqpropertieskeyiterationgetnext">MQPropertiesKeyIterationGetNext</h4>
<div class="paragraph">
<p>The <code>MQPropertiesKeyIterationGetNext</code> function passes back the address
of the next property key in the referenced properties handle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQPropertiesKeyIterationGetNext
                                            (const MQPropertiesHandle propertiesHandle,
                        ConstMQString * key);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmeb"></a><a id="GMCCG00218"></a><a id="return-value-53"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_49">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmex"></a><a id="GMCCG00219"></a><a id="parameters-58"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_54">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle whose contents you want to access.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The output parameter for the next properties key in the iteration. You
should not attempt to modify or free it.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmeg"></a><a id="GMCCG00026"></a><a id="to-get-message-properties"></a></p>
</div>
<div class="paragraph">
<p>To Get Message Properties</p>
</div>
<div class="paragraph">
<p>Follow this procedure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the process by calling the <code>MQPropertiesKeyIterationStart ()</code>
function.</p>
</li>
<li>
<p>Loop using the <code>MQPropertiesKeyIterationHasNext()</code> function.</p>
</li>
<li>
<p>Extract the name of each property key by calling the
<code>MQPropertiesKeyIterationGetNext ()</code> function.</p>
</li>
<li>
<p>Determine the type of the property value for a given key by calling
the <code>MQGetPropertyType()</code> function.</p>
</li>
<li>
<p>Use the appropriate <code>MQGet...Property</code> function to find the property
value for the specified property key.<br>
If you know the property key, you can just use the appropriate
<code>MQGet...Property</code> function to access its value.<br>
You should not modify or free the property key that is passed back to
you by this function. Note that this function is not multi-thread-safe.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="aelfm"></a><a id="GMCCG00389"></a><a id="mqpropertieskeyiterationhasnext"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqpropertieskeyiterationhasnext">MQPropertiesKeyIterationHasNext</h4>
<div class="paragraph">
<p>The <code>MQPropertiesKeyIterationHasNext</code> function returns <code>MQ_TRUE</code> if
there are additional property keys left in the iteration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQPropertiesKeyIterationHasNext
              (const MQPropertiesHandle  propertiesHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdx"></a><a id="GMCCG00220"></a><a id="return-value-54"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_50">Return Value</h5>
<div class="paragraph">
<p>MQBool</p>
</div>
<div class="paragraph">
<p><a id="gbmep"></a><a id="GMCCG00221"></a><a id="parameters-59"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_55">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle that you want to access.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmel"></a><a id="GMCCG00027"></a><a id="to-get-message-properties-1"></a></p>
</div>
<div class="paragraph">
<p>To Get Message Properties</p>
</div>
<div class="paragraph">
<p>Follow this procedure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the process by calling the <code>MQPropertiesKeyIterationStart ()</code>
function.</p>
</li>
<li>
<p>Loop using the <code>MQPropertiesKeyIterationHasNext()</code> function.</p>
</li>
<li>
<p>Extract the name of each property key by calling the
<code>MQPropertiesKeyIterationGetNext ()</code> function.</p>
</li>
<li>
<p>Determine the type of the property value for a given key by calling
the <code>MQGetPropertyType()</code> function.</p>
</li>
<li>
<p>Use the appropriate <code>MQGet...Property</code> function to find the value
for the specified property key.<br>
If you know the property key, you can just use the appropriate
<code>MQGet...Property</code> function to get its value. Note that this function is
not multi-thread-safe.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="aelfn"></a><a id="GMCCG00390"></a><a id="mqpropertieskeyiterationstart"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqpropertieskeyiterationstart">MQPropertiesKeyIterationStart</h4>
<div class="paragraph">
<p>The <code>MQPropertiesKeyIterationStart</code> function starts or resets the
iteration process or the specified properties handle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQPropertiesKeyIterationStart
              (const PropertiesHandle propertiesHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmek"></a><a id="GMCCG00222"></a><a id="return-value-55"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_51">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmdo"></a><a id="GMCCG00223"></a><a id="parameters-60"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_56">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A properties handle that you want to access.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmdr"></a><a id="GMCCG00028"></a><a id="to-get-message-properties-2"></a></p>
</div>
<div class="paragraph">
<p>To Get Message Properties</p>
</div>
<div class="paragraph">
<p>Follow this procedure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the process by calling the <code>MQPropertiesKeyIterationStart ()</code>
function.</p>
</li>
<li>
<p>Loop using the <code>MQPropertiesKeyIterationHasNext()</code> function.</p>
</li>
<li>
<p>Extract the name of each property key by calling the
<code>MQPropertiesKeyIterationGetNext ()</code> function.</p>
</li>
<li>
<p>Determine the type of the property value for a given key by calling
the <code>MQGetPropertyType()</code> function.</p>
</li>
<li>
<p>Use the appropriate <code>MQGet...Property</code> function to find the property
value for the specified property key.<br>
If you know the property key, you can just use the appropriate
<code>MQGet...Property</code> function to get its value. Note that this function is
not multi-thread-safe.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="aelfo"></a><a id="GMCCG00391"></a><a id="mqreceivemessagenowait"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqreceivemessagenowait">MQReceiveMessageNoWait</h4>
<div class="paragraph">
<p>The <code>MQReceiveMessageNoWait</code> function passes a handle back to a message
delivered to the specified consumer if a message is available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQReceiveMessageNoWait(const MQConsumerHandle consumerHandle,
                                                      MQMessageHandle * messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfb"></a><a id="GMCCG00224"></a><a id="return-value-56"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_52">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmdg"></a><a id="GMCCG00225"></a><a id="parameters-61"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_57">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>The handle to the message consumer. This handle is passed back to you
when you create a synchronous message consumer.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>Output parameter for the handle to the message to be received. You are
responsible for freeing the message handle when you are done by
calling the <code>MQFreeMessage()</code> function.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This function can only be called if the session is created with receive
mode <code>MQ_SESSION_SYNC_RECEIVE</code>. The <code>MQReceiveMessageNoWait</code> function
passes a handle back to you in the <code>messageHandle</code> parameter if there is
a message arrived for the consumer specified by the <code>consumerHandle</code>
parameter. If there is no message for the consumer, the function returns
immediately with an error.</p>
</div>
<div class="paragraph">
<p>When you create a session, you specify one of several acknowledge modes
for that session; these are described in <a href="#aeldl">Acknowledge Modes</a>.
If you specify <code>MQ_CLIENT_ACKNOWLEDGE</code> as the acknowledge mode for the
session, you must explicitly call the <code>MQAcknowledgeMessages</code> function
to acknowledge messages that you have received. For more information,
see the description of the function <a href="#aeldp">MQAcknowledgeMessages</a>.</p>
</div>
<div class="paragraph">
<p>Because distributed applications involve greater processing time, such
an application might not behave as expected if it were run locally. For
example, calling the <code>MQReceiveMessageNoWait</code> function might return
<code>MQ_NO_MESSAGE</code> even when there is a message available to be retrieved.</p>
</div>
<div class="paragraph">
<p>If a client connects to the broker and immediately calls the
<code>MQReceiveMessageNoWait</code> , it is possible that the message queued for
the consuming client is in the process of being transmitted from the
broker to the client. The client runtime has no knowledge of what is on
the broker, so when it sees that there is no message available on the
client&#8217;s internal queue, it returns with <code>MQ_NO_MESSAGE</code> .</p>
</div>
<div class="paragraph">
<p>You can avoid this problem by having your client use one of the
synchronous receive methods that specifies a timeout interval.</p>
</div>
<div class="paragraph">
<p>You can use the <a href="#aelfp">MQReceiveMessageWait</a> function if you want
the receive function to block while waiting for a message to arrive. You
can use the <a href="#aelfq">MQReceiveMessageWithTimeout</a> function to wait
for a specified time for a message to arrive.</p>
</div>
<div class="paragraph">
<p><a id="gbmdi"></a><a id="GMCCG00226"></a><a id="common-errors-33"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_30">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_SYNC_RECEIVE_MODE
MQ_CONCURRENT_ACCESS
MQ_NO_MESSAGE
MQ_CONSUMER_CLOSED
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_THREAD_OUTSIDE_XA_TRANSACTION
MQ_XA_SESSION_NO_TRANSATION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfp"></a><a id="GMCCG00392"></a><a id="mqreceivemessagewait"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqreceivemessagewait">MQReceiveMessageWait</h4>
<div class="paragraph">
<p>The <code>MQReceiveMessageWait</code> function passes a handle back to a message
delivered to the specified consumer when the message becomes available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQReceiveMessageWait (const MQConsumerHandle consumerHandle,
                                MQMessageHandle * messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmef"></a><a id="GMCCG00227"></a><a id="return-value-57"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_53">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmec"></a><a id="GMCCG00228"></a><a id="parameters-62"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_58">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>The handle to the message consumer. This handle is passed back to you
when you create a synchronous message consumer.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>Output parameter for the handle to the message to be received. You are
responsible for freeing the message handle when you are done by
calling the <code>MQFreeMessage()</code> function.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This function can only be called if the session is created with receive
mode <code>MQ_SESSION_SYNC_RECEIVE</code>. The <code>MQReceiveMessageWait</code> function
passes a handle back to you in the <code>messageHandle</code> parameter if there is
a message arrived for the consumer specified by the <code>consumerHandle</code>
parameter. If there is no message for the consumer, the function blocks
until a message is delivered.</p>
</div>
<div class="paragraph">
<p>When you create a session, you specify one of several acknowledge modes
for that session; these are described in <a href="#aeldl">Acknowledge Modes</a>.
If you specify <code>MQ_CLIENT_ACKNOWLEDGE</code> as the acknowledge mode for the
session, you must explicitly call the <code>MQAcknowledgeMessages</code> function
to acknowledge messages that you have received. For more information,
see the description of the function <a href="#aeldp">MQAcknowledgeMessages</a>.</p>
</div>
<div class="paragraph">
<p>You can use the <a href="#aelfo">MQReceiveMessageNoWait</a> function instead if
you do not want to block while waiting for a message to arrive. You can
use the function <a href="#aelfq">MQReceiveMessageWithTimeout</a> to wait for a
specified time for a message to arrive.</p>
</div>
<div class="paragraph">
<p><a id="gbmeo"></a><a id="GMCCG00229"></a><a id="common-errors-34"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_31">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_SYNC_RECEIVE_MODE
MQ_CONCURRENT_ACCESS
MQ_CONSUMER_CLOSED
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_THREAD_OUTSIDE_XA_TRANSACTION
MQ_XA_SESSION_NO_TRANSATION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfq"></a><a id="GMCCG00393"></a><a id="mqreceivemessagewithtimeout"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqreceivemessagewithtimeout">MQReceiveMessageWithTimeout</h4>
<div class="paragraph">
<p>The <code>MQReceiveMessageWithTimeout</code> function passes a handle back to a
message delivered to the specified consumer if a message is available
within the specified amount of time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQReceiveMessageWithTimeout
                                            (const MQConsumerHandle consumerHandle,
                                             MQInt32 timeoutMilliseconds,
                                             MQMessageHandle * messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdz"></a><a id="GMCCG00230"></a><a id="return-value-58"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_54">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbrdm"></a><a id="GMCCG00231"></a><a id="parameters-63"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_59">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>consumerHandle</code></dt>
<dd>
<p>The handle to the message consumer. This handle is passed back to you
when you create a synchronous message consumer.</p>
</dd>
<dt class="hdlist1"><code>timeoutMilliseconds</code></dt>
<dd>
<p>The number of milliseconds to wait for a message to arrive.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>Output parameter for the handle to the message to be received. You are
responsible for freeing the message handle when you are done by
calling the <code>MQFreeMessage()</code> function.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This function can only be called if the session is created with receive
mode <code>MQ_SESSION_SYNC_RECEIVE</code>. The
<a href="#aelfq">MQReceiveMessageWithTimeout</a> function passes a handle back
to you in the <code>messageHandle</code> parameter if a message arrives for the
consumer specified by the <code>consumerHandle</code> parameter in the amount of
time specified by the <code>timoutMilliseconds</code> parameter. If no message
arrives within the specified amount of time, the function returns an
error.</p>
</div>
<div class="paragraph">
<p>When you create a session, you specify one of several acknowledge modes
for that session; these are described in <a href="#aeldl">Acknowledge Modes</a>.
If you specify <code>MQ_CLIENT_ACKNOWLEDGE</code> as the acknowledge mode for the
session, you must explicitly call the <code>MQAcknowledgeMessages</code> function
to acknowledge messages that you have received. For more information,
see the description of the function <a href="#aeldp">MQAcknowledgeMessages</a>.</p>
</div>
<div class="paragraph">
<p>You can use the <a href="#aelfp">MQReceiveMessageWait</a> function to block
while waiting for a message to arrive. You can use the
<code>MQReceiveMessageNoWait()</code> function if you do not want to wait for the
message to arrive.</p>
</div>
<div class="paragraph">
<p><a id="gbmei"></a><a id="GMCCG00232"></a><a id="common-errors-35"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_32">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_SYNC_RECEIVE_MODE
MQ_CONCURRENT_ACCESS
MQ_TIMEOUT_EXPIRED
MQ_CONSUMER_CLOSED
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_THREAD_OUTSIDE_XA_TRANSACTION
MQ_XA_SESSION_NO_TRANSATION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfr"></a><a id="GMCCG00394"></a><a id="mqrecoversession"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqrecoversession">MQRecoverSession</h4>
<div class="paragraph">
<p>The <code>MQCRecoverSession</code> function stops message delivery and restarts
message delivery with the oldest unacknowledged message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQRecoverSession(const MQSessionHandle sessionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmev"></a><a id="GMCCG00233"></a><a id="return-value-59"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_55">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmdk"></a><a id="GMCCG00234"></a><a id="parameters-64"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_60">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session that you want to recover.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You can only call this function for sessions that are not transacted. To
rollback message delivery for a transacted session, use the
<code>MQRollBackSession ()</code> function. This function may be most useful if you
use the <code>MQ_CLIENT_ACKNOWELDGE</code> mode.</p>
</div>
<div class="paragraph">
<p>All consumers deliver messages in a serial order. Acknowledging a
received message automatically acknowledges all messages that have been
delivered to the client.</p>
</div>
<div class="paragraph">
<p>Restarting a session causes it to take the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Stop message delivery in this session.</p>
</li>
<li>
<p>Mark all messages that might have been delivered but not acknowledged
as redelivered.</p>
</li>
<li>
<p>Restart the delivery sequence including all unacknowledged messages
that had been previously delivered. (Redelivered messages might not be
delivered in their original delivery order.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gbmdm"></a><a id="GMCCG00235"></a><a id="common-errors-36"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_33">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_TRANSACTED_SESSION
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfs"></a><a id="GMCCG00395"></a><a id="mqrollbacksession"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqrollbacksession">MQRollBackSession</h4>
<div class="paragraph">
<p>The <code>MQRollBackSession</code> function rolls back a transaction associated
with the specified session.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQRollBackSession(const MQSessionHandle sessionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdq"></a><a id="GMCCG00236"></a><a id="return-value-60"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_56">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmfa"></a><a id="GMCCG00237"></a><a id="parameters-65"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_61">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the transacted session that you want to roll back.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A transacted session groups messages into an atomic unit known as a
transaction. As messages are produced or consumed within a transaction,
the broker tracks the various sends and receives, completing these
operations only when you call the <code>MQCommitSession()</code> function.</p>
</div>
<div class="paragraph">
<p>If a send or receive operation fails, you must use the
<code>MQRollBackSession</code> function to roll back the entire transaction. This
means that those messages that have been sent are destroyed and those
messages that have been consumed are automatically recovered.</p>
</div>
<div class="paragraph">
<p><a id="gbmer"></a><a id="GMCCG00238"></a><a id="common-errors-37"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_34">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_NOT_TRANSACTED_SESSION
MQ_CONCURRENT_ACCESS
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_XA_SESSION_IN_PROGRESS</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelft"></a><a id="GMCCG00396"></a><a id="mqsendmessage"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsendmessage">MQSendMessage</h4>
<div class="paragraph">
<p>The <code>MQSendMessage</code> function sends a message using the specified
producer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSendMessage(const MQProducerHandle producerHandle,
                    const MQMessageHandle messageHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdw"></a><a id="GMCCG00239"></a><a id="return-value-61"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_57">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmed"></a><a id="GMCCG00240"></a><a id="parameters-66"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_62">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>The handle to the producer sending this message. This handle is passed
back to you by the <a href="#aelef">MQCreateMessageProducerForDestination</a>
function.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the message you want to send.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQSendMessage</code> function sends the specified message on behalf of
the specified producer to the destination associated with the message
producer. If you use this function to send a message, the following
message header fields are set to default values when the send completes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_PERSISTENT_HEADER_PROPERTY</code> will be set to
<code>MQ_PERSISTENT_DELIVERY</code>.<br>
This means that the calling thread will be blocked, waiting for the
broker to acknowledge receipt of your messages, unless you set the
connection property <code>MQ_ACK_ON_PRODUCE_PROPERTY</code> to <code>MQ_FALSE</code>.</p>
</li>
<li>
<p><code>MQ_PRIORITY_HEADER_PROPERTY</code> will be set to 4.</p>
</li>
<li>
<p><code>MQ_EXPIRATION_HEADER_PROPERTY</code> will be set to 0, which means that the
message will never expire.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you set those message properties, they will be ignored when a message
is sent. To send a message with these properties set to different
values, you can use the <a href="#aelfu">MQSendMessageExt</a> function to
specify different values for these properties.</p>
</div>
<div class="paragraph">
<p>You cannot use this function with a producer that is created without a
specified destination.</p>
</div>
<div class="paragraph">
<p><a id="gbmej"></a><a id="GMCCG00241"></a><a id="common-errors-38"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_35">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_PRODUCER_NO_DESTINATION
MQ_PRODUCER_CLOSED
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_THREAD_OUTSIDE_XA_TRANSACTION
MQ_XA_SESSION_NO_TRANSATION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfu"></a><a id="GMCCG00397"></a><a id="mqsendmessageext"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsendmessageext">MQSendMessageExt</h4>
<div class="paragraph">
<p>The <code>MQSendMessageExt</code> function sends a message using the specified
producer and allows you to specify selected message header properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSendMessageExt
                (const MQProducerHandle producerHandle,
                 const MQMessageHandle messageHandle
                 MQDeliveryMode msgDeliveryMode,
                 MQInt8 msgPriority,
                 MQInt64 msgTimeToLive);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmen"></a><a id="GMCCG00242"></a><a id="return-value-62"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_58">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmee"></a><a id="GMCCG00243"></a><a id="parameters-67"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_63">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>The handle to the producer sending this message. This handle is passed
back to you by the <a href="#aelef">MQCreateMessageProducerForDestination</a>
function.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the message you want to send.</p>
</dd>
<dt class="hdlist1"><code>msgDeliveryMode</code></dt>
<dd>
<p>An enum<br>
<code>MQ_PERSISTENT_DELIVERY</code><br>
<code>MQ_NONPERSISTENT_DELIVERY</code></p>
</dd>
<dt class="hdlist1"><code>msgPriority</code></dt>
<dd>
<p>A integer value of 0 through 9; 0 being the lowest priority and 9 the
highest.</p>
</dd>
<dt class="hdlist1"><code>msgTimeToLive</code></dt>
<dd>
<p>An integer value specifying in milliseconds how long the message will
live before it expires. When a message is sent, its expiration time is
calculated as the sum of its time-to-live value and current GMT. A
value of 0 indicates that he message will never expire.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQSendMessageExt</code> function sends the specified message on behalf of
the specified producer to the destination associated with the message
producer. Use this function if you want to change the default values for
the message header properties as shown in the next table.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Property</dt>
<dd>
<p>Default value</p>
</dd>
<dt class="hdlist1"><code>msgDeliveryMode</code></dt>
<dd>
<p><code>MQ_PERSISTENT_DELIVERY</code></p>
</dd>
<dt class="hdlist1"><code>msgPriority</code></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><code>msgTimeToLive</code></dt>
<dd>
<p>0, meaning no expiration limit</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If you set these message headers using the <code>MQSetMessageHeaders</code>
function before the send, they will be ignored when the message is sent.
When the send completes, these message headers hold the values that are
set by the send.</p>
</div>
<div class="paragraph">
<p>You cannot use this function with a producer that is created without a
specified destination.</p>
</div>
<div class="paragraph">
<p>You can set the broker property <code>MQ_ACK_ON_PRODUCE_PROPERTY</code> to make
sure that the message has reached its destination on the broker:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default, the broker acknowledges receiving persistent messages
only.</p>
</li>
<li>
<p>If you set the property to <code>MQ_TRUE</code>, the broker acknowledges receipt
of all messages (persistent and non-persistent) from the producing
client.</p>
</li>
<li>
<p>If you set the property to <code>MQ_FALSE</code>, the broker does not acknowledge
receipt of any message (persistent or non-persistent) from the producing
client.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that "acknowledgement" in this case is not programmatic but
internally implemented. That is, the client thread is blocked and does
not return until the broker acknowledges messages it receives from the
producing client.</p>
</div>
<div class="paragraph">
<p><a id="gbmdn"></a><a id="GMCCG00244"></a><a id="common-errors-39"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_36">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_PRODUCER_NO_DESTINATION
MQ_INVALID_PRIORITY
MQ_INVALID_DELIVERY_MODE
MQ_PRODUCER_CLOSED
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_THREAD_OUTSIDE_XA_TRANSACTION
MQ_XA_SESSION_NO_TRANSATION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfv"></a><a id="GMCCG00398"></a><a id="mqsendmessagetodestination"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsendmessagetodestination">MQSendMessageToDestination</h4>
<div class="paragraph">
<p>The <code>MQSendMessageToDestination</code> function sends a message using the
specified producer to the specified destination.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSendMessageToDestination
            (const MQProducerHandle  producerHandle,
             const MQMessageHandle messageHandle,
             const MQDestinationHandle destinationHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmdh"></a><a id="GMCCG00245"></a><a id="return-value-63"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_59">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmez"></a><a id="GMCCG00246"></a><a id="parameters-68"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_64">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>The handle to the producer sending this message. This handle is passed
back to you by the <a href="#aelee">MQCreateMessageProducer</a> function.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the message you want to send.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination where you want to send the message.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQSendMessageToDestination</code> function sends the specified message on
behalf of the specified producer to the specified destination. If you
use this function to send a message, the following message header fields
are set as follows when the send completes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MQ_PERSISTENT_HEADER_PROPERTY</code> will be set to
<code>MQ_PERSISTENT_DELIVERY</code>.<br>
This means that the caller will be blocked, waiting for broker
acknowledgement for the receipt of your messages unless you set the
connection property <code>MQ_ACK_ON_PRODUCE_PROPERTY</code> to <code>MQ_FALSE</code>.</p>
</li>
<li>
<p><code>MQ_PRIORITY_HEADER_PROPERTY</code> will be set to 4.</p>
</li>
<li>
<p><code>MQ_EXPIRATION_HEADER_PROPERTY</code> will be set to 0, which means that the
message will never expire.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To send a message with these properties set to different values, you
must use the <a href="#aelfw">MQSendMessageToDestinationExt</a> function, which
allows you to set these three header properties.</p>
</div>
<div class="paragraph">
<p>If you set these message headers using the <code>MQSetMessageHeaders</code>
function before the send, they will be ignored when the message is sent.
When the send completes, these message headers hold the values that are
set by the send.</p>
</div>
<div class="paragraph">
<p>You cannot use this function with a producer that is created with a
specified destination.</p>
</div>
<div class="paragraph">
<p><a id="gbmfn"></a><a id="GMCCG00247"></a><a id="common-errors-40"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_37">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_PRODUCER_HAS_DEFAULT_DESTINATION
MQ_PRODUCER_CLOSED
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_THREAD_OUTSIDE_XA_TRANSACTION
MQ_XA_SESSION_NO_TRANSATION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfw"></a><a id="GMCCG00399"></a><a id="mqsendmessagetodestinationext"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsendmessagetodestinationext">MQSendMessageToDestinationExt</h4>
<div class="paragraph">
<p>The <code>MQSendMessageToDestinationExt</code> function sends a message to the
specified destination for the specified producer and allows you to set
selected message header properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSendMessageToDestinationExt
          (const MQProducerHandle  producerHandle,
           const MQMessageHandle  messageHandle,
           const MQDestinationHandle  destinationHandle,
           MQDeliveryMode msgDeliveryMode,
           MQInt8 msgPriority,
           MQInt64 msgTimeToLive);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmgp"></a><a id="GMCCG00248"></a><a id="return-value-64"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_60">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmfc"></a><a id="GMCCG00249"></a><a id="parameters-69"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_65">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>The handle to the producer sending this message. This handle is passed
back to you when you call the <a href="#aelee">MQCreateMessageProducer</a>
function.</p>
</dd>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to the message you want to send.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>A handle to the destination where you want to send the message.</p>
</dd>
<dt class="hdlist1"><code>msgDeliveryMode</code></dt>
<dd>
<p>An enum of either <code>MQ_PERSISTENT_DELIVERY</code> or
<code>MQ_NONPERSISTENT_DELIVERY</code>.</p>
</dd>
<dt class="hdlist1"><code>msgPriority</code></dt>
<dd>
<p>A integer value of 0 through 9; 0 being the lowest priority and 9 the
highest.</p>
</dd>
<dt class="hdlist1"><code>msgTimeToLive</code></dt>
<dd>
<p>An integer value specifying in milliseconds how long the message will
live before it expires. When a message is sent, its expiration time is
calculated as the sum of its time-to-live value and current GMT. A
value of 0 indicates that the message will never expire.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>MQSendMessageToDestinationExt</code> function sends the specified message
on behalf of the specified producer to the specified destination. Use
this function if you want to change the default values for the message
header properties as shown below:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Property</dt>
<dd>
<p>Default value</p>
</dd>
<dt class="hdlist1"><code>msgDeliveryMode</code></dt>
<dd>
<p><code>MQ_PERSISTENT_DELIVERY</code></p>
</dd>
<dt class="hdlist1"><code>msgPriority</code></dt>
<dd>
<p>4</p>
</dd>
<dt class="hdlist1"><code>msgTimeToLive</code></dt>
<dd>
<p>0, meaning no expiration limit</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If these default values suit you, you can use the
<a href="#aelfv">MQSendMessageToDestination</a> function to send the message.</p>
</div>
<div class="paragraph">
<p>You cannot use this function with a producer that is created with a
specified destination.</p>
</div>
<div class="paragraph">
<p>You can set the broker property <code>MQ_ACK_ON_PRODUCE_PROPERTY</code> to make
sure that the message has reached its destination on the broker:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By default, the broker acknowledges receiving persistent messages only
from the producing client.</p>
</li>
<li>
<p>If you set the property to <code>MQ_TRUE</code>, the broker acknowledges receipt
of all messages (persistent and non-persistent) from the producing
client.</p>
</li>
<li>
<p>If you set the property to <code>MQ_FALSE</code>, the broker does not acknowledge
receipt of any message (persistent or non-persistent) from the producing
client.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that "acknowledgement" in this case is not programmatic but
internally implemented. That is, the client thread is blocked and does
not return until the broker acknowledges messages it receives.</p>
</div>
<div class="paragraph">
<p><a id="gbmgn"></a><a id="GMCCG00250"></a><a id="common-errors-41"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_38">Common Errors</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_PRODUCER_HAS_DEFAULT_DESTINATION
MQ_INVALID_PRIORITY
MQ_INVALID_DELIVERY_MODE
MQ_PRODUCER_CLOSED
MQ_SESSION_CLOSED
MQ_BROKER_CONNECTION_CLOSED
MQ_THREAD_OUTSIDE_XA_TRANSACTION
MQ_XA_SESSION_NO_TRANSATION</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="aelfx"></a><a id="GMCCG00400"></a><a id="mqsetboolproperty"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetboolproperty">MQSetBoolProperty</h4>
<div class="paragraph">
<p>The <code>MQSetBoolProperty</code> function sets an <code>MQBool</code> property with the
specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetBoolProperty
               (const MQPropertiesHandle propertiesHandle,
                ConstMQString key,
                MQBool value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfl"></a><a id="GMCCG00251"></a><a id="return-value-65"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_61">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgh"></a><a id="GMCCG00252"></a><a id="parameters-70"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_66">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of the property key. The library makes a copy of the property
key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The <code>MQBool</code> property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmgq"></a><a id="GMCCG00253"></a><a id="common-errors-42"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_39">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_HASH_VALUE_ALREADY_EXISTS</code></p>
</div>
<div class="paragraph">
<p><a id="aelfy"></a><a id="GMCCG00401"></a><a id="mqsetbytesmessagebytes"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetbytesmessagebytes">MQSetBytesMessageBytes</h4>
<div class="paragraph">
<p>The <code>MQSetBytesMessageBytes</code> function defines the body for a bytes
message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetBytesMessageBytes
                  (const MQMessageHandle messageHandle,
                   const MQInt8 * messageBytes,
                   MQInt32 messageSize);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfx"></a><a id="GMCCG00254"></a><a id="return-value-66"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_62">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgx"></a><a id="GMCCG00255"></a><a id="parameters-71"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_67">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to an <code>MQ_BYTES_MESSAGE</code> message whose body you want to set.</p>
</dd>
<dt class="hdlist1"><code>messageBytes</code></dt>
<dd>
<p>A pointer to the bytes you want to set. The library makes a copy of
the message bytes.</p>
</dd>
<dt class="hdlist1"><code>messageSize</code></dt>
<dd>
<p>An integer specifying the number of bytes in <code>messageBytes</code> .</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a bytes message from
<code>MQCreateBytesMessage</code> , you can use this handle to define its body with
the <a href="#aelfy">MQSetBytesMessageBytes</a> function, to set its
application-defined properties with the
<a href="#aelgg">MQSetMessageProperties</a> function, and to set certain message
headers with the <a href="#aelgf">MQSetMessageHeaders</a> function.</p>
</div>
<div class="paragraph">
<p><a id="CIAHJGHF"></a><a id="GMCCG465"></a><a id="mqsetdeliverydelay"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetdeliverydelay">MQSetDeliveryDelay</h4>
<div class="paragraph">
<p>The <code>MQSetDeliveryDelay</code> function defines the earliest time a JMS
provider may deliver a message to a consumer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetDeliveryDelay
                  (const MQProducer producerHandle,
                   MQInt64 deliveryDelay);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GMCCG466"></a><a id="sthref44"></a></p>
</div>
<div class="sect4">
<h5 id="return-value-67">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG467"></a><a id="sthref45"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="parameters-72">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>producerHandle</code></dt>
<dd>
<p>The handle to the producer sending this message. This handle is passed
back to you by the <a href="#aelef">MQCreateMessageProducerForDestination</a>
function.</p>
</dd>
<dt class="hdlist1"><code>deliveryDelay</code></dt>
<dd>
<p>The amount of time, in milliseconds, used to delay a message&#8217;s
delivery time.<br>
This value is added to the time the message was sent to calculate the
delivery time, which is the earliest time that a JMS provider may
deliver a message to a consumer. A JMS provider must not delivery
messages before the delivery time has been reached. When specified,
the <code>MQ_DELIVERY_TIME_HEADER_PROPERTY</code> is ignored.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="aelfz"></a><a id="GMCCG00402"></a><a id="mqsetfloat32property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetfloat32property">MQSetFloat32Property</h4>
<div class="paragraph">
<p>The <code>MQSetFloat32Property</code> function sets an <code>MQFloat32</code> property with
the specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetFloat32Property
             (const MQPropertiesHandle propertiesHandle,
              ConstMQString key,
              MQFloat32 value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmgi"></a><a id="GMCCG00256"></a><a id="return-value-68"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_63">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgz"></a><a id="GMCCG00257"></a><a id="parameters-73"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_68">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key. The library makes a copy of the property
key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The <code>MQFloat32</code> property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmgu"></a><a id="GMCCG00258"></a><a id="common-errors-43"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_40">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_HASH_VALUE_ALREADY_EXISTS</code></p>
</div>
<div class="paragraph">
<p><a id="aelga"></a><a id="GMCCG00403"></a><a id="mqsetfloat64property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetfloat64property">MQSetFloat64Property</h4>
<div class="paragraph">
<p>The <code>MQSetFloat64Property</code> function sets an <code>MQFloat64</code> property with
the specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetFloat64Property
         (const MQPropertiesHandle propertiesHandle,
          ConstMQString key,
          MQFloat64 value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmge"></a><a id="GMCCG00259"></a><a id="return-value-69"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_64">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmff"></a><a id="GMCCG00260"></a><a id="parameters-74"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_69">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key. The library makes a copy of the property
key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The <code>MQFloat64</code> property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmgd"></a><a id="GMCCG00261"></a><a id="common-errors-44"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_41">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_HASH_VALUE_ALREADY_EXISTS</code></p>
</div>
<div class="paragraph">
<p><a id="aelgb"></a><a id="GMCCG00404"></a><a id="mqsetint16property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetint16property">MQSetInt16Property</h4>
<div class="paragraph">
<p>The <code>MQSetInt16Property</code> function sets an <code>MQInt16</code> property with the
specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetInt16Property
        (const MQPropertiesHandle propertiesHandle,
         ConstMQString key,
         MQInt16 value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmgf"></a><a id="GMCCG00262"></a><a id="return-value-70"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_65">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmfh"></a><a id="GMCCG00263"></a><a id="parameters-75"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_70">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key. The library makes a copy of the property
key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The <code>MQInt16</code> property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmga"></a><a id="GMCCG00264"></a><a id="common-errors-45"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_42">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_HASH_VALUE_ALREADY_EXISTS</code></p>
</div>
<div class="paragraph">
<p><a id="aelgc"></a><a id="GMCCG00405"></a><a id="mqsetint32property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetint32property">MQSetInt32Property</h4>
<div class="paragraph">
<p>The <code>MQSetInt32Property</code> function sets an <code>MQInt32</code> property with the
specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetInt32Property
          (const MQPropertiesHandle propertiesHandle,
           ConstMQString key,
           MQInt32 value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfe"></a><a id="GMCCG00265"></a><a id="return-value-71"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_66">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgr"></a><a id="GMCCG00266"></a><a id="parameters-76"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_71">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key. The library makes a copy of the property
key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The <code>MQInt32</code> property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmgj"></a><a id="GMCCG00267"></a><a id="common-errors-46"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_43">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_HASH_VALUE_ALREADY_EXISTS</code></p>
</div>
<div class="paragraph">
<p><a id="aelgd"></a><a id="GMCCG00406"></a><a id="mqsetint64property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetint64property">MQSetInt64Property</h4>
<div class="paragraph">
<p>The <code>MQSetInt64Property</code> function sets an <code>MQInt64</code> property with the
specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetInt64Property
        (const MQPropertiesHandle propertiesHandle,
         ConstMQString key,
         MQInt64 value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfd"></a><a id="GMCCG00268"></a><a id="return-value-72"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_67">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmfk"></a><a id="GMCCG00269"></a><a id="parameters-77"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_72">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key. The library makes a copy of the property
key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The <code>MQInt64</code> property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmfr"></a><a id="GMCCG00270"></a><a id="common-errors-47"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_44">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_HASH_VALUE_ALREADY_EXISTS</code></p>
</div>
<div class="paragraph">
<p><a id="aelge"></a><a id="GMCCG00407"></a><a id="mqsetint8property"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetint8property">MQSetInt8Property</h4>
<div class="paragraph">
<p>The <code>MQSetInt8Property</code> function sets an <code>MQInt8</code> property with the
specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetInt8Property
           (const MQPropertiesHandle propertiesHandle,
            ConstMQString key,
            MQInt8 value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfq"></a><a id="GMCCG00271"></a><a id="return-value-73"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_68">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmfv"></a><a id="GMCCG00272"></a><a id="parameters-78"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_73">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key. The library makes a copy of the property
key.</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The <code>MQInt8</code> property value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a id="gbmfu"></a><a id="GMCCG00273"></a><a id="common-errors-48"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_45">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_HASH_VALUE_ALREADY_EXISTS</code></p>
</div>
<div class="paragraph">
<p><a id="aelgf"></a><a id="GMCCG00408"></a><a id="mqsetmessageheaders"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetmessageheaders">MQSetMessageHeaders</h4>
<div class="paragraph">
<p>The <code>MQSetMessageHeaders</code> function creates the header part of the
message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetMessageHeaders
               (const MQMessageHandle messageHandle
                MQPropertiesHandle headersHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfs"></a><a id="GMCCG00274"></a><a id="return-value-74"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_69">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgs"></a><a id="GMCCG00275"></a><a id="parameters-79"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_74">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message.</p>
</dd>
<dt class="hdlist1"><code>headersHandle</code></dt>
<dd>
<p>A handle to the header properties object. This handle will be invalid
after the function returns successfully.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you have created a properties handle and defined values for
message header properties using one of the <code>MQSet...Property</code> functions,
you can pass the handle to the <code>MQSetMessageHeaders</code> function to define
the message header properties.</p>
</div>
<div class="paragraph">
<p>The message header properties are described in the table below. For
sending messages, the client can only set two of these: the correlation
ID property and the message type property. The client is not required to
set these; they are provided for the client&#8217;s convenience. For example,
the client can use the key <code>MQ_MESSAGE_TYPE_HEADER_PROPERTY</code> to sort
incoming messages according to application-defined message types.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG468"></a><a id="sthref46"></a><a id="gbmfz"></a></p>
</div>
<div class="paragraph">
<p>Table 4-6 Message Header Properties</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 56%;">
<col style="width: 20%;">
<col style="width: 24%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Set By</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_CORRELATION_ID_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client (optional)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_MESSAGE_TYPE_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client (optional)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_PERSISTENT_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQBool</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_EXPIRATION_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInt64</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_PRIORITY_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInt8</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_TIMESTAMP_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQInt64</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_MESSAGE_ID_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQString</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQ_REDELIVERED_HEADER_PROPERTY</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQBool</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Broker</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Header properties that are not specified in the <code>headersHandle</code> are not
affected. You cannot use this function to override header properties
that are set by the broker or the send function. The header properties
for persistence, expiration, and priority <code>(MQSetMessageHeaders)()</code> are
set to default values if the user called the <code>MQSendMessage()</code> or
<code>MQSendMessageToDestination()</code> function, or they are set to values the
user specifies (in parameters) if the user called the
<code>MQSendMessageExt ()</code> or the <code>MQSendMessageToDestinationExt()</code> function.</p>
</div>
<div class="paragraph">
<p>Use the <code>MQSetBytesMessageBytes()</code> function or the
<code>MQSetTextMessageText()</code> function to set the body of a message. Use the
<a href="#aelgg">MQSetMessageProperties</a> function to set the
application-defined properties of a message that are not part of the
header.</p>
</div>
<div class="paragraph">
<p><a id="gbmgc"></a><a id="GMCCG00276"></a><a id="common-errors-49"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_46">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_PROPERTY_WRONG_VALUE_TYPE</code></p>
</div>
<div class="paragraph">
<p><a id="aelgg"></a><a id="GMCCG00409"></a><a id="mqsetmessageproperties"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetmessageproperties">MQSetMessageProperties</h4>
<div class="paragraph">
<p>The <code>MQSetMessageProperties</code> function sets the specified properties for
a message. You can also use this function to change a message&#8217;s
properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetMessageProperties
             (const MQMessageHandle messageHandle,
              MQPropertiesHandle propsHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfp"></a><a id="GMCCG00277"></a><a id="return-value-75"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_70">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgl"></a><a id="GMCCG00278"></a><a id="parameters-80"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_75">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message whose application-defined properties you want to
set.</p>
</dd>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to a properties object that you have created and set using
one of the set property functions. This handle is invalid after the
function returns successfully.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a message, you can use this handle to
define its body with the <code>MQSetBytesMessageBytes()</code> or
<code>MQSetTextMessageText()</code> function, and to set its header properties with
the <code>MQSetMessageHeaders()</code> function.</p>
</div>
<div class="paragraph">
<p>Property values are set prior to sending a message. The
<code>MQSetMessageProperties</code> function allows you to set application-defined
properties for a message. For example, application-defined properties
allow an application, via message selectors, to select or filter,
messages on its behalf using application-specific criteria.</p>
</div>
<div class="paragraph">
<p>You define the message properties and their values using the
<a href="#aeleg">MQCreateProperties</a> function to create a properties object,
then you use one of the set property functions to define each key and
value in it. See <a href="using-the-c-api.html#aelbd">Working With Properties</a>
for more information.</p>
</div>
<div class="paragraph">
<p><a id="aelgh"></a><a id="GMCCG00410"></a><a id="mqsetmessagereplyto"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetmessagereplyto">MQSetMessageReplyTo</h4>
<div class="paragraph">
<p>The <code>MQSetMessageReplyTo</code> function specifies the destination where
replies to this message should be sent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetMessageReplyTo
         (const MQMessageHandle messageHandle,
          const MQDestinationHandle   destinationHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfg"></a><a id="GMCCG00279"></a><a id="return-value-76"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_71">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgk"></a><a id="GMCCG00280"></a><a id="parameters-81"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_76">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message expecting a reply.</p>
</dd>
<dt class="hdlist1"><code>destinationHandle</code></dt>
<dd>
<p>The destination to which the reply is sent. Usually this is a handle
to a destination that you created using the
<a href="#aeleb">MQCreateDestination</a> function or the function
<a href="#aelei">MQCreateTemporaryDestination</a>. The handle is still valid
when this function returns.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The sender uses the <code>MQSetMessageReply</code> function to specify a
destination where replies to the message can be sent. This can be a
normal destination or a temporary destination. The receiver of a message
can use the <a href="#aelfc">MQGetMessageReplyTo</a> function to determine
whether a sender has set up a destination where replies are to be sent.
The advantage of setting up a temporary destination for replies is that
Message Queue automatically creates a physical destination for you,
rather than your having to have the administrator create one if the
broker&#8217;s <code>auto_create_destination</code> property is turned off.</p>
</div>
<div class="paragraph">
<p><a id="aelgi"></a><a id="GMCCG00411"></a><a id="mqsetstringproperty"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsetstringproperty">MQSetStringProperty</h4>
<div class="paragraph">
<p>The <code>MQSetStringProperty</code> function sets an <code>MQString</code> property with the
specified key to the specified value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetStringProperty
                 (const MQPropertiesHandle propertiesHandle,
                  ConstMQString key,
                  ConstMQString value);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmgb"></a><a id="GMCCG00281"></a><a id="return-value-77"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_72">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgo"></a><a id="GMCCG00282"></a><a id="parameters-82"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_77">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>propertiesHandle</code></dt>
<dd>
<p>A handle to the properties object whose property value for the
specified key you want to set. You get this handle from the
<code>MQCreateProperties ()</code> function.</p>
</dd>
<dt class="hdlist1"><code>key</code></dt>
<dd>
<p>The name of a property key. The library makes a copy of the property
key</p>
</dd>
<dt class="hdlist1"><code>value</code></dt>
<dd>
<p>The property value to set. The library makes a copy of the value.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The library makes a copy of the property key and also makes a copy of
the value.</p>
</div>
<div class="paragraph">
<p><a id="aelgj"></a><a id="GMCCG00412"></a><a id="mqsettextmessagetext"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqsettextmessagetext">MQSetTextMessageText</h4>
<div class="paragraph">
<p>The <code>MQSetTextMessageText</code> function defines the body for a text message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQSetTextMessageText
               (const MQMessageHandle messageHandle,
                ConstMQString messageText);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmgv"></a><a id="GMCCG00283"></a><a id="return-value-78"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_73">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmfm"></a><a id="GMCCG00284"></a><a id="parameters-83"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_78">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>messageHandle</code></dt>
<dd>
<p>A handle to a message whose text body you want to set.</p>
</dd>
<dt class="hdlist1"><code>messageText</code></dt>
<dd>
<p>An <code>MQString</code> specifying the message text. The library makes a copy of
the message text.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you obtain the handle to a text message, you can use this handle
to define its body with the <code>MQSetTextMessageText()</code> function. You can
set its application-defined properties with the
<a href="#aelgg">MQSetMessageProperties</a> function, and you can set certain
message headers with the <a href="#aelgf">MQSetMessageHeaders</a> function.</p>
</div>
<div class="paragraph">
<p><a id="aelgk"></a><a id="GMCCG00413"></a><a id="mqstartconnection"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqstartconnection">MQStartConnection</h4>
<div class="paragraph">
<p>The <code>MQStartConnection</code> function starts the specified connection to the
broker and starts or resumes message delivery.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQStartConnection
             (const MQConnectionHandle connectionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfj"></a><a id="GMCCG00285"></a><a id="return-value-79"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_74">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmgg"></a><a id="GMCCG00286"></a><a id="parameters-84"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_79">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>The handle to the connection that you want to start. This handle is
the handle that is created and passed back to you by the
<a href="#aeldy">MQCreateConnection</a> function.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When a connection is created it is in stopped mode. Until you call this
function, messages are not delivered to any consumers. Call this
function to start a connection or to restart a connection that has been
stopped with the <code>MQStopConnection()</code> function. To create an
asynchronous consumer, you could have the connection in stopped mode,
and start or restart the connection after you have set up the
asynchronous message consumer.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#aeldq">MQCloseConnection</a> function to close a connection,
and then use the <a href="#aelek">MQFreeConnection</a> function to free the
memory allocated to the connection.</p>
</div>
<div class="paragraph">
<p><a id="gbmgy"></a><a id="GMCCG00287"></a><a id="common-errors-50"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_47">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_BROKER_CONNECTION_CLOSED</code></p>
</div>
<div class="paragraph">
<p><a id="aelgl"></a><a id="GMCCG00414"></a><a id="mqstatusiserror"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqstatusiserror">MQStatusIsError</h4>
<div class="paragraph">
<p>The <code>MQStatusIsError</code> function returns <code>MQ_TRUE</code> if the <code>status</code>
parameter passed to it represents an error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQBool MQStatusIsError(const MQStatus status);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfy"></a><a id="GMCCG00288"></a><a id="parameters-85"></a></p>
</div>
<div class="sect4">
<h5 id="_parameters_80">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>status</code></dt>
<dd>
<p>The status returned by any Message Queue function that returns an
<code>MQStatus</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Nearly all Message Queue C library functions return an <code>MQStatus</code>. You
can pass this status result to the <code>MQStatusIsError</code> function to
determine whether your call succeeded. If the <code>MQStatusIsError</code> function
returns <code>MQ_TRUE(=1)</code>, the function failed; if it returns
<code>MQ_FALSE(=0),</code> the function returned successfully.</p>
</div>
<div class="paragraph">
<p>If the <code>MQStatusIsError</code> returns <code>MQ_TRUE</code>, you can get more information
about the error that occurred by passing the <code>status</code> returned to the
<a href="#aelfg">MQGetStatusCode</a> function. This function will return the
error code associated with the specified status.</p>
</div>
<div class="paragraph">
<p>To obtain an <code>MQString</code> that describes the error, use the
<a href="#aelfh">MQGetStatusString</a> function. To get an error trace
associated with the error, use the <a href="#aelet">MQGetErrorTrace</a>
function.</p>
</div>
<div class="paragraph">
<p><a id="aelgm"></a><a id="GMCCG00415"></a><a id="mqstopconnection"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqstopconnection">MQStopConnection</h4>
<div class="paragraph">
<p>The <code>MQStopConnection</code> function stops the specified connection to the
broker. This stops the broker from delivering messages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQStopConnection
               (const MQConnectionHandle connectionHandle);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfi"></a><a id="GMCCG00289"></a><a id="return-value-80"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_75">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmfo"></a><a id="GMCCG00290"></a><a id="parameters-86"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_81">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>connectionHandle</code></dt>
<dd>
<p>The handle to the connection that you want to stop. This handle is
passed back to you by the <a href="#aeldy">MQCreateConnection</a> function.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You can restart message delivery by calling the
<a href="#aelgk">MQStartConnection</a> function. When the connection has
stopped, delivery to all the connection&#8217;s message consumers is
inhibited: synchronous receives block, and messages are not delivered to
message listeners. This call blocks until receives and/or message
listeners in progress have completed.</p>
</div>
<div class="paragraph">
<p>You should not call <code>MQStopConnection</code> in a message listener callback
function.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#aeldq">MQCloseConnection</a> function to close a connection,
and then use the <a href="#aelek">MQFreeConnection</a> function to free the
memory allocated to the connection.</p>
</div>
<div class="paragraph">
<p><a id="gbmgm"></a><a id="GMCCG00291"></a><a id="common-errors-51"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_48">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_BROKER_CONNECTION_CLOSED</code><br>
<code>MQ_CONCURRENT_DEADLOCK</code></p>
</div>
<div class="paragraph">
<p><a id="aelgn"></a><a id="GMCCG00416"></a><a id="mqunsubscribedurablemessageconsumer"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mqunsubscribedurablemessageconsumer">MQUnsubscribeDurableMessageConsumer</h4>
<div class="paragraph">
<p>The <code>MQUnsubscribeDurableMessageConsumer</code> function unsubscribes the
specified durable message consumer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">MQUnsubscribeDurableMessageConsumer
                    (const MQSessionHandle   sessionHandle,
                     ConstMQString durableName);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gbmfw"></a><a id="GMCCG00292"></a><a id="return-value-81"></a></p>
</div>
<div class="sect4">
<h5 id="_return_value_76">Return Value</h5>
<div class="paragraph">
<p><code>MQStatus</code>. See the <a href="#aelgl">MQStatusIsError</a> function for more
information.</p>
</div>
<div class="paragraph">
<p><a id="gbmft"></a><a id="GMCCG00293"></a><a id="parameters-87"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_parameters_82">Parameters</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>sessionHandle</code></dt>
<dd>
<p>The handle to the session to which this consumer belongs. This handle
is created and passed back to you by the <a href="#aeleh">MQCreateSession</a>
function.</p>
</dd>
<dt class="hdlist1"><code>durableName</code></dt>
<dd>
<p>An <code>MQString</code> specifying the name of the durable subscriber.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When you call the <code>MQUnsubscribeDurableMessageConsumer</code> function, the
client runtime instructs the broker to delete the state information that
the broker maintains for this consumer. If you try to delete a durable
consumer while it has an active topic subscriber or while a received
message has not been acknowledged in the session, you will get an error.
You should only unsubscribe a durable message consumer after closing it.</p>
</div>
<div class="paragraph">
<p><a id="gbmgt"></a><a id="GMCCG00294"></a><a id="common-errors-52"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_common_errors_49">Common Errors</h5>
<div class="paragraph">
<p><code>MQ_CANNOT_UNSUBSCRIBE_ACTIVE_CONSUMER</code><br>
<code>MQ_CONSUMER_NOT_FOUND</code></p>
</div>
<div class="paragraph">
<p><a id="aelgo"></a><a id="GMCCG00058"></a><a id="header-files"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_header_files">Header Files</h3>
<div class="paragraph">
<p>The Message Queue C-API is defined in the header files listed in
<a href="#gbmhk">Table 4-7</a>. The files are listed in alphabetical order. The
file <code>mqcrt.h</code> includes all the Message Queue C-API header files.</p>
</div>
<div class="paragraph">
<p><a id="GMCCG469"></a><a id="sthref47"></a><a id="gbmhk"></a></p>
</div>
<div class="paragraph">
<p>Table 4-7 Message Queue C-API Header Files</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 26%;">
<col style="width: 74%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">File Name</th>
<th class="tableblock halign-left valign-top">Contents</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqbasictypes.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the types <code>MQBool</code>, <code>MQInt8</code>, <code>MQInt16</code>, <code>MQInt32</code>, <code>MQInt64</code>,
<code>MQFloat32</code>, <code>MQFloat64</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqbytes-message.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for creating, getting, setting bytes message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqcallback-types.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous receive and connection exception handling callback types.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqconnection.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for creating, managing, and closing connections.
Function prototype for creating session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqconnection-props.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection property constants</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqconsumer.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for synchronous receives and closing the consumer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqcrt.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All Message Queue C-API public header files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqdestination.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes to free destinations and get information about
destinations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqerrors.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error codes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqheader-props.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message header property constants</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqmessage.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for getting and setting parts of message, freeing
message, and acknowledging message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqproducer.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for sending messages and closing the message
producer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqproperties.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for creating, setting, and getting properties</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqsession.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for managing and closing sessions; for creating
destinations, message producers and message consumers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqssl.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function declaration for initializing the SSL library.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqstatus.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for getting error information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqtext-message.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function prototypes for creating, getting, setting text message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqtypes.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enumeration of types that can be stored in a properties object, of
types of message that can be received, of acknowledgement modes, of
delivery modes, of destination types, of session receiving modes, and of
handle types.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="oac_no_warn">mqversion.h</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version information constant definitions.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="client-design-issues.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="capi-error-codes.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br/>
        <img src="img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;2025&nbsp;Contributors&nbsp;to&nbsp;the&nbsp;Eclipse&nbsp;Foundation</span>
</span>

</body>
</html>
