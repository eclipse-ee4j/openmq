
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Message Queue MBean Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>Message Queue MBean Reference</b><br />
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="using-the-jmx-api.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="alphabetical-reference.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The script content on this page is for navigation purposes only and does
not alter the content in any way.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG00004"></a><a id="gcakw"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="message-queue-mbean-reference">3 Message Queue MBean Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the JMX MBeans that allow you to configure and
monitor a Message Queue broker. It consists of the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gbxrr">Brokers</a></p>
</li>
<li>
<p><a href="#gbxsd">Connection Services</a></p>
</li>
<li>
<p><a href="#gbxsg">Connections</a></p>
</li>
<li>
<p><a href="#gbxrq">Destinations</a></p>
</li>
<li>
<p><a href="#gbxrt">Message Producers</a></p>
</li>
<li>
<p><a href="#gbxrw">Message Consumers</a></p>
</li>
<li>
<p><a href="#gbxro">Transactions</a></p>
</li>
<li>
<p><a href="#gbxsf">Broker Clusters</a></p>
</li>
<li>
<p><a href="#gbxsb">Logging</a></p>
</li>
<li>
<p><a href="#gbxrj">Java Virtual Machine</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gbxrr"></a><a id="GMJMG00032"></a><a id="brokers"></a></p>
</div>
<div class="sect2">
<h3 id="_brokers">Brokers</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing brokers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The broker configuration MBean configures a broker.</p>
</li>
<li>
<p>The broker monitor MBean monitors a broker.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="paragraph">
<p><a id="gcalt"></a><a id="GMJMG00174"></a><a id="broker-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_broker_configuration">Broker Configuration</h4>
<div class="paragraph">
<p>The broker configuration MBean is used for configuring a broker. There
is one such MBean for each broker.</p>
</div>
<div class="paragraph">
<p><a id="gciqr"></a><a id="GMJMG00073"></a><a id="object-name"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name">Object Name</h5>
<div class="paragraph">
<p>The broker configuration MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=Broker,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>BROKER_CONFIG_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gciny"></a><a id="GMJMG00074"></a><a id="attributes"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes">Attributes</h5>
<div class="paragraph">
<p>The broker configuration MBean has the attributes shown in
<a href="#gbaaa">Table 3-1</a>. The names of these attributes are defined as
static constants in the utility class <code>BrokerAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG209"></a><a id="sthref11"></a><a id="gbaaa"></a></p>
</div>
<div class="paragraph">
<p>Table 3-1 Broker Configuration Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker identifier</p>
</div>
<div class="paragraph">
<p>Must be a unique alphanumeric string of no more than n - 13 characters,
where n is the maximum table name length allowed by the database. No two
running brokers may have the same broker identifier.</p>
</div>
<div class="paragraph">
<p>For brokers using a JDBC-based persistent data store, this string is
appended to the names of all database tables to make them unique in the
case where more than one broker instance is using the same database. If
a database is not used as the persistent data store, the value of this
attribute is <code>null</code>.</p>
</div>
<div class="paragraph">
<p>Note: For high-availability brokers, database table names use the
<code>ClusterID</code> attribute (see <a href="#gbabo">Table 3-74</a>) instead.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InstanceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker instance name</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>imqbroker</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port number of Port Mapper</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcimu"></a><a id="GMJMG00075"></a><a id="operations"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations">Operations</h5>
<div class="paragraph">
<p>The broker configuration MBean supports the operations shown in
<a href="#gbaab">Table 3-2</a>. The names of these operations are defined as
static constants in the utility class <code>BrokerOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG210"></a><a id="sthref12"></a><a id="gbaab"></a></p>
</div>
<div class="paragraph">
<p>Table 3-2 Broker Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11%;">
<col style="width: 8%;">
<col style="width: 46%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shutdown</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>nofailover (<code>Boolean</code>)</p>
</div>
<div class="paragraph">
<p>time (<code>Long</code>)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Shut down broker</p>
</div>
<div class="paragraph">
<p>If nofailover is <code>false</code> or <code>null</code>, another broker will attempt to take
over for this broker when it shuts down; this applies only to brokers in
a high-availability (HA) cluster. If nofailover is <code>true</code>, no such
takeover attempt will occur.</p>
</div>
<div class="paragraph">
<p>The time parameter specifies the interval, in seconds, before the broker
actually shuts down; for immediate shutdown, specify <code>0</code> or <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shutdown</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Shut down broker immediately</p>
</div>
<div class="paragraph">
<p>If the broker is part of a high-availability (HA) cluster, another
broker will attempt to take over for it.</p>
</div>
<div class="paragraph">
<p>Equivalent to <code>shutdown<code>(</code>Boolean<code>.</code>FALSE<code>, new</code> <code>Long</code>(<code>0</code>))</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restart broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quiesce</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Quiesce broker</p>
</div>
<div class="paragraph">
<p>The broker will refuse any new connections; existing connections will
continue to be served.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unquiesce</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Unquiesce broker</p>
</div>
<div class="paragraph">
<p>The broker will again accept new connections.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`takeover`<a href="#foot-haonly1"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">brokerID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Initiate takeover from specified broker</p>
</div>
<div class="paragraph">
<p>The desired broker is designated by its broker identifier (brokerID).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProperty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">propertyName (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Get value of configuration property</p>
</div>
<div class="paragraph">
<p>The desired property is designated by its name (propertyName)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resetMetrics</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reset metrics</p>
</div>
<div class="paragraph">
<p>Resets to zero all metrics in monitor MBeans that track cumulative,
peak, or average counts. The following attributes are affected:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Service monitor</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NumConnectionsOpened</code></p>
</li>
<li>
<p><code>NumConnectionsRejected</code></p>
</li>
<li>
<p><code>NumMsgsIn</code></p>
</li>
<li>
<p><code>NumMsgsOut</code></p>
</li>
<li>
<p><code>MsgBytesIn</code></p>
</li>
<li>
<p><code>MsgBytesOut</code></p>
</li>
<li>
<p><code>NumPktsIn</code></p>
</li>
<li>
<p><code>NumPktsOut</code></p>
</li>
<li>
<p><code>PktBytesIn</code></p>
</li>
<li>
<p><code>PktBytesOut</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Service manager monitor</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NumMsgsIn</code></p>
</li>
<li>
<p><code>NumMsgsOut</code></p>
</li>
<li>
<p><code>MsgBytesIn</code></p>
</li>
<li>
<p><code>MsgBytesOut</code></p>
</li>
<li>
<p><code>NumPktsIn</code></p>
</li>
<li>
<p><code>NumPktsOut</code></p>
</li>
<li>
<p><code>PktBytesIn</code></p>
</li>
<li>
<p><code>PktBytesOut</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Connection manager monitor</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NumConnectionsOpened</code></p>
</li>
<li>
<p><code>NumConnectionsRejected</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destination monitor</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PeakNumConsumers</code></p>
</li>
<li>
<p><code>AvgNumConsumers</code></p>
</li>
<li>
<p><code>PeakNumActiveConsumers</code></p>
</li>
<li>
<p><code>AvgNumActiveConsumers</code></p>
</li>
<li>
<p><code>PeakNumBackupConsumers</code></p>
</li>
<li>
<p><code>AvgNumBackupConsumers</code></p>
</li>
<li>
<p><code>PeakNumMsgs</code></p>
</li>
<li>
<p><code>AvgNumMsgs</code></p>
</li>
<li>
<p><code>NumMsgsIn</code></p>
</li>
<li>
<p><code>NumMsgsOut</code></p>
</li>
<li>
<p><code>MsgBytesIn</code></p>
</li>
<li>
<p><code>MsgBytesOut</code></p>
</li>
<li>
<p><code>PeakMsgBytes</code></p>
</li>
<li>
<p><code>PeakTotalMsgBytes</code></p>
</li>
<li>
<p><code>AvgTotalMsgBytes</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Transaction manager monitor</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NumTransactionsCommitted</code></p>
</li>
<li>
<p><code>NumTransactionsRollback</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><a id="gcioc"></a><a id="GMJMG00076"></a><a id="notification"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notification">Notification</h5>
<div class="paragraph">
<p>The broker configuration MBean supports the notification shown in
<a href="#gbaac">Table 3-3</a>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG211"></a><a id="sthref13"></a><a id="gbaac"></a></p>
</div>
<div class="paragraph">
<p>Table 3-3 Broker Configuration Notification</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmx.attribute.change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute value changed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gciiw"></a><a id="GMJMG00175"></a><a id="broker-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_broker_monitor">Broker Monitor</h4>
<div class="paragraph">
<p>The broker monitor MBean is used for monitoring a broker. There is one
such MBean for each broker.</p>
</div>
<div class="paragraph">
<p><a id="gcioy"></a><a id="GMJMG00077"></a><a id="object-name-1"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_2">Object Name</h5>
<div class="paragraph">
<p>The broker monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=Broker,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>BROKER_MONITOR_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gciom"></a><a id="GMJMG00078"></a><a id="attributes-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_2">Attributes</h5>
<div class="paragraph">
<p>The broker monitor MBean has the attributes shown in <a href="#gbabu">Table
3-4</a>. The names of these attributes are defined as static constants in
the utility class <code>BrokerAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG212"></a><a id="sthref14"></a><a id="gbabu"></a></p>
</div>
<div class="paragraph">
<p>Table 3-4 Broker Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 17%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 63%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker identifier</p>
</div>
<div class="paragraph">
<p>Must be a unique alphanumeric string of no more than n - 13 characters,
where n is the maximum table name length allowed by the database. No two
running brokers may have the same broker identifier.</p>
</div>
<div class="paragraph">
<p>For brokers using a JDBC-based persistent data store, this string is
appended to the names of all database tables to make them unique in the
case where more than one broker instance is using the same database. If
a database is not used as the persistent data store, the value of this
attribute is <code>null</code>.</p>
</div>
<div class="paragraph">
<p>Note: For high-availability brokers, database table names use the
<code>ClusterID</code> attribute (see <a href="#gbadk">Table 3-79</a>) instead.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InstanceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker instance name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port number of Port Mapper</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ResourceState</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current broker resource state:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>green</code>: &lt; 80% memory utilization</p>
</li>
<li>
<p><code>yellow</code>: 80-90% memory utilization</p>
</li>
<li>
<p><code>orange</code>: 90-98% memory utilization</p>
</li>
<li>
<p><code>red</code>:&gt; 98% memory utilization</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: The threshold values shown are the default thresholds for
triggering the various states; these can be changed by setting the
broker configuration properties</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>imq.green.threshold</code></p>
</li>
<li>
<p><code>imq.yellow.threshold</code></p>
</li>
<li>
<p><code>imq.orange.threshold</code></p>
</li>
<li>
<p><code>imq.red.threshold</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Embedded</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is broker embedded (started from within
another process)?</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gciof"></a><a id="GMJMG00079"></a><a id="notifications"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications">Notifications</h5>
<div class="paragraph">
<p>The broker monitor MBean supports the notifications shown in
<a href="#gbabx">Table 3-5</a>. These notifications are instances of the Message
Queue JMX classes <code>BrokerNotification</code> and <code>ClusterNotification</code>, and
their names are defined as static constants in those classes.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG213"></a><a id="sthref15"></a><a id="gbabx"></a></p>
</div>
<div class="paragraph">
<p>Table 3-5 Broker Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 38%;">
<col style="width: 42%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.broker.shutdown.start</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_SHUTDOWN_START`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has begun
shutting down</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.broker.quiesce.start</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_QUIESCE_START`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has begun
quiescing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.broker.quiesce.complete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_QUIESCE_COMPLETE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has finished
quiescing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`mq.broker.takeover.start`<a href="#foot-haonly2"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_TAKEOVER_START`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has begun taking
over persistent data store from another broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`mq.broker.takeover.complete`<a href="#sthref16"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_TAKEOVER_COMPLETE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has finished
taking over persistent data store from another broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`mq.broker.takeover.fail`<a href="#sthref17"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_TAKEOVER_FAIL`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempted takeover has
failed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.broker.resource.state.change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_RESOURCE_STATE_CHANGE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker&#8217;s
resource state has changed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.cluster.broker.join</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClusterNotification`</code>.``CLUSTER_BROKER_JOIN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has joined a cluster</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><a href="#gcmzt">Table 3-6</a> shows the methods defined in class
<code>BrokerNotification</code> for obtaining details about a broker monitor
notification. See <a href="#gcmzm">Table 3-84</a> for the corresponding methods
of class <code>ClusterNotification</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG214"></a><a id="sthref18"></a><a id="gcmzt"></a></p>
</div>
<div class="paragraph">
<p>Table 3-6 Data Retrieval Methods for Broker Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 24%;">
<col style="width: 14%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerAddress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker address, in the form hostName`:`portNumber</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>host1:3000</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`getFailedBrokerID`<a href="#foot-haonly3"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker
identifier of broker being taken over</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getOldResourceState</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker&#8217;s previous resource state:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>green</code>: &lt; 80% memory utilization</p>
</li>
<li>
<p><code>yellow</code>: 80-90% memory utilization</p>
</li>
<li>
<p><code>orange</code>: 90-98% memory utilization</p>
</li>
<li>
<p><code>red</code>:&gt; 98% memory utilization</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: The threshold values shown are the default thresholds for
triggering the various states; these can be changed by setting the
broker configuration properties</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>imq.green.threshold</code></p>
</li>
<li>
<p><code>imq.yellow.threshold</code></p>
</li>
<li>
<p><code>imq.orange.threshold</code></p>
</li>
<li>
<p><code>imq.red.threshold</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getNewResourceState</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker&#8217;s new resource state (see
<code>getOldResourceState</code>, above, for possible values)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getHeapMemoryUsage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MemoryUsage</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker&#8217;s current heap memory usage</p>
</div>
<div class="paragraph">
<p>The value returned is an object of class <code>MemoryUsage</code> (defined in the
package <code>java.lang.management</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><a id="gbxsd"></a><a id="GMJMG00033"></a><a id="connection-services"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connection_services">Connection Services</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing connection services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The service configuration MBean configures a connection service.</p>
</li>
<li>
<p>The service monitor MBean monitors a connection service.</p>
</li>
<li>
<p>The service manager configuration MBean manages service configuration
MBeans.</p>
</li>
<li>
<p>The service manager monitor MBean manages service monitor MBeans.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="paragraph">
<p><a id="gcams"></a><a id="GMJMG00176"></a><a id="service-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_service_configuration">Service Configuration</h4>
<div class="paragraph">
<p>The service configuration MBean is used for configuring a connection
service. There is one such MBean for each service.</p>
</div>
<div class="paragraph">
<p><a id="gciqv"></a><a id="GMJMG00080"></a><a id="object-name-2"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_3">Object Name</h5>
<div class="paragraph">
<p>The service configuration MBean has an object name of the following
form:</p>
</div>
<div class="paragraph">
<p>`com.sun.messaging.jms.server:type=Service,subtype=Config,name=`serviceName</p>
</div>
<div class="paragraph">
<p>where serviceName is the name of the connection service (see
<a href="#gciql">Table 3-7</a>). The utility class <code>MQObjectName</code> provides a
static method, <code>createServiceConfig</code>, for constructing object names of
this form.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG215"></a><a id="sthref19"></a><a id="gciql"></a></p>
</div>
<div class="paragraph">
<p>Table 3-7 Connection Service Names for Service Configuration MBeans</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Service Name</th>
<th class="tableblock halign-left valign-top">Service Type</th>
<th class="tableblock halign-left valign-top">Protocol Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssljms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS (SSL-based security)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpjms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpsjms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS (SSL-based security)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>admin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssladmin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS (SSL-based security)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcino"></a><a id="GMJMG00081"></a><a id="attributes-2"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_3">Attributes</h5>
<div class="paragraph">
<p>The service configuration MBean has the attributes shown in
<a href="#gbaav">Table 3-8</a>. The names of these attributes are defined as
static constants in the utility class <code>ServiceAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG216"></a><a id="sthref20"></a><a id="gbaav"></a></p>
</div>
<div class="paragraph">
<p>Table 3-8 Service Configuration Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 19%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 61%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Service name</p>
</div>
<div class="paragraph">
<p>See <a href="#gciql">Table 3-7</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Port number (<code>jms</code>, <code>ssljms</code>, <code>admin</code>, and <code>ssladmin</code> services only)</p>
</div>
<div class="paragraph">
<p>A value of <code>0</code> specifies that the port is to be dynamically allocated by
the Port Mapper; to learn the actual port currently used by the service,
use the <code>Port</code> attribute of the service monitor MBean.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MinThreads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Minimum number of threads assigned to service</p>
</div>
<div class="paragraph">
<p>Must be greater than <code>0</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxThreads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum number of threads assigned to service</p>
</div>
<div class="paragraph">
<p>Must be greater than or equal to <code>MinThreads</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ThreadPoolModel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Threading model for thread pool management:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dedicated</code>: Two dedicated threads per connection, one for incoming
and one for outgoing messages</p>
</li>
<li>
<p><code>shared</code>: Connections processed by shared thread when sending or
receiving messages (<code>jms</code> and <code>admin</code> services only)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcinw"></a><a id="GMJMG00082"></a><a id="operations-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_2">Operations</h5>
<div class="paragraph">
<p>The service configuration MBean supports the operations shown in
<a href="#gbaaw">Table 3-9</a>. The names of these operations are defined as
static constants in the utility class <code>ServiceOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG217"></a><a id="sthref21"></a><a id="gbaaw"></a></p>
</div>
<div class="paragraph">
<p>Table 3-9 Service Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 51%;">
<col style="width: 6%;">
<col style="width: 7%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause service (<code>jms</code>, <code>ssljms</code>, <code>httpjms</code>, and
<code>httpsjms</code> services only)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resume service (<code>jms</code>, <code>ssljms</code>, <code>httpjms</code>, and
<code>httpsjms</code> services only)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcimo"></a><a id="GMJMG00083"></a><a id="notification-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notification_2">Notification</h5>
<div class="paragraph">
<p>The service configuration MBean supports the notification shown in
<a href="#gbaax">Table 3-10</a>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG218"></a><a id="sthref22"></a><a id="gbaax"></a></p>
</div>
<div class="paragraph">
<p>Table 3-10 Service Configuration Notification</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmx.attribute.change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute value changed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcamu"></a><a id="GMJMG00177"></a><a id="service-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_service_monitor">Service Monitor</h4>
<div class="paragraph">
<p>The service monitor MBean is used for monitoring a connection service.
There is one such MBean for each service.</p>
</div>
<div class="paragraph">
<p><a id="gcisp"></a><a id="GMJMG00084"></a><a id="object-name-3"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_4">Object Name</h5>
<div class="paragraph">
<p>The service monitor MBean has an object name of the following form:</p>
</div>
<div class="paragraph">
<p>`com.sun.messaging.jms.server:type=Service,subtype=Monitor,name=`serviceName</p>
</div>
<div class="paragraph">
<p>where serviceName is the name of the connection service (see
<a href="#gcipq">Table 3-11</a>). The utility class <code>MQObjectName</code> provides a
static method, <code>createServiceMonitor</code>, for constructing object names of
this form.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG219"></a><a id="sthref23"></a><a id="gcipq"></a></p>
</div>
<div class="paragraph">
<p>Table 3-11 Connection Service Names for Service Monitor MBeans</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Service Name</th>
<th class="tableblock halign-left valign-top">Service Type</th>
<th class="tableblock halign-left valign-top">Protocol Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssljms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS (SSL-based security)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpjms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpsjms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS (SSL-based security)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>admin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssladmin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS (SSL-based security)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcinf"></a><a id="GMJMG00085"></a><a id="attributes-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_4">Attributes</h5>
<div class="paragraph">
<p>The service monitor MBean has the attributes shown in <a href="#gbacq">Table
3-12</a>. The names of these attributes are defined as static constants in
the utility class <code>ServiceAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG220"></a><a id="sthref24"></a><a id="gbacq"></a></p>
</div>
<div class="paragraph">
<p>Table 3-12 Service Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 53%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Service name</p>
</div>
<div class="paragraph">
<p>See <a href="#gcipq">Table 3-11</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port number currently used by service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>State</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current state</p>
</div>
<div class="paragraph">
<p>See <a href="#gcikq">Table 3-13</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StateLabel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>String representation of current state:</p>
</div>
<div class="paragraph">
<p>Useful for displaying the state in human-readable form, such as in the
Java Monitoring and Management Console (<code>jconsole</code>).</p>
</div>
<div class="paragraph">
<p>See <a href="#gcikq">Table 3-13</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConnections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConnectionsOpened</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of connections
opened since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConnectionsRejected</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of connections
rejected since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumActiveThreads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of threads actively
handling connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of message producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of message consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of messages received since
broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of messages sent since
broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MsgBytesIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative size in bytes of messages received
since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MsgBytesOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative size in bytes of messages sent
since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumPktsIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of packets received since
broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumPktsOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of packets sent since
broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PktBytesIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative size in bytes of packets received
since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PktBytesOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative size in bytes of packets sent
since broker started</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcikq">Table 3-13</a> shows the possible values for the <code>State</code> and
<code>StateLabel</code> attributes. These values are defined as static constants in
the utility class <code>ServiceState</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG221"></a><a id="sthref25"></a><a id="gcikq"></a></p>
</div>
<div class="paragraph">
<p>Table 3-13 Connection Service State Values</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 10%;">
<col style="width: 35%;">
<col style="width: 20%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">String Representation</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceState`</code>.``RUNNING`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service running</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceState`</code>.``PAUSED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceState`</code>.``QUIESCED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QUIESCED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service quiesced</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceState`</code>.``UNKNOWN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNKNOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service state unknown</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcing"></a><a id="GMJMG00086"></a><a id="operations-2"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_3">Operations</h5>
<div class="paragraph">
<p>The service monitor MBean supports the operations shown in
<a href="#gbacr">Table 3-14</a>. The names of these operations are defined as
static constants in the utility class <code>ServiceOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG222"></a><a id="sthref26"></a><a id="gbacr"></a></p>
</div>
<div class="paragraph">
<p>Table 3-14 Service Monitor Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConnections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of connection
monitor MBeans for all current connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Producer identifiers of all
current message producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consumer identifiers of all
current message consumers</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcinx"></a><a id="GMJMG00087"></a><a id="notifications-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_2">Notifications</h5>
<div class="paragraph">
<p>The service monitor MBean supports the notifications shown in
<a href="#gbacs">Table 3-15</a>. These notifications are instances of the
Message Queue JMX classes <code>ServiceNotification</code> and
<code>ConnectionNotification</code>, and their names are defined as static
constants in those classes.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG223"></a><a id="sthref27"></a><a id="gbacs"></a></p>
</div>
<div class="paragraph">
<p>Table 3-15 Service Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 53%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.service.pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceNotification`</code>.``SERVICE_PAUSE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service
paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.service.resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceNotification`</code>.``SERVICE_RESUME`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service
resumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.connection.open</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionNotification`</code>.``CONNECTION_OPEN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection opened</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.connection.reject</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionNotification`</code>.``CONNECTION_REJECT`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection rejected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.connection.close</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionNotification`</code>.``CONNECTION_CLOSE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection closed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcmzp">Table 3-16</a> shows the method defined in class
<code>ServiceNotification</code> for obtaining details about a service monitor
notification. See <a href="#gcmzb">Table 3-31</a> for the corresponding methods
of class <code>ConnectionNotification</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG224"></a><a id="sthref28"></a><a id="gcmzp"></a></p>
</div>
<div class="paragraph">
<p>Table 3-16 Data Retrieval Method for Service Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23%;">
<col style="width: 18%;">
<col style="width: 59%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getServiceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Service name</p>
</div>
<div class="paragraph">
<p>See <a href="#gcipq">Table 3-11</a> for possible values.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcana"></a><a id="GMJMG00178"></a><a id="service-manager-configuration"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_service_manager_configuration">Service Manager Configuration</h4>
<div class="paragraph">
<p>Each broker has a single service manager configuration MBean, used for
managing all of the broker&#8217;s service configuration MBeans.</p>
</div>
<div class="paragraph">
<p><a id="gcira"></a><a id="GMJMG00088"></a><a id="object-name-4"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_5">Object Name</h5>
<div class="paragraph">
<p>The service manager configuration MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ServiceManager,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>SERVICE_MANAGER_CONFIG_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcinz"></a><a id="GMJMG00089"></a><a id="attributes-4"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_5">Attributes</h5>
<div class="paragraph">
<p>The service manager configuration MBean has the attributes shown in
<a href="#gbaad">Table 3-17</a>. The names of these attributes are defined as
static constants in the utility class <code>ServiceAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG225"></a><a id="sthref29"></a><a id="gbaad"></a></p>
</div>
<div class="paragraph">
<p>Table 3-17 Service Manager Configuration Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MinThreads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total minimum number of threads for all
active services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxThreads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total maximum number of threads for all
active services</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcinm"></a><a id="GMJMG00090"></a><a id="operations-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_4">Operations</h5>
<div class="paragraph">
<p>The service manager configuration MBean supports the operations shown in
<a href="#gbaae">Table 3-18</a>. The names of these operations are defined as
static constants in the utility class <code>ServiceOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG226"></a><a id="sthref30"></a><a id="gbaae"></a></p>
</div>
<div class="paragraph">
<p>Table 3-18 Service Manager Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 12%;">
<col style="width: 15%;">
<col style="width: 57.0%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getServices</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of service
configuration MBeans for all services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause all services except <code>admin</code> and <code>ssladmin</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resume all services</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcamc"></a><a id="GMJMG00179"></a><a id="service-manager-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_service_manager_monitor">Service Manager Monitor</h4>
<div class="paragraph">
<p>Each broker has a single service manager monitor MBean, used for
managing all of the broker&#8217;s service monitor MBeans.</p>
</div>
<div class="paragraph">
<p><a id="gcisb"></a><a id="GMJMG00091"></a><a id="object-name-5"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_6">Object Name</h5>
<div class="paragraph">
<p>The service manager monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ServiceManager,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>SERVICE_MANAGER_MONITOR_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcimy"></a><a id="GMJMG00092"></a><a id="attributes-5"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_6">Attributes</h5>
<div class="paragraph">
<p>The service manager monitor MBean has the attributes shown in
<a href="#gbaby">Table 3-19</a>. The names of these attributes are defined as
static constants in the utility class <code>ServiceAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG227"></a><a id="sthref31"></a><a id="gbaby"></a></p>
</div>
<div class="paragraph">
<p>Table 3-19 Service Manager Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumServices</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of connection services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumActiveThreads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total current number of threads
actively handling connections for all services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative number of messages received
by all services since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative number of messages sent by
all services since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MsgBytesIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative size in bytes of messages
received by all services since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MsgBytesOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative size in bytes of messages
sent by all services since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumPktsIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative number of packets received by
all services since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumPktsOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative number of packets sent by
all services since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PktBytesIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative size in bytes of packets
received by all services since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PktBytesOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total cumulative size in bytes of packets
sent by all services since broker started</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcint"></a><a id="GMJMG00093"></a><a id="operation"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operation">Operation</h5>
<div class="paragraph">
<p>The service manager monitor MBean supports the operation shown in
<a href="#gbabz">Table 3-20</a>. The name of this operation is defined as a
static constant in the utility class <code>ServiceOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG228"></a><a id="sthref32"></a><a id="gbabz"></a></p>
</div>
<div class="paragraph">
<p>Table 3-20 Service Manager Monitor Operation</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 14%;">
<col style="width: 12%;">
<col style="width: 15%;">
<col style="width: 59%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getServices</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of all service
monitor MBeans</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcioi"></a><a id="GMJMG00094"></a><a id="notifications-2"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_3">Notifications</h5>
<div class="paragraph">
<p>The service manager monitor MBean supports the notifications shown in
<a href="#gbaca">Table 3-21</a>. These notifications are instances of the
Message Queue JMX class <code>ServiceNotification</code>, and their names are
defined as static constants in that class.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG229"></a><a id="sthref33"></a><a id="gbaca"></a></p>
</div>
<div class="paragraph">
<p>Table 3-21 Service Manager Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 45%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.service.pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceNotification`</code>.``SERVICE_PAUSE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service
paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.service.resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceNotification`</code>.``SERVICE_RESUME`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service
resumed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcmzs">Table 3-22</a> shows the method defined in class
<code>ServiceNotification</code> for obtaining details about a service manager
monitor notification.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG230"></a><a id="sthref34"></a><a id="gcmzs"></a></p>
</div>
<div class="paragraph">
<p>Table 3-22 Data Retrieval Method for Service Manager Monitor
Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23%;">
<col style="width: 18%;">
<col style="width: 59%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getServiceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Service name</p>
</div>
<div class="paragraph">
<p>See <a href="#gcipq">Table 3-11</a> for possible values.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gbxsg"></a><a id="GMJMG00034"></a><a id="connections"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connections">Connections</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing connections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The connection configuration MBean configures a connection.</p>
</li>
<li>
<p>The connection monitor MBean monitors a connection.</p>
</li>
<li>
<p>The connection manager configuration MBean manages connection
configuration MBeans.</p>
</li>
<li>
<p>The connection manager monitor MBean manages connection monitor
MBeans.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="paragraph">
<p><a id="gcama"></a><a id="GMJMG00180"></a><a id="connection-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_connection_configuration">Connection Configuration</h4>
<div class="paragraph">
<p>The connection configuration MBean is used for configuring a connection.
There is one such MBean for each connection.</p>
</div>
<div class="paragraph">
<p><a id="gcire"></a><a id="GMJMG00095"></a><a id="object-name-6"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_7">Object Name</h5>
<div class="paragraph">
<p>The connection configuration MBean has an object name of the following
form:</p>
</div>
<div class="paragraph">
<p>`com.sun.messaging.jms.server:type=Connection,subtype=Config,id=`connectionID</p>
</div>
<div class="paragraph">
<p>where connectionID is the connection identifier. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">com.sun.messaging.jms.server:type=Connection,subtype=Config,
id=7853717387765338368</code></pre>
</div>
</div>
<div class="paragraph">
<p>The utility class <code>MQObjectName</code> provides a static method,
<code>createConnectionConfig</code>, for constructing object names of this form.</p>
</div>
<div class="paragraph">
<p><a id="gcinq"></a><a id="GMJMG00096"></a><a id="attribute"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attribute">Attribute</h5>
<div class="paragraph">
<p>The connection configuration MBean has the attribute shown in
<a href="#gbaay">Table 3-23</a>. The name of this attribute is defined as a
static constant in the utility class <code>ConnectionAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG231"></a><a id="sthref35"></a><a id="gbaay"></a></p>
</div>
<div class="paragraph">
<p>Table 3-23 Connection Configuration Attribute</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection identifier</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcaml"></a><a id="GMJMG00181"></a><a id="connection-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_connection_monitor">Connection Monitor</h4>
<div class="paragraph">
<p>The connection monitor MBean is used for monitoring a connection. There
is one such MBean for each connection.</p>
</div>
<div class="paragraph">
<p><a id="gcisk"></a><a id="GMJMG00097"></a><a id="object-name-7"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_8">Object Name</h5>
<div class="paragraph">
<p>The connection monitor MBean has an object name of the following form:</p>
</div>
<div class="paragraph">
<p>`com.sun.messaging.jms.server:type=Connection,subtype=Monitor,id=`connectionID</p>
</div>
<div class="paragraph">
<p>where connectionID is the connection identifier. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">com.sun.messaging.jms.server:type=Connection,subtype=Monitor,
id=7853717387765338368</code></pre>
</div>
</div>
<div class="paragraph">
<p>The utility class <code>MQObjectName</code> provides a static method,
<code>createConnectionMonitor</code>, for constructing object names of this form.</p>
</div>
<div class="paragraph">
<p><a id="gciog"></a><a id="GMJMG00098"></a><a id="attributes-6"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_7">Attributes</h5>
<div class="paragraph">
<p>The connection monitor MBean has the attributes shown in
<a href="#gbact">Table 3-24</a>. The names of these attributes are defined as
static constants in the utility class <code>ConnectionAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG232"></a><a id="sthref36"></a><a id="gbact"></a></p>
</div>
<div class="paragraph">
<p>Table 3-24 Connection Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Host</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host from which connection was made</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection service name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>User</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClientID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClientPlatform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String describing client platform</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of associated message
producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of associated message
consumers</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gciol"></a><a id="GMJMG00099"></a><a id="operations-4"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_5">Operations</h5>
<div class="paragraph">
<p>The connection monitor MBean supports the operations shown in
<a href="#gbacu">Table 3-25</a>. The names of these operations are defined as
static constants in the utility class <code>ConnectionOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG233"></a><a id="sthref37"></a><a id="gbacu"></a></p>
</div>
<div class="paragraph">
<p>Table 3-25 Connection Monitor Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 12%;">
<col style="width: 15%;">
<col style="width: 43%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getService</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object name of service monitor MBean
for associated connection service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getTemporaryDestinations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of
destination monitor MBeans for all associated temporary destinations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Producer identifiers of all
associated message producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consumer identifiers of all
associated message consumers</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcanj"></a><a id="GMJMG00182"></a><a id="connection-manager-configuration"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_connection_manager_configuration">Connection Manager Configuration</h4>
<div class="paragraph">
<p>Each broker has a single connection manager configuration MBean, used
for managing all of the broker&#8217;s connection configuration MBeans.</p>
</div>
<div class="paragraph">
<p><a id="gcisa"></a><a id="GMJMG00100"></a><a id="object-name-8"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_9">Object Name</h5>
<div class="paragraph">
<p>The connection manager configuration MBean has the following object
name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ConnectionManager,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>CONNECTION_MANAGER_CONFIG_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcink"></a><a id="GMJMG00101"></a><a id="attribute-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attribute_2">Attribute</h5>
<div class="paragraph">
<p>The connection manager configuration MBean has the attribute shown in
<a href="#gbaag">Table 3-26</a>. The name of this attribute is defined as a
static constant in the utility class <code>ConnectionAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG234"></a><a id="sthref38"></a><a id="gbaag"></a></p>
</div>
<div class="paragraph">
<p>Table 3-26 Connection Manager Configuration Attribute</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConnections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of current connections</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcimz"></a><a id="GMJMG00102"></a><a id="operations-5"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_6">Operations</h5>
<div class="paragraph">
<p>The connection manager configuration MBean supports the operations shown
in <a href="#gbaah">Table 3-27</a>. The names of these operations are defined as
static constants in the utility class <code>ConnectionOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG235"></a><a id="sthref39"></a><a id="gbaah"></a></p>
</div>
<div class="paragraph">
<p>Table 3-27 Connection Manager Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 19%;">
<col style="width: 19%;">
<col style="width: 15%;">
<col style="width: 47%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConnections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of connection
configuration MBeans for all current connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>destroy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectionID (<code>Long</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destroy connection</p>
</div>
<div class="paragraph">
<p>The desired connection is designated by its connection identifier
(connectionID).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcamo"></a><a id="GMJMG00183"></a><a id="connection-manager-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_connection_manager_monitor">Connection Manager Monitor</h4>
<div class="paragraph">
<p>Each broker has a single connection manager monitor MBean, used for
managing all of the broker&#8217;s connection monitor MBeans.</p>
</div>
<div class="paragraph">
<p><a id="gcirt"></a><a id="GMJMG00103"></a><a id="object-name-9"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_10">Object Name</h5>
<div class="paragraph">
<p>The connection manager monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ConnectionManager,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>CONNECTION_MANAGER_MONITOR_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gciod"></a><a id="GMJMG00104"></a><a id="attributes-7"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_8">Attributes</h5>
<div class="paragraph">
<p>The connection manager monitor MBean has the attributes shown in
<a href="#gbacb">Table 3-28</a>. The names of these attributes are defined as
static constants in the utility class <code>ConnectionAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG236"></a><a id="sthref40"></a><a id="gbacb"></a></p>
</div>
<div class="paragraph">
<p>Table 3-28 Connection Manager Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 53%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConnections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConnectionsOpened</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of connections
opened since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConnectionsRejected</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of connections
rejected since broker started</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcina"></a><a id="GMJMG00105"></a><a id="operation-1"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operation_2">Operation</h5>
<div class="paragraph">
<p>The connection manager monitor MBean supports the operation shown in
<a href="#gbacc">Table 3-29</a>. The name of this operation is defined as a
static constant in the utility class <code>ConnectionOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG237"></a><a id="sthref41"></a><a id="gbacc"></a></p>
</div>
<div class="paragraph">
<p>Table 3-29 Connection Manager Monitor Operation</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConnections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of connection
monitor MBeans for all current connections</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcinc"></a><a id="GMJMG00106"></a><a id="notifications-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_4">Notifications</h5>
<div class="paragraph">
<p>The connection manager monitor MBean supports the notifications shown in
<a href="#gbacd">Table 3-30</a>. These notifications are instances of the
Message Queue JMX class <code>ConnectionNotification</code>, and their names are
defined as static constants in that class.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG238"></a><a id="sthref42"></a><a id="gbacd"></a></p>
</div>
<div class="paragraph">
<p>Table 3-30 Connection Manager Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.connection.open</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionNotification`</code>.``CONNECTION_OPEN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection opened</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.connection.reject</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionNotification`</code>.``CONNECTION_REJECT`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection rejected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.connection.close</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionNotification`</code>.``CONNECTION_CLOSE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection closed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcmzb">Table 3-31</a> shows the methods defined in class
<code>ConnectionNotification</code> for obtaining details about a connection
manager monitor notification.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG239"></a><a id="sthref43"></a><a id="gcmzb"></a></p>
</div>
<div class="paragraph">
<p>Table 3-31 Data Retrieval Methods for Connection Manager Monitor
Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23%;">
<col style="width: 18%;">
<col style="width: 59%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConnectionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getRemoteHost</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host from which connection was made</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getServiceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection service name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getUserName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gbxrq"></a><a id="GMJMG00035"></a><a id="destinations"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_destinations">Destinations</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing destinations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The destination configuration MBean configures a destination.</p>
</li>
<li>
<p>The destination monitor MBean monitors a destination.</p>
</li>
<li>
<p>The destination manager configuration MBean manages destination
configuration MBeans.</p>
</li>
<li>
<p>The destination manager monitor MBean manages destination monitor
MBeans.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="paragraph">
<p><a id="gcamj"></a><a id="GMJMG00184"></a><a id="destination-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_destination_configuration">Destination Configuration</h4>
<div class="paragraph">
<p>The destination configuration MBean is used for configuring a
destination. There is one such MBean for each destination.</p>
</div>
<div class="paragraph">
<p><a id="gcirp"></a><a id="GMJMG00107"></a><a id="object-name-10"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_11">Object Name</h5>
<div class="paragraph">
<p>The destination configuration MBean has an object name of the following
form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">com.sun.messaging.jms.server:type=Destination,subtype=Config,
desttype=destinationType,name=destinationName</code></pre>
</div>
</div>
<div class="paragraph">
<p>where destinationType is one of the destination types shown in
<a href="#gcimr">Table 3-33</a> and destinationName is the name of the
destination. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">com.sun.messaging.jms.server:type=Destination,subtype=Config,desttype=t,
name="Dest"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The utility class <code>MQObjectName</code> provides a static method,
<code>createDestinationConfig</code>, for constructing object names of this form.</p>
</div>
<div class="paragraph">
<p><a id="gcinr"></a><a id="GMJMG00108"></a><a id="attributes-8"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_9">Attributes</h5>
<div class="paragraph">
<p>The destination configuration MBean has the attributes shown in
<a href="#gbabb">Table 3-32</a>. The names of these attributes are defined as
static constants in the utility class <code>DestinationAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG240"></a><a id="sthref44"></a><a id="gbabb"></a></p>
</div>
<div class="paragraph">
<p>Table 3-32 Destination Configuration Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.9999%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 51.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destination type</p>
</div>
<div class="paragraph">
<p>See <a href="#gcimr">Table 3-33</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxNumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum number of unconsumed messages</p>
</div>
<div class="paragraph">
<p>A value of <code>-1</code> denotes an unlimited number of messages.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxBytesPerMsg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum size, in bytes, of any single message</p>
</div>
<div class="paragraph">
<p>Rejection of a persistent message is reported to the producing client
with an exception; no notice is sent for nonpersistent messages.</p>
</div>
<div class="paragraph">
<p>A value of <code>-1</code> denotes an unlimited message size.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxTotalMsgBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum total memory, in bytes, for
unconsumed messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LimitBehavior</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker behavior when memory-limit threshold reached</p>
</div>
<div class="paragraph">
<p>See <a href="#gciuf">Table 3-34</a> for possible values.</p>
</div>
<div class="paragraph">
<p>If the value is <code>REMOVE_OLDEST</code> or <code>REMOVE_LOW_PRIORITY</code> and the
<code>UseDMQ</code> attribute is <code>true</code>, excess messages are moved to the dead
message queue.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxNumProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum number of associated message producers</p>
</div>
<div class="paragraph">
<p>When this limit is reached, no new producers can be created. A value of
<code>-1</code> denotes an unlimited number of producers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`MaxNumActiveConsumers`<a href="#foot-queueonly1"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum number of associated active message consumers in load-balanced
delivery</p>
</div>
<div class="paragraph">
<p>A value of <code>-1</code> denotes an unlimited number of consumers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`MaxNumBackupConsumers`<a href="#sthref45"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum number of associated backup message consumers in load-balanced
delivery</p>
</div>
<div class="paragraph">
<p>A value of <code>-1</code> denotes an unlimited number of consumers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConsumerFlowLimit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum number of messages delivered to consumer in a single batch</p>
</div>
<div class="paragraph">
<p>In load-balanced queue delivery, this is the initial number of queued
messages routed to active consumers before load balancing begins. A
destination consumer can override this limit by specifying a lower value
on a connection.</p>
</div>
<div class="paragraph">
<p>A value of <code>-1</code> denotes an unlimited number of consumers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LocalOnly</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Local delivery only?</p>
</div>
<div class="paragraph">
<p>This property applies only to destinations in broker clusters, and
cannot be changed once the destination has been created. If <code>true</code>, the
destination is not replicated on other brokers and is limited to
delivering messages only to local consumers (those connected to the
broker on which the destination is created).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`LocalDeliveryPreferred`<a href="#sthref46"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Local delivery preferred?</p>
</div>
<div class="paragraph">
<p>This property applies only to load-balanced delivery in broker clusters.
If <code>true</code>, messages will be delivered to remote consumers only if there
are no associated consumers on the local broker. The destination must
not be restricted to local-only delivery (<code>LocalOnly</code> must be <code>false</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UseDMQ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Send dead messages to dead message queue?</p>
</div>
<div class="paragraph">
<p>If <code>false</code>, dead messages will simply be discarded.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ValidateXMLSchemaEnabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>XML schema validation is enabled?</p>
</div>
<div class="paragraph">
<p>If set to <code>false</code> or not set, then XML schema validation is not enabled
for the destination.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>XMLSchemaURIList</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Space separated list of XML schema document (XSD) URI strings</p>
</div>
<div class="paragraph">
<p>The URIs point to the location of one or more XSDs to use for XML schema
validation, if enabled.</p>
</div>
<div class="paragraph">
<p>Use double quotes around this value if multiple URIs are specified.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>&#8220;<a href="http://foo/flap.xsd" class="bare">http://foo/flap.xsd</a> <a href="http://test.com/test.xsd&#8221" class="bare">http://test.com/test.xsd&#8221</a>;</p>
</div>
<div class="paragraph">
<p>If this property is not set or null and XML validation is enabled, XML
validation is performed using a DTD specified in the XML document.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReloadXMLSchemaOnFailure</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reload XML schema on failure enabled?</p>
</div>
<div class="paragraph">
<p>If set to false or not set, then the schema is not reloaded if
validation fails.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Queue destinations only</p>
</div>
<div class="paragraph">
<p><a href="#gcimr">Table 3-33</a> shows the possible values for the <code>Type</code>
attribute. These values are defined as static constants in the utility
class <code>DestinationType</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG241"></a><a id="sthref47"></a><a id="gcimr"></a></p>
</div>
<div class="paragraph">
<p>Table 3-33 Destination Configuration Type Values</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``QUEUE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queue (point-to-point) destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``TOPIC`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Topic (publish/subscribe) destination</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gciuf">Table 3-34</a> shows the possible values for the
<code>LimitBehavior</code> attribute. These values are defined as static constants
in the utility class <code>DestinationLimitBehavior</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG242"></a><a id="sthref48"></a><a id="gciuf"></a></p>
</div>
<div class="paragraph">
<p>Table 3-34 Destination Limit Behaviors</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 24%;">
<col style="width: 45%;">
<col style="width: 31%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FLOW_CONTROL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationLimitBehavior`</code>.``FLOW_CONTROL`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slow down
producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REMOVE_OLDEST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationLimitBehavior`</code>.``REMOVE_OLDEST`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Throw
out oldest messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REMOVE_LOW_PRIORITY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationLimitBehavior`</code>.``REMOVE_LOW_PRIORITY`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Throw out
lowest-priority messages according to age; no notice to producing client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REJECT_NEWEST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationLimitBehavior`</code>.``REJECT_NEWEST`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reject
newest messages; notify producing client with an exception only if
message is persistent</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcimw"></a><a id="GMJMG00109"></a><a id="operations-6"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_7">Operations</h5>
<div class="paragraph">
<p>The destination configuration MBean supports the operations shown in
<a href="#gbabc">Table 3-35</a>. The names of these operations are defined as
static constants in the utility class <code>DestinationOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG243"></a><a id="sthref49"></a><a id="gbabc"></a></p>
</div>
<div class="paragraph">
<p>Table 3-35 Destination Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11%;">
<col style="width: 20%;">
<col style="width: 12%;">
<col style="width: 57.0%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pauseType (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pause message delivery</p>
</div>
<div class="paragraph">
<p>See <a href="#gcitd">Table 3-36</a> for possible values of pauseType.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pause all message delivery</p>
</div>
<div class="paragraph">
<p>Equivalent to <code>pause<code>(</code>DestinationPauseType<code>.</code>ALL`</code>)`.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resume message delivery</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>purge</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purge all messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`compact`<a href="#foot-filebasedonly1"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Compact persistent data store</p>
</div>
<div class="paragraph">
<p>Note: Only a paused destination can be compacted.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>File-based persistence only</p>
</div>
<div class="paragraph">
<p><a href="#gcitd">Table 3-36</a> shows the possible values for the <code>pause</code>
operation&#8217;s pauseType parameter. These values are defined as static
constants in the utility class <code>DestinationPauseType</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG244"></a><a id="sthref50"></a><a id="gcitd"></a></p>
</div>
<div class="paragraph">
<p>Table 3-36 Destination Pause Types</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PRODUCERS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationPauseType`</code>.``PRODUCERS`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause delivery from
associated message producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONSUMERS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationPauseType`</code>.``CONSUMERS`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause delivery to
associated message consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationPauseType`</code>.``ALL`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause all message delivery</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gciob"></a><a id="GMJMG00110"></a><a id="notification-2"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notification_3">Notification</h5>
<div class="paragraph">
<p>The destination configuration MBean supports the notification shown in
<a href="#gbabd">Table 3-37</a>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG245"></a><a id="sthref51"></a><a id="gbabd"></a></p>
</div>
<div class="paragraph">
<p>Table 3-37 Destination Configuration Notification</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmx.attribute.change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute value changed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcalx"></a><a id="GMJMG00185"></a><a id="destination-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_destination_monitor">Destination Monitor</h4>
<div class="paragraph">
<p>The destination monitor MBean is used for monitoring a destination.
There is one such MBean for each destination.</p>
</div>
<div class="paragraph">
<p><a id="gciqt"></a><a id="GMJMG00111"></a><a id="object-name-11"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_12">Object Name</h5>
<div class="paragraph">
<p>The destination monitor MBean has an object name of the following form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">com.sun.messaging.jms.server:type=Destination,subtype=Monitor,
desttype=destinationType,name=destinationName</code></pre>
</div>
</div>
<div class="paragraph">
<p>where destinationType is one of the destination types shown in
<a href="#gcipv">Table 3-39</a> and destinationName is the name of the
destination. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">com.sun.messaging.jms.server:type=Destination,subtype=Monitor,desttype=t,
name="Dest"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The utility class <code>MQObjectName</code> provides a static method,
<code>createDestinationMonitor</code>, for constructing object names of this form.</p>
</div>
<div class="paragraph">
<p><a id="gcims"></a><a id="GMJMG00112"></a><a id="attributes-9"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_10">Attributes</h5>
<div class="paragraph">
<p>The destination monitor MBean has the attributes shown in
<a href="#gbacw">Table 3-38</a>. The names of these attributes are defined as
static constants in the utility class <code>DestinationAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG246"></a><a id="sthref52"></a><a id="gbacw"></a></p>
</div>
<div class="paragraph">
<p>Table 3-38 Destination Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 36%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 44%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destination type</p>
</div>
<div class="paragraph">
<p>See <a href="#gcipv">Table 3-39</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CreatedByAdmin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator-created destination?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Temporary</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temporary destination?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ConnectionID`<a href="#foot-temponly1"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection
identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>State</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current state</p>
</div>
<div class="paragraph">
<p>See <a href="#gcitj">Table 3-40</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StateLabel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>String representation of current state:</p>
</div>
<div class="paragraph">
<p>Useful for displaying the state in human-readable form, such as in the
Java Monitoring and Management Console (<code>jconsole</code>).</p>
</div>
<div class="paragraph">
<p>See <a href="#gcitj">Table 3-40</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of associated message
producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current number of associated message consumers</p>
</div>
<div class="paragraph">
<p>For queue destinations, this attribute includes both active and backup
consumers. For topic destinations, it includes both nondurable and
(active and inactive) durable subscribers and is equivalent to
<code>NumActiveConsumers</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsInDelayDelivery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current Number of messages in
the destination with a delivery delay waiting for the delivery time
arrival.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumWildcardProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current number of wildcard message producers associated with the
destination</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumWildcardConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current number of wildcard message consumers associated with the
destination</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumWildcards</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current number of wildcard message producers and wildcard message
consumers associated with the destination</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PeakNumConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Peak number of associated message consumers since broker started</p>
</div>
<div class="paragraph">
<p>For queue destinations, this attribute includes both active and backup
consumers. For topic destinations, it includes both nondurable and
(active and inactive) durable subscribers and is equivalent to
<code>PeakNumActiveConsumers</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AvgNumConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Average number of associated message consumers since broker started</p>
</div>
<div class="paragraph">
<p>For queue destinations, this attribute includes both active and backup
consumers. For topic destinations, it includes both nondurable and
(active and inactive) durable subscribers and is equivalent to
<code>AvgNumActiveConsumers</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumActiveConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current number of associated active message consumers</p>
</div>
<div class="paragraph">
<p>For topic destinations, this attribute includes both nondurable and
(active and inactive) durable subscribers and is equivalent to
<code>NumConsumers</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PeakNumActiveConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Peak number of associated active message consumers since broker started</p>
</div>
<div class="paragraph">
<p>For topic destinations, this attribute includes both nondurable and
(active and inactive) durable subscribers and is equivalent to
<code>PeakNumConsumers</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AvgNumActiveConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Average number of associated active message consumers since broker
started</p>
</div>
<div class="paragraph">
<p>For topic destinations, this attribute includes both nondurable and
(active and inactive) durable subscribers and is equivalent to
<code>AvgNumConsumers</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`NumBackupConsumers`<a href="#foot-queueonly2"><sup>Foot 2 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of associated backup message consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`PeakNumBackupConsumers`<a href="#sthref53"><sup>Footref 2</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Peak number of associated backup message consumers since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`AvgNumBackupConsumers`<a href="#sthref54"><sup>Footref 2</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Average number of associated backup message consumers since broker
started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current number of messages stored in memory and persistent store</p>
</div>
<div class="paragraph">
<p>Does not include messages held in transactions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsRemote</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of messages stored in
memory and persistent store that were produced to a remote broker in a
cluster. This number does not include messages included in transactions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsPendingAcks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of messages being held
in memory and persistent store pending acknowledgment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsHeldInTransaction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of messages
being held in memory and persistent store in uncommitted transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NextMessageID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JMS Message ID of the next message to be
delivered to any consumer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PeakNumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Peak number of messages stored in memory and
persistent store since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AvgNumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Average number of messages stored in memory
and persistent store since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of messages received since
broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of messages sent since
broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MsgBytesIn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative size in bytes of messages received
since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MsgBytesOut</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative size in bytes of messages sent
since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PeakMsgBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size in bytes of largest single message
received since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TotalMsgBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current total size in bytes of messages stored in memory and persistent
store</p>
</div>
<div class="paragraph">
<p>Does not include messages held in transactions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TotalMsgBytesRemote</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total size in bytes of
messages stored in memory and persistent store that were produced to a
remote broker in a cluster. This value does not include messages
included in transactions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TotalMsgBytesHeldInTransaction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total size in
bytes of messages being held in memory and persistent store in
uncommitted transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PeakTotalMsgBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Peak total size in bytes of messages
stored in memory and persistent store since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AvgTotalMsgBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Average total size in bytes of messages
stored in memory and persistent store since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`DiskReserved`<a href="#foot-filebasedonly2"><sup>Foot 3 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount
of disk space, in bytes, reserved for destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`DiskUsed`<a href="#sthref55"><sup>Footref 3</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of disk
space, in bytes, currently in use by destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`DiskUtilizationRatio`<a href="#sthref56"><sup>Footref 3</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio
of disk space currently in use to disk space reserved for destination</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Temporary destinations only</p>
</div>
<div class="paragraph">
<p><sup>Footnote 2 </sup>Queue destinations only</p>
</div>
<div class="paragraph">
<p><sup>Footnote 3 </sup>File-based persistence only</p>
</div>
<div class="paragraph">
<p><a href="#gcipv">Table 3-39</a> shows the possible values for the <code>Type</code>
attribute. These values are defined as static constants in the utility
class <code>DestinationType</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG247"></a><a id="sthref57"></a><a id="gcipv"></a></p>
</div>
<div class="paragraph">
<p>Table 3-39 Destination Monitor Type Values</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``QUEUE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queue (point-to-point) destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``TOPIC`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Topic (publish/subscribe) destination</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcitj">Table 3-40</a> shows the possible values for the <code>State</code> and
<code>StateLabel</code> attributes. These values are defined as static constants in
the utility class <code>DestinationState</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG248"></a><a id="sthref58"></a><a id="gcitj"></a></p>
</div>
<div class="paragraph">
<p>Table 3-40 Destination State Values</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 20%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">String Representation</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationState`</code>.``RUNNING`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination running</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationState`</code>.``CONSUMERS_PAUSED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONSUMERS_PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message consumers paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationState`</code>.``PRODUCERS_PAUSED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PRODUCERS_PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message producers paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationState`</code>.``PAUSED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationState`</code>.``UNKNOWN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNKNOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination state
unknown</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcinv"></a><a id="GMJMG00113"></a><a id="operations-7"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_8">Operations</h5>
<div class="paragraph">
<p>The destination monitor MBean supports the operations shown in
<a href="#gbacx">Table 3-41</a>. The names of these operations are defined as
static constants in the utility class <code>DestinationOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG249"></a><a id="sthref59"></a><a id="gbacx"></a></p>
</div>
<div class="paragraph">
<p>Table 3-41 Destination Monitor Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`getConnection`<a href="#foot-temponly2"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object name of connection monitor MBean for connection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Producer identifiers of all
current associated message producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Consumer identifiers of all current associated message consumers</p>
</div>
<div class="paragraph">
<p>For queue destinations, this operation returns both active and backup
consumers. For topic destinations, it returns both nondurable and
(active and inactive) durable subscribers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getActiveConsumerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Consumer identifiers of all current associated active message consumers</p>
</div>
<div class="paragraph">
<p>For topic destinations, this operation returns both nondurable and
(active and inactive) durable subscribers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`getBackupConsumerIDs`<a href="#foot-queueonly3"><sup>Foot 2 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consumer identifiers of all current associated backup
message consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerWildcards</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Wildcard strings used by current consumers associated with the
destination</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerWildcards</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Wildcard strings used by current producers associated with the
destination</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getWildcards</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Wildcard strings used by current consumers and producers associated with
the destination</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getNumWildcardConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wildcard-String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Number of current consumers associated with the destination that are
using the specified wildcard string</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getNumWildcardProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wildcard-String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Number of current producers associated with the destination that are
using the specified wildcard string</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Temporary destinations only</p>
</div>
<div class="paragraph">
<p><sup>Footnote 2 </sup>Queue destinations only</p>
</div>
<div class="paragraph">
<p><a id="gcins"></a><a id="GMJMG00114"></a><a id="notifications-4"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_5">Notifications</h5>
<div class="paragraph">
<p>The destination monitor MBean supports the notifications shown in
<a href="#gbacy">Table 3-42</a>. These notifications are instances of the
Message Queue JMX class <code>DestinationNotification</code>, and their names are
defined as static constants in that class.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG250"></a><a id="sthref60"></a><a id="gbacy"></a></p>
</div>
<div class="paragraph">
<p>Table 3-42 Destination Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 49%;">
<col style="width: 24%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_PAUSE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_RESUME`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination resumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.compact</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_COMPACT`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination
compacted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.purge</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_PURGE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination purged</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcmyz">Table 3-43</a> shows the methods defined in class
<code>DestinationNotification</code> for obtaining details about a destination
monitor notification.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG251"></a><a id="sthref61"></a><a id="gcmyz"></a></p>
</div>
<div class="paragraph">
<p>Table 3-43 Data Retrieval Methods for Destination Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getDestinationName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getDestinationType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destination type</p>
</div>
<div class="paragraph">
<p>See <a href="#gcipv">Table 3-39</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getCreatedByAdmin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator-created destination?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getPauseType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pause type</p>
</div>
<div class="paragraph">
<p>See <a href="#gcitd">Table 3-36</a> for possible values.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcaln"></a><a id="GMJMG00186"></a><a id="destination-manager-configuration"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_destination_manager_configuration">Destination Manager Configuration</h4>
<div class="paragraph">
<p>Each broker has a single destination manager configuration MBean, used
for managing all of the broker&#8217;s destination configuration MBeans.</p>
</div>
<div class="paragraph">
<p><a id="gcirz"></a><a id="GMJMG00115"></a><a id="object-name-12"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_13">Object Name</h5>
<div class="paragraph">
<p>The destination manager configuration MBean has the following object
name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=DestinationManager,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>DESTINATION_MANAGER_CONFIG_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcinb"></a><a id="GMJMG00116"></a><a id="attributes-10"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_11">Attributes</h5>
<div class="paragraph">
<p>The destination manager configuration MBean has the attributes shown in
<a href="#gbaaj">Table 3-44</a>. The names of these attributes are defined as
static constants in the utility class <code>DestinationAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG252"></a><a id="sthref62"></a><a id="gbaaj"></a></p>
</div>
<div class="paragraph">
<p>Table 3-44 Destination Manager Configuration Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 49%;">
<col style="width: 5%;">
<col style="width: 19%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AutoCreateQueues</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow auto-creation of queue
destinations?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AutoCreateTopics</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow auto-creation of topic
destinations?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumDestinations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total number of destinations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxNumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum total number of unconsumed messages</p>
</div>
<div class="paragraph">
<p>A value of -1 denotes an unlimited number of messages.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxBytesPerMsg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum size, in bytes, of any single message</p>
</div>
<div class="paragraph">
<p>A value of -1 denotes an unlimited message size.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxTotalMsgBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum total memory, in bytes, for unconsumed messages</p>
</div>
<div class="paragraph">
<p>A value of -1 denotes an unlimited number of bytes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`AutoCreateQueueMaxNumActiveConsumers`<a href="#foot-autocreateonly"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum total number of active message consumers in load-balanced
delivery</p>
</div>
<div class="paragraph">
<p>A value of -1 denotes an unlimited number of consumers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`AutoCreateQueueMaxNumBackupConsumers`<a href="#sthref63"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum total number of backup message consumers in load-balanced
delivery</p>
</div>
<div class="paragraph">
<p>A value of -1 denotes an unlimited number of consumers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DMQTruncateBody</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove message body before storing in dead message queue?</p>
</div>
<div class="paragraph">
<p>If true, only the message header and property data will be saved.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogDeadMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Log information about dead messages?</p>
</div>
<div class="paragraph">
<p>If <code>true</code>, the following events will be logged:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A destination is full, having reached its maximum size or message
count.</p>
</li>
<li>
<p>The broker discards a message for a reason other than an
administrative command or delivery acknowledgment.</p>
</li>
<li>
<p>The broker moves a message to the dead message queue.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Auto-created queue destinations only</p>
</div>
<div class="paragraph">
<p><a id="gcimp"></a><a id="GMJMG00117"></a><a id="operations-8"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_9">Operations</h5>
<div class="paragraph">
<p>The destination manager configuration MBean supports the operations
shown in <a href="#gbaak">Table 3-45</a>. The names of these operations are
defined as static constants in the utility class
<code>DestinationOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG253"></a><a id="sthref64"></a><a id="gbaak"></a></p>
</div>
<div class="paragraph">
<p>Table 3-45 Destination Manager Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getDestinations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of destination
configuration MBeans for all current destinations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>destinationType (<code>String</code>)</p>
</div>
<div class="paragraph">
<p>destinationName (<code>String</code>)</p>
</div>
<div class="paragraph">
<p>destinationAttributes (<code>AttributeList</code>)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Create destination with specified type, name, and attributes</p>
</div>
<div class="paragraph">
<p>The destinationType and destinationName parameters are required, but
destinationAttributes may be null.</p>
</div>
<div class="paragraph">
<p>See <a href="#gciud">Table 3-46</a> for possible values of destinationType.</p>
</div>
<div class="paragraph">
<p>The destinationAttributes list may include any of the attributes listed
in <a href="#gbabb">Table 3-32</a> except <code>Name</code> and <code>Type</code>. The names of these
attributes are defined as static constants in the utility class
<code>DestinationAttributes</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>destinationType (<code>String</code>)</p>
</div>
<div class="paragraph">
<p>destinationName (<code>String</code>)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Create destination with specified type and name</p>
</div>
<div class="paragraph">
<p>Equivalent to <code>create<code>(`destinationType</code>,` destinationName`,`
<code>null</code>)</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#gciud">Table 3-46</a> for possible values of destinationType.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>destroy</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>destinationType (<code>String</code>)</p>
</div>
<div class="paragraph">
<p>destinationName (<code>String</code>)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destroy destination</p>
</div>
<div class="paragraph">
<p>See <a href="#gciud">Table 3-46</a> for possible values of destinationType.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pauseType (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pause message delivery for all destinations</p>
</div>
<div class="paragraph">
<p>See <a href="#gcivu">Table 3-47</a> for possible values of pauseType.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pause all message delivery for all destinations</p>
</div>
<div class="paragraph">
<p>Equivalent to <code>pause<code>(</code>DestinationPauseType<code>.</code>ALL`</code>)`.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resume message delivery for all destinations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`compact`<a href="#filebasedonly3"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Compact all destinations</p>
</div>
<div class="paragraph">
<p>Note: Only paused destinations can be compacted.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>File-based persistence only</p>
</div>
<div class="paragraph">
<p><a href="#gciud">Table 3-46</a> shows the possible values for the <code>create</code> and
<code>destroy</code> operations' destinationType parameters. These values are
defined as static constants in the utility class <code>DestinationType</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG254"></a><a id="sthref65"></a><a id="gciud"></a></p>
</div>
<div class="paragraph">
<p>Table 3-46 Destination Manager Configuration Type Values</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``QUEUE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queue (point-to-point) destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``TOPIC`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Topic (publish/subscribe) destination</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcivu">Table 3-47</a> shows the possible values for the <code>pause</code>
operation&#8217;s pauseType parameter. These values are defined as static
constants in the utility class <code>DestinationPauseType</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG255"></a><a id="sthref66"></a><a id="gcivu"></a></p>
</div>
<div class="paragraph">
<p>Table 3-47 Destination Manager Pause Types</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PRODUCERS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationPauseType`</code>.``PRODUCERS`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause delivery from
associated message producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONSUMERS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationPauseType`</code>.``CONSUMERS`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause delivery to
associated message consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationPauseType`</code>.``ALL`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause all delivery</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcioa"></a><a id="GMJMG00118"></a><a id="notification-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notification_4">Notification</h5>
<div class="paragraph">
<p>The destination manager configuration MBean supports the notification
shown in <a href="#gbaal">Table 3-48</a>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG256"></a><a id="sthref67"></a><a id="gbaal"></a></p>
</div>
<div class="paragraph">
<p>Table 3-48 Destination Manager Configuration Notification</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmx.attribute.change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute value changed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcalp"></a><a id="GMJMG00187"></a><a id="destination-manager-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_destination_manager_monitor">Destination Manager Monitor</h4>
<div class="paragraph">
<p>Each broker has a single destination manager monitor MBean, used for
managing all of the broker&#8217;s destination monitor MBeans.</p>
</div>
<div class="paragraph">
<p><a id="gciqy"></a><a id="GMJMG00119"></a><a id="object-name-13"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_14">Object Name</h5>
<div class="paragraph">
<p>The destination manager monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=DestinationManager,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>DESTINATION_MANAGER_MONITOR_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcioo"></a><a id="GMJMG00120"></a><a id="attributes-11"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_12">Attributes</h5>
<div class="paragraph">
<p>The destination manager monitor MBean has the attributes shown in
<a href="#gbace">Table 3-49</a>. The names of these attributes are defined as
static constants in the utility class <code>DestinationAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG257"></a><a id="sthref68"></a><a id="gbace"></a></p>
</div>
<div class="paragraph">
<p>Table 3-49 Destination Manager Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 57.0%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumDestinations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total number of destinations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current total number of messages stored in memory and persistent store
for all destinations</p>
</div>
<div class="paragraph">
<p>Does not include messages held in transactions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TotalMsgBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current total size in bytes of messages stored in memory and persistent
store for all destinations</p>
</div>
<div class="paragraph">
<p>Does not include messages held in transactions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsInDMQ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of messages stored in memory
and persistent store for dead message queue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TotalMsgBytesInDMQ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total size in bytes of
messages stored in memory and persistent store for dead message queue</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcini"></a><a id="GMJMG00121"></a><a id="operation-2"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operation_3">Operation</h5>
<div class="paragraph">
<p>The destination manager monitor MBean supports the operation shown in
<a href="#gbacf">Table 3-50</a>. The name of this operation is defined as a
static constant in the utility class <code>DestinationOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG258"></a><a id="sthref69"></a><a id="gbacf"></a></p>
</div>
<div class="paragraph">
<p>Table 3-50 Destination Manager Monitor Operation</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getDestinations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectName`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object names of destination
monitor MBeans for all current destinations</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcinl"></a><a id="GMJMG00122"></a><a id="notifications-5"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_6">Notifications</h5>
<div class="paragraph">
<p>The destination manager monitor MBean supports the notifications shown
in <a href="#gbacg">Table 3-51</a>. These notifications are instances of the
Message Queue JMX class <code>DestinationNotification</code>, and their names are
defined as static constants in that class.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG259"></a><a id="sthref70"></a><a id="gbacg"></a></p>
</div>
<div class="paragraph">
<p>Table 3-51 Destination Manager Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 50%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.create</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_CREATE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.destroy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_DESTROY`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination
destroyed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.pause</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_PAUSE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.resume</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_RESUME`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination resumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.compact</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_COMPACT`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination
compacted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.destination.purge</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNotification`</code>.``DESTINATION_PURGE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination purged</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcmzr">Table 3-52</a> shows the methods defined in class
<code>DestinationNotification</code> for obtaining details about a destination
manager monitor notification.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG260"></a><a id="sthref71"></a><a id="gcmzr"></a></p>
</div>
<div class="paragraph">
<p>Table 3-52 Data Retrieval Methods for Destination Manager Monitor
Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getDestinationName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Destination name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getDestinationType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destination type</p>
</div>
<div class="paragraph">
<p>See <a href="#gciud">Table 3-46</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getCreatedByAdmin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator-created destination?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getPauseType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pause type</p>
</div>
<div class="paragraph">
<p>See <a href="#gcivu">Table 3-47</a> for possible values.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gbxrt"></a><a id="GMJMG00036"></a><a id="message-producers"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_message_producers">Message Producers</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing message producers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The producer manager configuration MBean configures message producers.</p>
</li>
<li>
<p>The producer manager monitor MBean monitors message producers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Notice that there are no resource MBeans associated with individual
message producers; rather, all producers are managed through the
broker&#8217;s global producer manager configuration and producer manager
monitor MBeans.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="gcamr"></a><a id="GMJMG00188"></a><a id="producer-manager-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_producer_manager_configuration">Producer Manager Configuration</h4>
<div class="paragraph">
<p>Each broker has a single producer manager configuration MBean, used for
configuring all of the broker&#8217;s message producers.</p>
</div>
<div class="paragraph">
<p><a id="gciru"></a><a id="GMJMG00123"></a><a id="object-name-14"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_15">Object Name</h5>
<div class="paragraph">
<p>The producer manager configuration MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ProducerManager,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>PRODUCER_MANAGER_CONFIG_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcioq"></a><a id="GMJMG00124"></a><a id="attribute-2"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attribute_3">Attribute</h5>
<div class="paragraph">
<p>The producer manager configuration MBean has the attribute shown in
<a href="#gbaap">Table 3-53</a>. The name of this attribute is defined as a
static constant in the utility class <code>ProducerAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG261"></a><a id="sthref72"></a><a id="gbaap"></a></p>
</div>
<div class="paragraph">
<p>Table 3-53 Producer Manager Configuration Attribute</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total number of message
producers</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcisu"></a><a id="GMJMG00125"></a><a id="operation-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operation_4">Operation</h5>
<div class="paragraph">
<p>The producer manager configuration MBean supports the operation shown in
<a href="#gbaaq">Table 3-54</a>. The name of this operation is defined as a
static constant in the utility class <code>ProducerOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG262"></a><a id="sthref73"></a><a id="gbaaq"></a></p>
</div>
<div class="paragraph">
<p>Table 3-54 Producer Manager Configuration Operation</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 21%;">
<col style="width: 13%;">
<col style="width: 14%;">
<col style="width: 52%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Producer identifiers of all
current message producers</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcamd"></a><a id="GMJMG00189"></a><a id="producer-manager-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_producer_manager_monitor">Producer Manager Monitor</h4>
<div class="paragraph">
<p>Each broker has a single producer manager monitor MBean, used for
monitoring all of the broker&#8217;s message producers.</p>
</div>
<div class="paragraph">
<p><a id="gcirj"></a><a id="GMJMG00126"></a><a id="object-name-15"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_16">Object Name</h5>
<div class="paragraph">
<p>The producer manager monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ProducerManager,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>PRODUCER_MANAGER_MONITOR_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcite"></a><a id="GMJMG00127"></a><a id="attribute-3"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attribute_4">Attribute</h5>
<div class="paragraph">
<p>The producer manager monitor MBean has the attribute shown in
<a href="#gback">Table 3-55</a>. The name of this attribute is defined as a
static constant in the utility class <code>ProducerAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG263"></a><a id="sthref74"></a><a id="gback"></a></p>
</div>
<div class="paragraph">
<p>Table 3-55 Producer Manager Monitor Attribute</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total number of message
producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumWildcardProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of wildcard message
producers associated with the broker</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcipo"></a><a id="GMJMG00128"></a><a id="operations-9"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_10">Operations</h5>
<div class="paragraph">
<p>The producer manager monitor MBean supports the operations shown in
<a href="#gbacl">Table 3-56</a>. The names of these operations are defined as
static constants in the utility class <code>ProducerOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG264"></a><a id="sthref75"></a><a id="gbacl"></a></p>
</div>
<div class="paragraph">
<p>Table 3-56 Producer Manager Monitor Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28%;">
<col style="width: 15%;">
<col style="width: 19%;">
<col style="width: 38%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Producer identifiers of all
current message producers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerInfoByID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">producerID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about message producer</p>
</div>
<div class="paragraph">
<p>The desired producer is designated by its producer identifier
(producerID). The value returned is a JMX <code>CompositeData</code> object
describing the producer; see <a href="#gbadc">Table 3-57</a> for lookup keys
used with this object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about all current message producers</p>
</div>
<div class="paragraph">
<p>The value returned is an array of JMX <code>CompositeData</code> objects describing
the producers; see <a href="#gbadc">Table 3-57</a> for lookup keys used with
these objects.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getProducerWildcards</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wildcard strings used by
current producers associated with the broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getNumWildcardProducers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wildcard-String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of
current producers associated with the broker that are using the
specified wildcard string</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>getProducerInfoByID</code> and <code>getProducerInfo</code> operations return
objects implementing the JMX interface <code>CompositeData</code>, which maps
lookup keys to associated data values. The keys shown in
<a href="#gbadc">Table 3-57</a> are defined as static constants in the utility
class <code>ProducerInfo</code> for use with these objects.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG265"></a><a id="sthref76"></a><a id="gbadc"></a></p>
</div>
<div class="paragraph">
<p>Table 3-57 Lookup Keys for Message Producer Information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 12%;">
<col style="width: 68%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ProducerID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Producer identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of associated connection service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection identifier of associated
connection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Host</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection&#8217;s host name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>User</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection&#8217;s user name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of associated destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNames</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destination names that match wildcards used by wildcard producers</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Wildcard</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Wildcard producer?</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Type of associated destination</p>
</div>
<div class="paragraph">
<p>See <a href="#gciqc">Table 3-58</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FlowPaused</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message delivery paused?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of messages sent</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gciqc">Table 3-58</a> shows the possible values returned for the
lookup key <code>DestinationType</code>. These values are defined as static
constants in the utility class <code>DestinationType</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG266"></a><a id="sthref77"></a><a id="gciqc"></a></p>
</div>
<div class="paragraph">
<p>Table 3-58 Message Producer Destination Types</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``QUEUE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queue (point-to-point) destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``TOPIC`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Topic (publish/subscribe) destination</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gbxrw"></a><a id="GMJMG00037"></a><a id="message-consumers"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_message_consumers">Message Consumers</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing message consumers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The consumer manager configuration MBean configures message consumers.</p>
</li>
<li>
<p>The consumer manager monitor MBean monitors message consumers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Notice that there are no resource MBeans associated with individual
message consumers; rather, all consumers are managed through the
broker&#8217;s global consumer manager configuration and consumer manager
monitor MBeans.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="gcamy"></a><a id="GMJMG00190"></a><a id="consumer-manager-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_consumer_manager_configuration">Consumer Manager Configuration</h4>
<div class="paragraph">
<p>Each broker has a single consumer manager configuration MBean, used for
configuring all of the broker&#8217;s message consumers.</p>
</div>
<div class="paragraph">
<p><a id="gciss"></a><a id="GMJMG00129"></a><a id="object-name-16"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_17">Object Name</h5>
<div class="paragraph">
<p>The consumer manager configuration MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ConsumerManager,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>CONSUMER_MANAGER_CONFIG_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcipj"></a><a id="GMJMG00130"></a><a id="attribute-4"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attribute_5">Attribute</h5>
<div class="paragraph">
<p>The consumer manager configuration MBean has the attribute shown in
<a href="#gbaam">Table 3-59</a>. The name of this attribute is defined as a
static constant in the utility class <code>ConsumerAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG267"></a><a id="sthref78"></a><a id="gbaam"></a></p>
</div>
<div class="paragraph">
<p>Table 3-59 Consumer Manager Configuration Attribute</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total number of message
consumers</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcipd"></a><a id="GMJMG00131"></a><a id="operations-10"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_11">Operations</h5>
<div class="paragraph">
<p>The consumer manager configuration MBean supports the operations shown
in <a href="#gbaan">Table 3-60</a>. The names of these operations are defined as
static constants in the utility class <code>ConsumerOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG268"></a><a id="sthref79"></a><a id="gbaan"></a></p>
</div>
<div class="paragraph">
<p>Table 3-60 Consumer Manager Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 56%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consumer identifiers of all
current message consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`purge`<a href="#foot-durableonly1"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumerID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Purge all messages</p>
</div>
<div class="paragraph">
<p>The desired subscriber is designated by its consumer identifier
(consumerID).</p>
</div>
<div class="paragraph">
<p>The subscriber itself is not destroyed.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Durable topic subscribers only</p>
</div>
<div class="paragraph">
<p><a id="gcand"></a><a id="GMJMG00191"></a><a id="consumer-manager-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_consumer_manager_monitor">Consumer Manager Monitor</h4>
<div class="paragraph">
<p>Each broker has a single consumer manager monitor MBean, used for
monitoring all of the broker&#8217;s message consumers.</p>
</div>
<div class="paragraph">
<p><a id="gcisj"></a><a id="GMJMG00132"></a><a id="object-name-17"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_18">Object Name</h5>
<div class="paragraph">
<p>The consumer manager monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=ConsumerManager,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>CONSUMER_MANAGER_MONITOR_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gciqg"></a><a id="GMJMG00133"></a><a id="attribute-5"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attribute_6">Attribute</h5>
<div class="paragraph">
<p>The consumer manager monitor MBean has the attribute shown in
<a href="#gbach">Table 3-61</a>. The name of this attribute is defined as a
static constant in the utility class <code>ConsumerAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG269"></a><a id="sthref80"></a><a id="gbach"></a></p>
</div>
<div class="paragraph">
<p>Table 3-61 Consumer Manager Monitor Attribute</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total number of message
consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumWildcardConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of wildcard message
consumers associated with the broker</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcios"></a><a id="GMJMG00134"></a><a id="operations-11"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_12">Operations</h5>
<div class="paragraph">
<p>The consumer manager monitor MBean supports the operations shown in
<a href="#gbaci">Table 3-62</a>. The names of these operations are defined as
static constants in the utility class <code>ConsumerOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG270"></a><a id="sthref81"></a><a id="gbaci"></a></p>
</div>
<div class="paragraph">
<p>Table 3-62 Consumer Manager Monitor Operations</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 28.9999%;">
<col style="width: 15%;">
<col style="width: 19%;">
<col style="width: 37.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consumer identifiers of all
current message consumers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerInfoByID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">consumerID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about message consumer</p>
</div>
<div class="paragraph">
<p>The desired consumer is designated by its consumer identifier
(consumerID). The value returned is a JMX <code>CompositeData</code> object
describing the consumer; see <a href="#gbacz">Table 3-63</a> for lookup keys
used with this object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about all current message consumers</p>
</div>
<div class="paragraph">
<p>The value returned is an array of JMX <code>CompositeData</code> objects describing
the consumers; see <a href="#gbacz">Table 3-63</a> for lookup keys used with
these objects.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getConsumerWildcards</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wildcard strings used by
current consumers associated with the broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getNumWildcardConsumers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wildcard-String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of
current consumers associated with the broker that are using the
specified wildcard string</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>getConsumerInfoByID</code> and <code>getConsumerInfo</code> operations return
objects implementing the JMX interface <code>CompositeData</code>, which maps
lookup keys to associated data values. The keys shown in
<a href="#gbacz">Table 3-63</a> are defined as static constants in the utility
class <code>ConsumerInfo</code> for use with these objects.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG271"></a><a id="sthref82"></a><a id="gbacz"></a></p>
</div>
<div class="paragraph">
<p>Table 3-63 Lookup Keys for Message Consumer Information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 12%;">
<col style="width: 63%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConsumerID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consumer identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Selector</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message selector</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServiceName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of associated connection service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection identifier of associated
connection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Host</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection&#8217;s host name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>User</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection&#8217;s user name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of associated destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationNames</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Destination names that match wildcards used by wildcard consumers</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Wildcard</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Wildcard consumer?</p>
</div>
<div class="paragraph">
<p>For topic destinations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Type of associated destination</p>
</div>
<div class="paragraph">
<p>See <a href="#gcipr">Table 3-64</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AcknowledgeMode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Acknowledgment mode of associated session</p>
</div>
<div class="paragraph">
<p>See <a href="#gcivw">Table 3-65</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AcknowledgeModeLabel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>String representation of acknowledgment mode</p>
</div>
<div class="paragraph">
<p>Useful for displaying the acknowledgment mode in human-readable form,
such as in the Java Monitoring and Management Console (<code>jconsole</code>).</p>
</div>
<div class="paragraph">
<p>See <a href="#gcivw">Table 3-65</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Durable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Durable topic subscriber?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`DurableName`<a href="#foot-durableonly2"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscription
name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ClientID`<a href="#sthref83"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`DurableActive`<a href="#sthref84"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscriber
active?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FlowPaused</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message delivery paused?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of messages that have been
dispatched to consumer (includes messages that have been delivered and
those waiting to be delivered)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsPending</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of messages that have been
dispatched to consumer and are being held in broker memory and
persistent store (includes messages that have been delivered and those
waiting to be delivered)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgsPendingAcks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of messages that have been
delivered to consumer and are being held in broker memory and persistent
store pending acknowledgment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NextMessageID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JMS Message ID of the next message to be
delivered to consumer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LastAckTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of last acknowledgment, in standard Java
format (milliseconds since January 1, 1970, 00:00:00 UTC)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Durable topic subscribers only</p>
</div>
<div class="paragraph">
<p><a href="#gcipr">Table 3-64</a> shows the possible values returned for the
lookup key <code>DestinationType</code>. These values are defined as static
constants in the utility class <code>DestinationType</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG272"></a><a id="sthref85"></a><a id="gcipr"></a></p>
</div>
<div class="paragraph">
<p>Table 3-64 Message Consumer Destination Types</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``QUEUE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queue (point-to-point) destination</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DestinationType`</code>.``TOPIC`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Topic (publish/subscribe) destination</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcivw">Table 3-65</a> shows the possible values returned for the
lookup keys <code>AcknowledgeMode</code> and <code>AcknowledgeModeLabel</code>. Four of these
values are defined as static constants in the standard JMS interface
<code>javax.jms.Session</code>; the fifth (<code>NO_ACKNOWLEDGE</code>) is defined in the
extended Message Queue version of the interface,
<code>com.sun.messaging.jms.Session</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG273"></a><a id="sthref86"></a><a id="gcivw"></a></p>
</div>
<div class="paragraph">
<p>Table 3-65 Acknowledgment Modes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 45%;">
<col style="width: 26%;">
<col style="width: 14%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">String Representation</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.jms.Session`</code>.``AUTO_ACKNOWLEDGE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AUTO_ACKNOWLEDGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Auto-acknowledge mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.jms.Session`</code>.``CLIENT_ACKNOWLEDGE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CLIENT_ACKNOWLEDGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client-acknowledge mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.jms.Session`</code>.``DUPS_OK_ACKNOWLEDGE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DUPS_OK_ACKNOWLEDGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dups-OK-acknowledge mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>32768</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.sun.messaging.jms.Session`</code>.``NO_ACKNOWLEDGE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NO_ACKNOWLEDGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No-acknowledge mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.jms.Session`</code>.``SESSION_TRANSACTED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SESSION_TRANSACTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Session is transacted (acknowledgment mode ignored)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gbxro"></a><a id="GMJMG00038"></a><a id="transactions"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_transactions">Transactions</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing transactions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The transaction manager configuration MBean configures transactions.</p>
</li>
<li>
<p>The transaction manager monitor MBean monitors transactions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Notice that there are no resource MBeans associated with individual
transactions; rather, all transactions are managed through the broker&#8217;s
global transaction manager configuration and transaction manager monitor
MBeans.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="gcamg"></a><a id="GMJMG00192"></a><a id="transaction-manager-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_transaction_manager_configuration">Transaction Manager Configuration</h4>
<div class="paragraph">
<p>Each broker has a single transaction manager configuration MBean, used
for configuring all of the broker&#8217;s transactions.</p>
</div>
<div class="paragraph">
<p><a id="gciry"></a><a id="GMJMG00135"></a><a id="object-name-18"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_19">Object Name</h5>
<div class="paragraph">
<p>The transaction manager configuration MBean has the following object
name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=TransactionManager,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>TRANSACTION_MANAGER_CONFIG_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcior"></a><a id="GMJMG00136"></a><a id="attribute-6"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attribute_7">Attribute</h5>
<div class="paragraph">
<p>The transaction manager configuration MBean has the attribute shown in
<a href="#gbaas">Table 3-66</a>. The name of this attribute is defined as a
static constant in the utility class <code>TransactionAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG274"></a><a id="sthref87"></a><a id="gbaas"></a></p>
</div>
<div class="paragraph">
<p>Table 3-66 Transaction Manager Configuration Attribute</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 26%;">
<col style="width: 13%;">
<col style="width: 14%;">
<col style="width: 47%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumTransactions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of open transactions</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gciox"></a><a id="GMJMG00137"></a><a id="operations-12"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_13">Operations</h5>
<div class="paragraph">
<p>The transaction manager configuration MBean supports the operations
shown in <a href="#gbaat">Table 3-67</a>. The names of these operations are
defined as static constants in the utility class
<code>TransactionOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG275"></a><a id="sthref88"></a><a id="gbaat"></a></p>
</div>
<div class="paragraph">
<p>Table 3-67 Transaction Manager Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 22%;">
<col style="width: 13%;">
<col style="width: 12%;">
<col style="width: 53%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getTransactionIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction identifiers of all
current open transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactionID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Commit transaction</p>
</div>
<div class="paragraph">
<p>The desired transaction is designated by its transaction identifier
(transactionID).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rollback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactionID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Roll back transaction</p>
</div>
<div class="paragraph">
<p>The desired transaction is designated by its transaction identifier
(transactionID).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcanc"></a><a id="GMJMG00193"></a><a id="transaction-manager-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_transaction_manager_monitor">Transaction Manager Monitor</h4>
<div class="paragraph">
<p>Each broker has a single transaction manager monitor MBean, used for
monitoring all of the broker&#8217;s transactions.</p>
</div>
<div class="paragraph">
<p><a id="gciqs"></a><a id="GMJMG00138"></a><a id="object-name-19"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_20">Object Name</h5>
<div class="paragraph">
<p>The transaction manager monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=TransactionManager,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>TRANSACTION_MANAGER_MONITOR_MBEAN_NAME</code> in the utility class
<code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcipz"></a><a id="GMJMG00139"></a><a id="attributes-12"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_13">Attributes</h5>
<div class="paragraph">
<p>The transaction manager monitor MBean has the attributes shown in
<a href="#gbacn">Table 3-68</a>. The names of these attributes are defined as
static constants in the utility class <code>TransactionAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG276"></a><a id="sthref89"></a><a id="gbacn"></a></p>
</div>
<div class="paragraph">
<p>Table 3-68 Transaction Manager Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.9999%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 51.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumTransactions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of open transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumTransactionsCommitted</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of
transactions committed since broker started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumTransactionsRollback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cumulative number of
transactions rolled back since broker started</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gciqb"></a><a id="GMJMG00140"></a><a id="operations-13"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_14">Operations</h5>
<div class="paragraph">
<p>The transaction manager monitor MBean supports the operations shown in
<a href="#gbaco">Table 3-69</a>. The names of these operations are defined as
static constants in the utility class <code>TransactionOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG277"></a><a id="sthref90"></a><a id="gbaco"></a></p>
</div>
<div class="paragraph">
<p>Table 3-69 Transaction Manager Monitor Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28%;">
<col style="width: 13%;">
<col style="width: 19%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getTransactionIDs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction identifiers of all
current open transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getTransactionInfoByID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactionID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about transaction</p>
</div>
<div class="paragraph">
<p>The desired transaction is designated by its transaction identifier
(transactionID). The value returned is a JMX <code>CompositeData</code> object
describing the transaction; see <a href="#gbadg">Table 3-70</a> for lookup keys
used with this object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getTransactionInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about all current open transactions</p>
</div>
<div class="paragraph">
<p>The value returned is an array of JMX <code>CompositeData</code> objects describing
the transactions; see <a href="#gbadg">Table 3-70</a> for lookup keys used with
these objects.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>getTransactionInfoByID</code> and <code>getTransactionInfo</code> operations return
objects implementing the JMX interface <code>CompositeData</code>, which maps
lookup keys to associated data values. The keys shown in
<a href="#gbadg">Table 3-70</a> are defined as static constants in the utility
class <code>TransactionInfo</code> for use with these objects.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG278"></a><a id="sthref91"></a><a id="gbadg"></a></p>
</div>
<div class="paragraph">
<p>Table 3-70 Lookup Keys for Transaction Information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 12%;">
<col style="width: 68%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`XID`<a href="#foot-distribonly1"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distributed
transaction identifier (XID)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>User</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClientID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionString</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CreationTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time created, in standard Java format
(milliseconds since January 1, 1970, 00:00:00 UTC)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>State</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current state</p>
</div>
<div class="paragraph">
<p>See <a href="#gciwd">Table 3-71</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StateLabel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>String representation of current state</p>
</div>
<div class="paragraph">
<p>Useful for displaying the state in human-readable form, such as in the
Java Monitoring and Management Console (<code>jconsole</code>).</p>
</div>
<div class="paragraph">
<p>See <a href="#gciwd">Table 3-71</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumMsgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NumAcks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of acknowledgments</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Distributed transactions only</p>
</div>
<div class="paragraph">
<p><a href="#gciwd">Table 3-71</a> shows the possible values returned for the
lookup keys <code>State</code> and <code>StateLabel</code>. These values are defined as static
constants in the utility class <code>TransactionState</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG279"></a><a id="sthref92"></a><a id="gciwd"></a></p>
</div>
<div class="paragraph">
<p>Table 3-71 Transaction State Values</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 44%;">
<col style="width: 22%;">
<col style="width: 15%;">
<col style="width: 19%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">String Representation</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``CREATED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CREATED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``STARTED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``FAILED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FAILED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction has failed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``INCOMPLETE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INCOMPLETE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction
incomplete</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``COMPLETE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>COMPLETE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction complete</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``PREPARED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PREPARED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction in
prepared state<a href="#foot-distribonly2"><sup>Foot 1 </sup></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``COMMITTED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>COMMITTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction
committed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``ROLLEDBACK`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ROLLEDBACK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction
rolled back</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``TIMED_OUT`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TIMED_OUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction has
timed out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionState`</code>.``UNKNOWN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNKNOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction state
unknown</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Distributed transactions only</p>
</div>
<div class="paragraph">
<p><a id="gciqf"></a><a id="GMJMG00141"></a><a id="notifications-6"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_7">Notifications</h5>
<div class="paragraph">
<p>The transaction manager monitor MBean supports the notifications shown
in <a href="#gbacp">Table 3-72</a>. These notifications are instances of the
Message Queue JMX class <code>TransactionNotification</code>, and their names are
defined as static constants in that class.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG280"></a><a id="sthref93"></a><a id="gbacp"></a></p>
</div>
<div class="paragraph">
<p>Table 3-72 Transaction Manager Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28%;">
<col style="width: 53%;">
<col style="width: 19%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`mq.transaction.prepare`<a href="#foot-distribonly3"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionNotification`</code>.``TRANSACTION_PREPARE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction has
entered prepared state</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.transaction.commit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionNotification`</code>.``TRANSACTION_COMMIT`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction committed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.transaction.rollback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionNotification`</code>.``TRANSACTION_ROLLBACK`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction rolled
back</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Distributed transactions only</p>
</div>
<div class="paragraph">
<p><a href="#gcmzn">Table 3-73</a> shows the method defined in class
<code>TransactionNotification</code> for obtaining details about a transaction
manager monitor notification.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG281"></a><a id="sthref94"></a><a id="gcmzn"></a></p>
</div>
<div class="paragraph">
<p>Table 3-73 Data Retrieval Method for Transaction Manager Monitor
Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23%;">
<col style="width: 18%;">
<col style="width: 59%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getTransactionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction identifier</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gbxsf"></a><a id="GMJMG00039"></a><a id="broker-clusters"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_broker_clusters">Broker Clusters</h3>
<div class="paragraph">
<p>This section describes the MBeans used for managing broker clusters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The cluster configuration MBean configures a broker&#8217;s cluster-related
properties.</p>
</li>
<li>
<p>The cluster monitor MBean monitors the brokers in a cluster.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="paragraph">
<p><a id="gcamw"></a><a id="GMJMG00194"></a><a id="cluster-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_cluster_configuration">Cluster Configuration</h4>
<div class="paragraph">
<p>The cluster configuration MBean is used for configuring a broker&#8217;s
cluster-related properties. There is one such MBean for each broker.</p>
</div>
<div class="paragraph">
<p><a id="gcirs"></a><a id="GMJMG00142"></a><a id="object-name-20"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_21">Object Name</h5>
<div class="paragraph">
<p>The cluster configuration MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=Cluster,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>CLUSTER_CONFIG_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gciqq"></a><a id="GMJMG00143"></a><a id="attributes-13"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_14">Attributes</h5>
<div class="paragraph">
<p>The cluster configuration MBean has the attributes shown in
<a href="#gbabo">Table 3-74</a>. The names of these attributes are defined as
static constants in the utility class <code>ClusterAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG282"></a><a id="sthref95"></a><a id="gbabo"></a></p>
</div>
<div class="paragraph">
<p>Table 3-74 Cluster Configuration Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 39%;">
<col style="width: 17%;">
<col style="width: 10%;">
<col style="width: 34%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HighlyAvailable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High-availability (HA) cluster?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ClusterID`<a href="#foot-haonly4"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Cluster identifier</p>
</div>
<div class="paragraph">
<p>Must be a unique alphanumeric string of no more than n - 13 characters,
where n is the maximum table name length allowed by the database. No two
running clusters may have the same cluster identifier.</p>
</div>
<div class="paragraph">
<p>This string is appended to the names of all database tables in the
cluster&#8217;s shared persistent store.</p>
</div>
<div class="paragraph">
<p>Note: For brokers belonging to an HA cluster, this attribute is used in
database table names in place of <code>BrokerID</code> (see <a href="#gbaaa">Table
3-1</a>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ConfigFileURL`<a href="#foot-convonly1"><sup>Foot 2 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of
cluster configuration file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LocalBrokerInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about local broker</p>
</div>
<div class="paragraph">
<p>The value returned is a JMX <code>CompositeData</code> object describing the
broker; see <a href="#gbabn">Table 3-76</a> for lookup keys used with this
object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`MasterBrokerInfo`<a href="#sthref96"><sup>Footref 2</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about master broker</p>
</div>
<div class="paragraph">
<p>The value returned is a JMX <code>CompositeData</code> object describing the master
broker; see <a href="#gbabn">Table 3-76</a> for lookup keys used with this
object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`UseSharedDatabaseForConfigRecord`<a href="#sthref97"><sup>Footref 2</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does conventional cluster use a shared JDBC data store
instead of a master broker for the cluster configuration change record?</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><sup>Footnote 2 </sup>Conventional clusters only</p>
</div>
<div class="paragraph">
<p><a id="gciqj"></a><a id="GMJMG00144"></a><a id="operations-14"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_15">Operations</h5>
<div class="paragraph">
<p>The cluster configuration MBean supports the operations shown in
<a href="#gbabp">Table 3-75</a>. The names of these operations are defined as
static constants in the utility class <code>ClusterOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG283"></a><a id="sthref98"></a><a id="gbabp"></a></p>
</div>
<div class="paragraph">
<p>Table 3-75 Cluster Configuration Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28%;">
<col style="width: 17%;">
<col style="width: 19%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerAddresses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Addresses of brokers in cluster</p>
</div>
<div class="paragraph">
<p>Each address specifies the host name and Port Mapper port number of a
broker in the cluster, in the form hostName`:`portNumber.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>host1:3000</code></p>
</div>
<div class="paragraph">
<p>For conventional clusters, the list includes all brokers specified by
the broker property <code>imq.cluster.brokerlist</code>. For HA clusters, it
includes all active and inactive brokers in the cluster table stored in
the HA database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`getBrokerIDs`<a href="#foot-haonly5"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker identifiers of brokers in cluster</p>
</div>
<div class="paragraph">
<p>The list includes all active and inactive brokers in the cluster table
stored in the HA database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerInfoByAddress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">brokerAddress (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about broker</p>
</div>
<div class="paragraph">
<p>The desired broker is designated by its host name and Port Mapper port
number (brokerAddress), in the form hostName`:`portNumber. The value
returned is a JMX <code>CompositeData</code> object describing the broker; see
<a href="#gbabn">Table 3-76</a> for lookup keys used with this object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`getBrokerInfoByID`<a href="#sthref99"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">brokerID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about broker</p>
</div>
<div class="paragraph">
<p>The desired broker is designated by its broker identifier (brokerID).
The value returned is a JMX <code>CompositeData</code> object describing the
broker; see <a href="#gbabn">Table 3-76</a> for lookup keys used with this
object. For conventional clusters, the operation returns <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about all brokers in cluster</p>
</div>
<div class="paragraph">
<p>The value returned is an array of JMX <code>CompositeData</code> objects describing
the brokers; see <a href="#gbabn">Table 3-76</a> for lookup keys used with these
objects.</p>
</div>
<div class="paragraph">
<p>For conventional clusters, the array includes all brokers specified by
the broker property <code>imq.cluster.brokerlist</code>. For HA clusters, it
includes all active and inactive brokers in the cluster table stored in
the HA database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`reload`<a href="#foot-convonly2"><sup>Foot 2 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reload cluster
configuration file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`changeMasterBroker`<a href="#sthref100"><sup>Footref 2</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oldMasterBroker
(<code>String</code>), newMasterBroker (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specify a change of master broker from oldMasterBroker to
newMasterBroker, where both arguments are in imq.cluster.masterbroker
format (host:port).</p>
</div>
<div class="paragraph">
<p>The value returned is a JMX <code>CompositeData</code> object containing
information about the success or failure of the operation; see
<a href="#gkvxv">Table 3-77</a> for lookup keys used with this object.</p>
</div>
<div class="paragraph">
<p>This operation can only be performed on the broker that is the current
master broker. If it is performed on any other broker it will have no
effect and the <code>CompositeData</code> object returned will contain details of
the error.</p>
</div>
<div class="paragraph">
<p>This operation must not be performed on a broker whose lifecycle is
being managed by GlassFish Server. In this case GlassFish Server tools
must be used instead.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><sup>Footnote 2 </sup>Conventional clusters only</p>
</div>
<div class="paragraph">
<p>The <code>LocalBrokerInfo</code> and <code>MasterBrokerInfo</code> attributes and the
<code>getBrokerInfoByAddress</code>, <code>getBrokerInfoByID</code>, and <code>getBrokerInfo</code>
operations return objects implementing the JMX interface
<code>CompositeData</code>, which maps lookup keys to associated data values. The
keys shown in <a href="#gbabn">Table 3-76</a> are defined as static constants in
the utility class <code>BrokerClusterInfo</code> for use with these objects.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG284"></a><a id="sthref101"></a><a id="gbabn"></a></p>
</div>
<div class="paragraph">
<p>Table 3-76 Lookup Keys for Cluster Configuration Information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 14%;">
<col style="width: 18%;">
<col style="width: 68%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Address</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker address, in the form hostName`:`portNumber</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>host1:3000</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ID`<a href="#foot-haonly6"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker identifier</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p>The <code>changeMasterBroker</code> operation returns an object implementing the
JMX interface <code>CompositeData</code>, which maps lookup keys to associated data
values. The keys shown in <a href="#gkvxv">Table 3-77</a> are defined as static
constants in the utility class <code>ChangeMasterBrokerResultInfo</code> for use
with this object.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG285"></a><a id="sthref102"></a><a id="gkvxv"></a></p>
</div>
<div class="paragraph">
<p>Table 3-77 Lookup Keys for <code>changeMasterBroker</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 17%;">
<col style="width: 12%;">
<col style="width: 71%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Success</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether an error occurred when performing the
<code>changeMasterBroker</code> operation. If an error occurred, the <code>StatusCode</code>
and <code>DetailMessage</code> keys contain more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StatusCode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A status code set when an error occurred. The
<code>DetailMessage</code> key contains more information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DetailMessage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error message set when an error occurs.
The possible errors, and the actions that should be taken to resolve
them, are the same as for the <code>imqcmd changemaster</code> command, as
described in "<a href="../mq-admin-guide/broker-clusters.html#GMADG00182">To Change the Master Broker Dynamically
While the Cluster Is Running</a>" in Open Message Queue Administration
Guide.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcipf"></a><a id="GMJMG00145"></a><a id="notification-4"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notification_5">Notification</h5>
<div class="paragraph">
<p>The cluster configuration MBean supports the notification shown in
<a href="#gbabq">Table 3-78</a>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG286"></a><a id="sthref103"></a><a id="gbabq"></a></p>
</div>
<div class="paragraph">
<p>Table 3-78 Cluster Configuration Notification</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmx.attribute.change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute value changed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcanl"></a><a id="GMJMG00195"></a><a id="cluster-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cluster_monitor">Cluster Monitor</h4>
<div class="paragraph">
<p>The cluster monitor MBean is used for monitoring the brokers in a
cluster. There is one such MBean for each broker.</p>
</div>
<div class="paragraph">
<p><a id="gcirv"></a><a id="GMJMG00146"></a><a id="object-name-21"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_22">Object Name</h5>
<div class="paragraph">
<p>The cluster monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=Cluster,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>CLUSTER_MONITOR_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcipu"></a><a id="GMJMG00147"></a><a id="attributes-14"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_15">Attributes</h5>
<div class="paragraph">
<p>The cluster monitor MBean has the attributes shown in <a href="#gbadk">Table
3-79</a>. The names of these attributes are defined as static constants in
the utility class <code>ClusterAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG287"></a><a id="sthref104"></a><a id="gbadk"></a></p>
</div>
<div class="paragraph">
<p>Table 3-79 Cluster Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 39%;">
<col style="width: 17%;">
<col style="width: 10%;">
<col style="width: 34%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HighlyAvailable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High-availability (HA) cluster?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ClusterID`<a href="#foot-haonly7"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Cluster identifier</p>
</div>
<div class="paragraph">
<p>Must be a unique alphanumeric string of no more than n - 13 characters,
where n is the maximum table name length allowed by the database. No two
running clusters may have the same cluster identifier.</p>
</div>
<div class="paragraph">
<p>This string is appended to the names of all database tables in the
cluster&#8217;s shared persistent store.</p>
</div>
<div class="paragraph">
<p>Note: For brokers belonging to an HA cluster, this attribute is used in
database table names in place of <code>BrokerID</code> (see <a href="#gbabu">Table
3-4</a>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ConfigFileURL`<a href="#foot-convonly3"><sup>Foot 2 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of
cluster configuration file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LocalBrokerInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about local broker</p>
</div>
<div class="paragraph">
<p>The value returned is a JMX <code>CompositeData</code> object describing the
broker; see <a href="#gbadj">Table 3-81</a> for lookup keys used with this
object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`MasterBrokerInfo`<a href="#sthref105"><sup>Footref 2</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about master broker</p>
</div>
<div class="paragraph">
<p>The value returned is a JMX <code>CompositeData</code> object describing the master
broker; see <a href="#gbadj">Table 3-81</a> for lookup keys used with this
object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`UseSharedDatabaseForConfigRecord`<a href="#sthref106"><sup>Footref 2</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does conventional cluster use a shared JDBC data store
instead of a master broker for the cluster configuration change record?</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><sup>Footnote 2 </sup>Conventional clusters only</p>
</div>
<div class="paragraph">
<p><a id="gciqk"></a><a id="GMJMG00148"></a><a id="operations-15"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_operations_16">Operations</h5>
<div class="paragraph">
<p>The cluster monitor MBean supports the operations shown in
<a href="#gbadl">Table 3-80</a>. The names of these operations are defined as
static constants in the utility class <code>ClusterOperations</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG288"></a><a id="sthref107"></a><a id="gbadl"></a></p>
</div>
<div class="paragraph">
<p>Table 3-80 Cluster Monitor Operations</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 14%;">
<col style="width: 19%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerAddresses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Addresses of brokers in cluster</p>
</div>
<div class="paragraph">
<p>Each address specifies the host name and Port Mapper port number of a
broker in the cluster, in the form hostName`:`portNumber.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>host1:3000</code></p>
</div>
<div class="paragraph">
<p>For conventional clusters, the list includes all brokers specified by
the broker property <code>imq.cluster.brokerlist</code>. For HA clusters, it
includes all active and inactive brokers in the cluster table stored in
the HA database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`getBrokerIDs`<a href="#foot-haonly8"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker identifiers of brokers in cluster</p>
</div>
<div class="paragraph">
<p>The list includes all active and inactive brokers in the cluster table
stored in the HA database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerInfoByAddress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">brokerAddress (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about broker</p>
</div>
<div class="paragraph">
<p>The desired broker is designated by its host name and Port Mapper port
number (brokerAddress), in the form hostName`:`portNumber. The value
returned is a JMX <code>CompositeData</code> object describing the broker;
see<a href="#gbadj">Table 3-81</a> for lookup keys used with this object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`getBrokerInfoByID`<a href="#sthref108"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">brokerID (<code>String</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about broker</p>
</div>
<div class="paragraph">
<p>The desired broker is designated by its broker identifier (brokerID).
The value returned is a JMX <code>CompositeData</code> object describing the
broker; see<a href="#gbadj">Table 3-81</a> for lookup keys used with this
object. For conventional clusters, the operation returns <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CompositeData`</code>[]`</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Descriptive information about all brokers in cluster</p>
</div>
<div class="paragraph">
<p>The value returned is an array of JMX <code>CompositeData</code> objects describing
the brokers; see <a href="#gbadj">Table 3-81</a> for lookup keys used with these
objects.</p>
</div>
<div class="paragraph">
<p>For conventional clusters, the array includes all brokers specified by
the broker property <code>imq.cluster.brokerlist</code>. For HA clusters, it
includes all active and inactive brokers in the cluster table stored in
the HA database.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p>The <code>LocalBrokerInfo</code> and <code>MasterBrokerInfo</code> attributes and the
<code>getBrokerInfoByAddress</code>, <code>getBrokerInfoByID</code>, and <code>getBrokerInfo</code>
operations return objects implementing the JMX interface
<code>CompositeData</code>, which maps lookup keys to associated data values. The
keys shown in <a href="#gbadj">Table 3-81</a> are defined as static constants in
the utility class <code>BrokerClusterInfo</code> for use with these objects.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG289"></a><a id="sthref109"></a><a id="gbadj"></a></p>
</div>
<div class="paragraph">
<p>Table 3-81 Lookup Keys for Cluster Monitor Information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 21%;">
<col style="width: 12%;">
<col style="width: 67%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Address</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Broker address, in the form hostName`:`portNumber</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>host1:3000</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ID`<a href="#foot-haonly9"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>State</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current state of broker</p>
</div>
<div class="paragraph">
<p>See <a href="#gcixh">Table 3-82</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StateLabel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>String representation of current broker state</p>
</div>
<div class="paragraph">
<p>Useful for displaying the state in human-readable form, such as in the
Java Monitoring and Management Console (<code>jconsole</code>).</p>
</div>
<div class="paragraph">
<p>See <a href="#gcixh">Table 3-82</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`TakeoverBrokerID`<a href="#sthref110"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker
identifier of broker that has taken over this broker&#8217;s persistent data
store</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`NumMsgs`<a href="#sthref111"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current number of
messages stored in memory and persistent store</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`StatusTimestamp`<a href="#sthref112"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Time of last status update, in standard Java format (milliseconds since
January 1, 1970, 00:00:00 UTC)</p>
</div>
<div class="paragraph">
<p>Used to determine whether a broker is running.</p>
</div>
<div class="paragraph">
<p>The interval at which a broker updates its status can be configured with
the broker property <code>imq.cluster.monitor.interval</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><a href="#gcixh">Table 3-82</a> shows the possible values returned for the
lookup keys <code>State</code> and <code>StateLabel</code>. These values are defined as static
constants in the utility class <code>BrokerState</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG290"></a><a id="sthref113"></a><a id="gcixh"></a></p>
</div>
<div class="paragraph">
<p>Table 3-82 Broker State Values</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 41%;">
<col style="width: 22%;">
<col style="width: 12%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">String Representation</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``OPERATING`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OPERATING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker is operating</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``TAKEOVER_STARTED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TAKEOVER_STARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has
begun taking over persistent data store from another broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``TAKEOVER_COMPLETE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TAKEOVER_COMPLETE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker
has finished taking over persistent data store from another broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``TAKEOVER_FAILED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TAKEOVER_FAILED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempted
takeover has failed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``QUIESCE_STARTED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QUIESCE_STARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has
begun quiescing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``QUIESCE_COMPLETE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QUIESCE_COMPLETE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has
finished quiescing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``SHUTDOWN_STARTED`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SHUTDOWN_STARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker has
begun shutting down</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``BROKER_DOWN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BROKER_DOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker is down</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerState`</code>.``UNKNOWN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNKNOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker state unknown</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcipe"></a><a id="GMJMG00149"></a><a id="notifications-7"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_8">Notifications</h5>
<div class="paragraph">
<p>The cluster monitor MBean supports the notifications shown in
<a href="#gbadm">Table 3-83</a>. These notifications are instances of the
Message Queue JMX classes <code>ClusterNotification</code> and
<code>BrokerNotification</code>, and their names are defined as static constants in
those classes.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG291"></a><a id="sthref114"></a><a id="gbadm"></a></p>
</div>
<div class="paragraph">
<p>Table 3-83 Cluster Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 35%;">
<col style="width: 32%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.cluster.broker.join</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClusterNotification`</code>.``CLUSTER_BROKER_JOIN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A broker has joined the cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.cluster.broker.down</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClusterNotification`</code>.``CLUSTER_BROKER_DOWN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A broker in the cluster has shut down or crashed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`mq.broker.takeover.start`<a href="#foot-haonly10"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_TAKEOVER_START`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A broker has begun
taking over persistent data store from another broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`mq.broker.takeover.complete`<a href="#sthref115"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_TAKEOVER_COMPLETE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A broker has
finished taking over persistent data store from another broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`mq.broker.takeover.fail`<a href="#sthref116"><sup>Footref 1</sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BrokerNotification`</code>.``BROKER_TAKEOVER_FAIL`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An attempted takeover
has failed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>HA clusters only</p>
</div>
<div class="paragraph">
<p><a href="#gcmzm">Table 3-84</a> shows the methods defined in class
<code>ClusterNotification</code> for obtaining details about a cluster monitor
notification. See <a href="#gcmzt">Table 3-6</a> for the corresponding methods
of class <code>BrokerNotification</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG292"></a><a id="sthref117"></a><a id="gcmzm"></a></p>
</div>
<div class="paragraph">
<p>Table 3-84 Data Retrieval Methods for Cluster Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isHighlyAvailable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High-availability (HA) cluster?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getClusterID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cluster identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Broker identifier of affected broker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBrokerAddress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Address of affected broker, in the form hostName`:`portNumber</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>host1:3000</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`isMasterBroker`<a href="#foot-convonly4"><sup>Foot 1 </sup></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Master
broker affected?</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>Footnote 1 </sup>Conventional clusters only</p>
</div>
<div class="paragraph">
<p><a id="gbxsb"></a><a id="GMJMG00040"></a><a id="logging"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_logging">Logging</h3>
<div class="paragraph">
<p>This section describes the MBeans used for logging Message Queue
operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The log configuration MBean configures Message Queue logging.</p>
</li>
<li>
<p>The log monitor MBean monitors Message Queue logging.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subsections describe each of these MBeans in detail.</p>
</div>
<div class="paragraph">
<p><a id="gcalw"></a><a id="GMJMG00196"></a><a id="log-configuration"></a></p>
</div>
<div class="sect3">
<h4 id="_log_configuration">Log Configuration</h4>
<div class="paragraph">
<p>Each broker has a single log configuration MBean, used for configuring
Message Queue logging.</p>
</div>
<div class="paragraph">
<p><a id="gciqz"></a><a id="GMJMG00150"></a><a id="object-name-22"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_23">Object Name</h5>
<div class="paragraph">
<p>The log configuration MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=Log,subtype=Config</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>LOG_CONFIG_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gciov"></a><a id="GMJMG00151"></a><a id="attributes-15"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_16">Attributes</h5>
<div class="paragraph">
<p>The log configuration MBean has the attributes shown in
<a href="#gbabr">Table 3-85</a>. The names of these attributes are defined as
static constants in the utility class <code>LogAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG293"></a><a id="sthref118"></a><a id="gbabr"></a></p>
</div>
<div class="paragraph">
<p>Table 3-85 Log Configuration Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12%;">
<col style="width: 46%;">
<col style="width: 5%;">
<col style="width: 37%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Logging level</p>
</div>
<div class="paragraph">
<p>Specifies the categories of logging information that can be written to
an output channel. See <a href="#gcixr">Table 3-86</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RolloverBytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>File length, in bytes, at which output rolls over to a new log file</p>
</div>
<div class="paragraph">
<p>A value of <code>-1</code> denotes an unlimited number of bytes (no rollover based
on file length).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RolloverSecs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Age of file, in seconds, at which output rolls over to a new log file</p>
</div>
<div class="paragraph">
<p>A value of <code>-1</code> denotes an unlimited number of seconds (no rollover
based on file age).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcixr">Table 3-86</a> shows the possible values for the <code>Level</code>
attribute. Each level includes those above it (for example, <code>WARNING</code>
includes <code>ERROR</code>). These values are defined as static constants in the
utility class <code>LogLevel</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG294"></a><a id="sthref119"></a><a id="gcixr"></a></p>
</div>
<div class="paragraph">
<p>Table 3-86 Log Configuration Logging Levels</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NONE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogLevel`</code>.``NONE`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No logging</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogLevel`</code>.``ERROR`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log error messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WARNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogLevel`</code>.``WARNING`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log warning messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INFO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogLevel`</code>.``INFO`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log informational messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNKNOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogLevel`</code>.``UNKNOWN`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logging level unknown</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gciqp"></a><a id="GMJMG00152"></a><a id="notification-5"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notification_6">Notification</h5>
<div class="paragraph">
<p>The log configuration MBean supports the notification shown in
<a href="#gbabt">Table 3-87</a>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG295"></a><a id="sthref120"></a><a id="gbabt"></a></p>
</div>
<div class="paragraph">
<p>Table 3-87 Log Configuration Notification</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmx.attribute.change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute value changed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gcane"></a><a id="GMJMG00197"></a><a id="log-monitor"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_log_monitor">Log Monitor</h4>
<div class="paragraph">
<p>Each broker has a single log monitor MBean, used for monitoring Message
Queue logging.</p>
</div>
<div class="paragraph">
<p><a id="gcist"></a><a id="GMJMG00153"></a><a id="object-name-23"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_24">Object Name</h5>
<div class="paragraph">
<p>The log monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=Log,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>LOG_MONITOR_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcipt"></a><a id="GMJMG00154"></a><a id="notifications-8"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notifications_9">Notifications</h5>
<div class="paragraph">
<p>The log monitor MBean supports the notifications shown in
<a href="#gbadp">Table 3-88</a>. These notifications are instances of the
Message Queue JMX class <code>LogNotification</code>, and their names are defined
as static utility constants in that class.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>A notification listener registered for a particular logging level will
receive notifications only for that level and not for those above or
below it: for example, a listener registered for the notification
<code>mq.log.level.WARNING</code> will be notified only of <code>WARNING</code> messages and
not <code>ERROR</code> or <code>INFO</code>. To receive notifications for more than one
logging level, the listener must be explicitly registered for each level
separately.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="GMJMG296"></a><a id="sthref121"></a><a id="gbadp"></a></p>
</div>
<div class="paragraph">
<p>Table 3-88 Log Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 40%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Utility Constant</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.log.level.ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogNotification`</code>.``LOG_LEVEL_ERROR`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error
message logged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.log.level.WARNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogNotification`</code>.``LOG_LEVEL_WARNING`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warning message logged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mq.log.level.INFO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LogNotification`</code>.``LOG_LEVEL_INFO`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Informational message logged</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#gcmzu">Table 3-89</a> shows the methods defined in class
<code>LogNotification</code> for obtaining details about a log monitor
notification.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG297"></a><a id="sthref122"></a><a id="gcmzu"></a></p>
</div>
<div class="paragraph">
<p>Table 3-89 Data Retrieval Methods for Log Monitor Notifications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Result Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getLevel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Logging level of logged message</p>
</div>
<div class="paragraph">
<p>See <a href="#gcixr">Table 3-86</a> for possible values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>getMessage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Body of logged message</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gbxrj"></a><a id="GMJMG00041"></a><a id="java-virtual-machine"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_java_virtual_machine">Java Virtual Machine</h3>
<div class="paragraph">
<p>This section describes the MBean used for monitoring the Java Virtual
Machine (JVM). The following subsection describes this MBean in detail.</p>
</div>
<div class="paragraph">
<p><a id="gcani"></a><a id="GMJMG00198"></a><a id="jvm-monitor"></a></p>
</div>
<div class="sect3">
<h4 id="_jvm_monitor">JVM Monitor</h4>
<div class="paragraph">
<p>Each broker has a single JVM monitor MBean, used for monitoring the Java
Virtual Machine (JVM).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This MBean is useful only with the Java Development Kit (JDK ) version
1.4 or lower. JDK version 1.5 includes built-in MBeans that provide more
detailed information on the state of the JVM.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="gcirn"></a><a id="GMJMG00155"></a><a id="object-name-24"></a></p>
</div>
<div class="sect4">
<h5 id="_object_name_25">Object Name</h5>
<div class="paragraph">
<p>The JVM monitor MBean has the following object name:</p>
</div>
<div class="paragraph">
<p><code>com.sun.messaging.jms.server:type=JVM,subtype=Monitor</code></p>
</div>
<div class="paragraph">
<p>A string representing this object name is defined as a static constant
<code>JVM_MONITOR_MBEAN_NAME</code> in the utility class <code>MQObjectName</code>.</p>
</div>
<div class="paragraph">
<p><a id="gcipk"></a><a id="GMJMG00156"></a><a id="attributes-16"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_17">Attributes</h5>
<div class="paragraph">
<p>The JVM monitor MBean has the attributes shown in <a href="#gbadq">Table
3-90</a>. The names of these attributes are defined as static constants in
the utility class <code>JVMAttributes</code>.</p>
</div>
<div class="paragraph">
<p><a id="GMJMG298"></a><a id="sthref123"></a><a id="gbadq"></a></p>
</div>
<div class="paragraph">
<p>Table 3-90 JVM Monitor Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11%;">
<col style="width: 38%;">
<col style="width: 6%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Settable?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TotalMemory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current total memory, in bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InitMemory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial heap size at JVM startup, in bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FreeMemory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of memory currently available for use,
in bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MaxMemory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum allowable heap size, in bytes</p>
</div>
<div class="paragraph">
<p>Any memory allocation attempt that would exceed this limit will cause an
<code>OutOfMemoryError</code> exception to be thrown.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="using-the-jmx-api.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="alphabetical-reference.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

</body>
</html>
